!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@outsystems/communication-js")):"function"==typeof define&&define.amd?define("@outsystems/auth-js",["exports","@outsystems/communication-js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@outsystems/auth-js"]={},e.communicationJs)}(this,(function(e,t){"use strict";var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function a(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function f(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{!function(e){e.value instanceof y?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:!1}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return E(t,e),t}function A(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function P(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function x(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function I(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var T="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function O(e){function t(t){e.error=e.hasError?new T(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}var U,N,M,R={__extends:r,__assign:o,__rest:i,__decorate:s,__param:a,__metadata:u,__awaiter:c,__generator:l,__createBinding:d,__exportStar:f,__values:h,__read:p,__spread:v,__spreadArrays:g,__spreadArray:m,__await:y,__asyncGenerator:w,__asyncDelegator:b,__asyncValues:S,__makeTemplateObject:_,__importStar:C,__importDefault:A,__classPrivateFieldGet:k,__classPrivateFieldSet:P,__classPrivateFieldIn:x,__addDisposableResource:I,__disposeResources:O},L=Object.freeze({__proto__:null,__extends:r,get __assign(){return o},__rest:i,__decorate:s,__param:a,__esDecorate:function(e,t,n,r,o,i){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?r.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),f=!1,h=n.length-1;h>=0;h--){var p={};for(var v in r)p[v]="access"===v?{}:r[v];for(var v in r.access)p.access[v]=r.access[v];p.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(e||null))};var g=(0,n[h])("accessor"===u?{get:d.get,set:d.set}:d[c],p);if("accessor"===u){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(d.get=a),(a=s(g.set))&&(d.set=a),(a=s(g.init))&&o.unshift(a)}else(a=s(g))&&("field"===u?o.unshift(a):d[c]=a)}l&&Object.defineProperty(l,r.name,d),f=!0},__runInitializers:function(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0},__propKey:function(e){return"symbol"==typeof e?e:"".concat(e)},__setFunctionName:function(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})},__metadata:u,__awaiter:c,__generator:l,__createBinding:d,__exportStar:f,__values:h,__read:p,__spread:v,__spreadArrays:g,__spreadArray:m,__await:y,__asyncGenerator:w,__asyncDelegator:b,__asyncValues:S,__makeTemplateObject:_,__importStar:C,__importDefault:A,__classPrivateFieldGet:k,__classPrivateFieldSet:P,__classPrivateFieldIn:x,__addDisposableResource:I,__disposeResources:O,default:R});function F(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function D(e){return void 0!==e.redirectSignIn}!function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(U||(U={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"}(N||(N={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(M||(M={}));var j,z=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},q=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},B=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},$={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(j||(j={}));var G,W,V,H,K,J,Y,Z,Q,X,ee,te,ne,re=function(){function e(e,t){void 0===t&&(t=j.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var s=this.level;if(e.LOG_LEVEL&&(s=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(s=window.LOG_LEVEL),$[t]>=$[s]){var a=console.log.bind(console);t===j.ERROR&&console.error&&(a=console.error.bind(console)),t===j.WARN&&console.warn&&(a=console.warn.bind(console));var u="[".concat(t,"] ").concat(this._ts()," ").concat(this.name),c="";if(1===o.length&&"string"==typeof o[0])a(c="".concat(u," - ").concat(o[0]));else if(1===o.length)c="".concat(u," ").concat(o[0]),a(u,o[0]);else if("string"==typeof o[0]){var l=o.slice(1);1===l.length&&(l=l[0]),c="".concat(u," - ").concat(o[0]," ").concat(l),a("".concat(u," - ").concat(o[0]),l)}else c="".concat(u," ").concat(o),a(u,o);try{for(var d=z(this._pluggables),f=d.next();!f.done;f=d.next()){var h=f.value,p={message:c,timestamp:Date.now()};h.pushLogs([p])}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,B([j.INFO],q(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,B([j.INFO],q(e),!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,B([j.WARN],q(e),!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,B([j.ERROR],q(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,B([j.DEBUG],q(e),!1))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,B([j.VERBOSE],q(e),!1))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),oe=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},ie=new re("Amplify"),se=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=re,this.ServiceWorker=null}return e.prototype.register=function(e){ie.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):ie.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),ie.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=oe(e,2);n[0];var r=n[1];Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}(),ae=new se;!function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"}(G||(G={})),function(e){e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"}(W||(W={})),function(e){e.Record="1",e.UpdateEndpoint="2"}(V||(V={})),function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"}(H||(H={})),function(e){e.FederatedSignIn="30"}(K||(K={})),function(e){e.Subscribe="1",e.GraphQl="2"}(J||(J={})),function(e){e.None="0"}(Y||(Y={})),function(e){e.None="0"}(Z||(Z={})),function(e){e.None="0"}(Q||(Q={})),function(e){e.Convert="1",e.Identify="2",e.Interpret="3"}(X||(X={})),function(e){e.Subscribe="1"}(ee||(ee={})),function(e){e.None="0"}(te||(te={})),function(e){e.Put="1",e.Get="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6"}(ne||(ne={}));var ue="5.3.11",ce=function(){return"undefined"!=typeof global},le=function(){return"undefined"!=typeof window},de=function(){return"undefined"!=typeof document},fe=function(){return"undefined"!=typeof process},he=function(e,t){return!!Object.keys(e).find((function(e){return e.startsWith(t)}))};var pe,ve=[{platform:G.Expo,detectionMethod:function(){return ce()&&void 0!==global.expo}},{platform:G.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:G.NextJs,detectionMethod:function(){return le()&&window.next&&"object"==typeof window.next}},{platform:G.Nuxt,detectionMethod:function(){return le()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:G.Angular,detectionMethod:function(){var e=Boolean(de()&&document.querySelector("[ng-version]")),t=Boolean(le()&&void 0!==window.ng);return e||t}},{platform:G.React,detectionMethod:function(){var e=function(e){return e.startsWith("_react")||e.startsWith("__react")};return de()&&Array.from(document.querySelectorAll("[id]")).some((function(t){return Object.keys(t).find(e)}))}},{platform:G.VueJs,detectionMethod:function(){return le()&&he(window,"__VUE")}},{platform:G.Svelte,detectionMethod:function(){return le()&&he(window,"__SVELTE")}},{platform:G.WebUnknown,detectionMethod:function(){return le()}},{platform:G.NextJsSSR,detectionMethod:function(){return ce()&&(he(global,"__next")||he(global,"__NEXT"))}},{platform:G.NuxtSSR,detectionMethod:function(){return ce()&&void 0!==global.__NUXT_PATHS__}},{platform:G.ReactSSR,detectionMethod:function(){return fe()&&void 0!==process.env&&!!Object.keys(process.env).find((function(e){return e.includes("react")}))}},{platform:G.VueJsSSR,detectionMethod:function(){return ce()&&he(global,"__VUE")}},{platform:G.AngularSSR,detectionMethod:function(){var e;return fe()&&"object"==typeof process.env&&(null===(e=process.env.npm_lifecycle_script)||void 0===e?void 0:e.startsWith("ng "))||!1}},{platform:G.SvelteSSR,detectionMethod:function(){return fe()&&void 0!==process.env&&!!Object.keys(process.env).find((function(e){return e.includes("svelte")}))}}];var ge=[],me=!1,ye=function(){if(!pe){if(pe=(null===(e=ve.find((function(e){return e.detectionMethod()})))||void 0===e?void 0:e.platform)||G.ServerSideUnknown,me)for(;ge.length;)ge.pop()();else ge.forEach((function(e){return e()}));be(G.ServerSideUnknown,10),be(G.WebUnknown,10)}var e;return pe},we=function(e){me||ge.push(e)};function be(e,t){pe!==e||me||setTimeout((function(){pe=void 0,me=!0,setTimeout(ye,1e3)}),t)}var Se=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},_e="aws-amplify",Ee=new(function(){function e(){this.userAgent="".concat(_e,"/").concat(ue)}return Object.defineProperty(e.prototype,"framework",{get:function(){return ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReactNative",{get:function(){return this.framework===G.ReactNative||this.framework===G.Expo},enumerable:!1,configurable:!0}),e.prototype.observeFrameworkChanges=function(e){we(e)},e}()),Ce=function(e){return function(e){var t=void 0===e?{}:e,n=t.category,r=t.action;t.framework;var o=[[_e,ue]];return n&&o.push([n,r]),o.push(["framework",ye()]),o}(e).map((function(e){var t=Se(e,2),n=t[0],r=t[1];return"".concat(n,"/").concat(r)})).join(" ")};new re("ClientDevice_Browser");var Ae=this&&this.__assign||function(){return Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ae.apply(this,arguments)},ke=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Pe=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},xe=new re("Hub"),Ie="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var Te=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype._remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void xe.warn("No listeners for ".concat(e));this.patterns=Pe([],ke(this.patterns.filter((function(e){return e!==n}))),!1)}else{var r=this.listeners[e];if(!r)return void xe.warn("No listeners for ".concat(e));this.listeners[e]=Pe([],ke(r.filter((function(e){return e.callback!==t}))),!1)}},e.prototype.remove=function(e,t){this._remove(e,t)},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===Ie||xe.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences")));var o={channel:e,payload:Ae({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(e){xe.error(e)}},e.prototype.listen=function(e,t,n){var r,o=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))xe.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var i=this.listeners[e];i||(i=[],this.listeners[e]=i),i.push({name:n,callback:r})}return function(){o._remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){xe.debug("Dispatching to ".concat(t," with "),n);try{r.callback(e)}catch(e){xe.error(e)}})),this.patterns.length>0){if(!n.message)return void xe.warn("Cannot perform pattern matching without a message key");var o=n.message;this.patterns.forEach((function(t){var n=o.match(t.pattern);if(n){var r=ke(n).slice(1),i=Ae(Ae({},e),{patternInfo:r});try{t.callback(i)}catch(e){xe.error(e)}}}))}},e}(),Oe=new Te("__default__"),Ue=this&&this.__assign||function(){return Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ue.apply(this,arguments)},Ne=new re("I18n"),Me=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),Ne.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),this._dict[e]=Ue(Ue({},n),t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),Re=new re("I18n"),Le=null,Fe=null,De=function(){function e(){}return e.configure=function(t){return Re.debug("configure I18n"),t?(Le=Object.assign({},Le,t.I18n||t),e.createInstance(),Le):Le},e.getModuleName=function(){return"I18n"},e.createInstance=function(){Re.debug("create I18n instance"),Fe||(Fe=new Me(Le))},e.setLanguage=function(t){return e.checkConfig(),Fe.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?Fe.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),Fe.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),Fe.putVocabularies(t)},e.checkConfig=function(){return Fe||(Fe=new Me(Le)),!0},e}();ae.register(De);var je=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}},ze=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Be=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},$e=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Ge=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},We=new re("Util"),Ve=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return ze(t,e),t}(Error);var He=3e5;function Ke(e){void 0===e&&(e=He);return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var Je=function(e,t,n,r){return void 0===n&&(n=He),function(e,t,n,r){return qe(this,void 0,void 0,(function(){var o=this;return Be(this,(function(i){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise((function(i,s){return qe(o,void 0,void 0,(function(){var o,a,u,c,l,d,f;return Be(this,(function(h){switch(h.label){case 0:o=0,a=!1,c=function(){},r&&r.then((function(){a=!0,clearTimeout(u),c()})),d=function(){var r,d,f,h;return Be(this,(function(p){switch(p.label){case 0:o++,We.debug("".concat(e.name," attempt #").concat(o," with this vars: ").concat(JSON.stringify(t))),p.label=1;case 1:return p.trys.push([1,3,,7]),r={},d=i,[4,e.apply(void 0,Ge([],$e(t),!1))];case 2:return[2,(r.value=d.apply(void 0,[p.sent()]),r)];case 3:return f=p.sent(),l=f,We.debug("error on ".concat(e.name),f),(v=f)&&v.nonRetryable?(We.debug("".concat(e.name," non retryable error"),f),[2,{value:s(f)}]):(h=n(o,t,f),We.debug("".concat(e.name," retrying in ").concat(h," ms")),!1===h||a?[2,{value:s(f)}]:[3,4]);case 4:return[4,new Promise((function(e){c=e,u=setTimeout(c,h)}))];case 5:p.sent(),p.label=6;case 6:return[3,7];case 7:return[2]}var v}))},h.label=1;case 1:return a?[3,3]:[5,d()];case 2:return"object"==typeof(f=h.sent())?[2,f.value]:[3,1];case 3:return s(l),[2]}}))}))}))]}))}))}(e,t,Ke(n),r)},Ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qe(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var Xe={};function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t,n){return t&&tt(e.prototype,t),n&&tt(e,n),e}Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.Observable=void 0;var rt=function(){return"function"==typeof Symbol},ot=function(e){return rt()&&Boolean(Symbol[e])},it=function(e){return ot(e)?Symbol[e]:"@@"+e};rt()&&!ot("observable")&&(Symbol.observable=Symbol("observable"));var st=it("iterator"),at=it("observable"),ut=it("species");function ct(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function lt(e){var t=e.constructor;return void 0!==t&&null===(t=t[ut])&&(t=void 0),void 0!==t?t:bt}function dt(e){return e instanceof bt}function ft(e){ft.log?ft.log(e):setTimeout((function(){throw e}))}function ht(e){Promise.resolve().then((function(){try{e()}catch(e){ft(e)}}))}function pt(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=ct(t,"unsubscribe");n&&n.call(t)}}catch(e){ft(e)}}function vt(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function gt(e,t,n){e._state="running";var r=e._observer;try{var o=ct(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(vt(e),!o)throw n;o.call(r,n);break;case"complete":vt(e),o&&o.call(r)}}catch(e){ft(e)}"closed"===e._state?pt(e):"running"===e._state&&(e._state="ready")}function mt(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void ht((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(gt(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void gt(e,t,n);e._queue.push({type:t,value:n})}}var yt=function(){function e(t,n){et(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var r=new wt(this);try{this._cleanup=n.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}return nt(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(vt(this),pt(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),wt=function(){function e(t){et(this,e),this._subscription=t}return nt(e,[{key:"next",value:function(e){mt(this._subscription,"next",e)}},{key:"error",value:function(e){mt(this._subscription,"error",e)}},{key:"complete",value:function(){mt(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),bt=function(){function e(t){if(et(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return nt(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new yt(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(lt(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(lt(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=lt(this),r=arguments.length>1,o=!1,i=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var s=!o;if(o=!0,!s||r)try{i=e(i,t)}catch(e){return n.error(e)}else i=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=lt(this);return new o((function(t){var r,i=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=lt(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),s()}});o.push(i)},error:function(e){r.error(e)},complete:function(){s()}});function s(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))}},{key:at,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=ct(t,at);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return dt(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(ot("iterator")&&(r=ct(t,st)))return new n((function(e){ht((function(){if(!e.closed){var n=!0,o=!1,i=void 0;try{for(var s,a=r.call(t)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;if(e.next(u),e.closed)return}}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){ht((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)((function(e){ht((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:ut,get:function(){return this}}]),e}();Xe.Observable=bt,rt()&&Object.defineProperty(bt,Symbol("extensions"),{value:{symbol:at,hostReportError:ft},configurable:!0}),Xe.Observable,this&&this.__values,this&&this.__read;var St=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Et=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Ct=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(){function e(){this._state=At.Open,this.jobs=new Set}e.prototype.add=function(t,n){var r,o;"string"==typeof t?(r=void 0,o=t):(r=t,o=n);var i=this.closedFailure(o);if(i)return i;if(void 0===r)return this.addHook(o);if("function"==typeof r)return this.addFunction(r,o);if(r instanceof e)return this.addManager(r,o);throw new Error("If `job` is provided, it must be an Observable, Function, or BackgroundProcessManager.")},e.prototype.addCleaner=function(e,t){var n=this,r=this.addHook(t),o=r.resolve,i=function(){return _t(n,void 0,void 0,(function(){return Et(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return t.sent(),o(),[2]}}))}))};return r.onTerminate.then(i),i},e.prototype.addFunction=function(e,t){var n,r=e(new Promise((function(e){n=e})));return"function"==typeof(null==r?void 0:r.then)&&this.registerPromise(r,n,t),r},e.prototype.addManager=function(e,t){var n=this;this.addCleaner((function(){return _t(n,void 0,void 0,(function(){return Et(this,(function(t){switch(t.label){case 0:return[4,e.close()];case 1:return[2,t.sent()]}}))}))}),t)},e.prototype.addHook=function(e){var t,n,r,o=new Promise((function(e,r){t=e,n=r})),i=new Promise((function(e){r=e}));return this.registerPromise(o,r,e),{resolve:t,reject:n,onTerminate:i}},e.prototype.registerPromise=function(e,t,n){var r=this,o={promise:e,terminate:t,description:n};this.jobs.add(o),e.then((function(){r.jobs.delete(o)})).catch((function(){r.jobs.delete(o)}))},Object.defineProperty(e.prototype,"length",{get:function(){return this.jobs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return Array.from(this.jobs).map((function(e){return e.description}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._state===At.Open},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClosing",{get:function(){return this._state===At.Closing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClosed",{get:function(){return this._state===At.Closed},enumerable:!1,configurable:!0}),e.prototype.closedFailure=function(e){if(!this.isOpen)return Promise.reject(new kt(["The manager is ".concat(this.state,"."),'You tried to add "'.concat(e,'".'),"Pending jobs: [\n".concat(this.pending.map((function(e){return"    "+e})).join(",\n"),"\n]")].join("\n")))},e.prototype.close=function(){return _t(this,void 0,void 0,(function(){var e,t,n,r,o;return Et(this,(function(i){switch(i.label){case 0:if(!this.isOpen)return[3,2];this._state=At.Closing;try{for(e=Ct(Array.from(this.jobs)),t=e.next();!t.done;t=e.next()){n=t.value;try{n.terminate()}catch(e){console.warn("Failed to send termination signal to job. Error: ".concat(e.message),n)}}}catch(e){r={error:e}}finally{try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(r)throw r.error}}return this._closingPromise=Promise.allSettled(Array.from(this.jobs).map((function(e){return e.promise}))),[4,this._closingPromise];case 1:i.sent(),this._state=At.Closed,i.label=2;case 2:return[2,this._closingPromise]}}))}))},e.prototype.open=function(){return _t(this,void 0,void 0,(function(){return Et(this,(function(e){switch(e.label){case 0:return this.isClosing?[4,this.close()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._state=At.Open,[2]}}))}))}}();var At,kt=function(e){function t(t){return e.call(this,"BackgroundManagerNotOpenError: ".concat(t))||this}return St(t,e),t}(Error);!function(e){e.Open="Open",e.Closing="Closing",e.Closed="Closed"}(At||(At={}));var Pt={},xt=Qe(L),It={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.MAX_HASHABLE_LENGTH=Tt.INIT=Tt.KEY=Tt.DIGEST_LENGTH=Tt.BLOCK_SIZE=void 0,Tt.BLOCK_SIZE=64,Tt.DIGEST_LENGTH=32,Tt.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tt.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Tt.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.RawSha256=void 0;var Ut=Tt,Nt=function(){function e(){this.state=Int32Array.from(Ut.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>Ut.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===Ut.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%Ut.BLOCK_SIZE>=Ut.BLOCK_SIZE-8){for(var r=this.bufferLength;r<Ut.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<Ut.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(Ut.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(Ut.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(Ut.DIGEST_LENGTH);for(r=0;r<8;r++)o[4*r]=this.state[r]>>>24&255,o[4*r+1]=this.state[r]>>>16&255,o[4*r+2]=this.state[r]>>>8&255,o[4*r+3]=this.state[r]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=0;l<Ut.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var d=this.temp[l-2],f=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[l-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[l]=(f+this.temp[l-7]|0)+(h+this.temp[l-16]|0)}var p=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&a^~s&u)|0)+(c+(Ut.KEY[l]+this.temp[l]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&o^r&o)|0;c=u,u=a,a=s,s=i+p|0,i=o,o=r,r=n,n=p+v|0}t[0]+=n,t[1]+=r,t[2]+=o,t[3]+=i,t[4]+=s,t[5]+=a,t[6]+=u,t[7]+=c},e}();Ot.RawSha256=Nt;var Mt={},Rt={};var Lt=Object.freeze({__proto__:null,fromUtf8:e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const o=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),toUtf8:e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const o=e[++n];t+=String.fromCharCode((31&r)<<6|63&o)}else if(240<=r&&r<365){const o="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)}),Ft=Qe(Lt);Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.convertToBuffer=void 0;var Dt=Ft,jt="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Dt.fromUtf8;Rt.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?jt(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)};var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.isEmptyData=void 0,zt.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength};var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.numToUint8=void 0,qt.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])};var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.uint32ArrayFrom=void 0,Bt.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Rt;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var n=zt;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return n.isEmptyData}});var r=qt;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return r.numToUint8}});var o=Bt;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})}(Mt),Object.defineProperty(It,"__esModule",{value:!0}),It.Sha256=void 0;var $t=xt,Gt=Tt,Wt=Ot,Vt=Mt,Ht=function(){function e(e){if(this.hash=new Wt.RawSha256,e){this.outer=new Wt.RawSha256;var t=function(e){var t=(0,Vt.convertToBuffer)(e);if(t.byteLength>Gt.BLOCK_SIZE){var n=new Wt.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(Gt.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(Gt.BLOCK_SIZE);n.set(t);for(var r=0;r<Gt.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,Vt.isEmptyData)(e)&&!this.error)try{this.hash.update((0,Vt.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,$t.__awaiter)(this,void 0,void 0,(function(){return(0,$t.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();It.Sha256=Ht,function(e){Object.defineProperty(e,"__esModule",{value:!0}),(0,xt.__exportStar)(It,e)}(Pt);for(var Kt={},Jt=0;Jt<256;Jt++){var Yt=Jt.toString(16).toLowerCase();1===Yt.length&&(Yt="0"+Yt),Kt[Jt]=Yt}function Zt(e){for(var t="",n=0;n<e.byteLength;n++)t+=Kt[e[n]];return t}this&&this.__read,this&&this.__read;var Qt=this&&this.__assign||function(){return Qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qt.apply(this,arguments)},Xt=this&&this.__assign||function(){return Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xt.apply(this,arguments)};this&&this.__rest,this&&this.__read;var en=this&&this.__assign||function(){return en=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},en.apply(this,arguments)},tn=this&&this.__assign||function(){return tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tn.apply(this,arguments)},nn=new re("Parser"),rn=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=tn(tn({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),nn.debug("parse config",e,"to amplifyconfig",n),n},on="3.6.1",sn={},an={},un={},cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.isEmptyData=void 0,cn.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength};var ln={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(ln);const dn={};var fn=Qe(Object.freeze({__proto__:null,locateWindow:function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:dn}}));Object.defineProperty(un,"__esModule",{value:!0}),un.Sha256=void 0;var hn=cn,pn=ln,vn=Ft,gn=fn,mn=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,gn.locateWindow)().msCrypto.subtle.importKey("raw",yn(e),pn.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,gn.locateWindow)().msCrypto.subtle.sign(pn.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,gn.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,hn.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(yn(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function yn(e){return"string"==typeof e?(0,vn.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}un.Sha256=mn;var wn={};Object.defineProperty(wn,"__esModule",{value:!0}),wn.Sha256=void 0;var bn=Mt,Sn=ln,_n=fn,En=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,_n.locateWindow)().crypto.subtle.importKey("raw",(0,bn.convertToBuffer)(e),Sn.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,bn.isEmptyData)(e)){var t=(0,bn.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,_n.locateWindow)().crypto.subtle.sign(Sn.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,bn.isEmptyData)(this.toHash)?Promise.resolve(Sn.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,_n.locateWindow)().crypto.subtle.digest(Sn.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();wn.Sha256=En;var Cn,An={},kn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),xt.__exportStar(function(){if(Cn)return kn;Cn=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.supportsZeroByteGCM=kn.supportsSubtleCrypto=kn.supportsSecureRandom=kn.supportsWebCrypto=void 0;var e=xt,t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function n(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function r(e){return e&&t.every((function(t){return"function"==typeof e[t]}))}return kn.supportsWebCrypto=function(e){return!(!n(e)||"object"!=typeof e.crypto.subtle)&&r(e.crypto.subtle)},kn.supportsSecureRandom=n,kn.supportsSubtleCrypto=r,kn.supportsZeroByteGCM=function(t){return e.__awaiter(this,void 0,void 0,(function(){var n;return e.__generator(this,(function(e){switch(e.label){case 0:if(!r(t))return[2,!1];e.label=1;case 1:return e.trys.push([1,4,,5]),[4,t.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return n=e.sent(),[4,t.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},n,new Uint8Array(0))];case 3:return[2,16===e.sent().byteLength];case 4:return e.sent(),[2,!1];case 5:return[2]}}))}))},kn}(),e)}(An);var Pn,xn={},In={};var Tn,On={};var Un,Nn={};var Mn,Rn={};var Ln,Fn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=xt;t.__exportStar((Pn||(Pn=1,Object.defineProperty(In,"__esModule",{value:!0})),In),e),t.__exportStar((Tn||(Tn=1,Object.defineProperty(On,"__esModule",{value:!0})),On),e),t.__exportStar((Un||(Un=1,Object.defineProperty(Nn,"__esModule",{value:!0})),Nn),e),t.__exportStar((Mn||(Mn=1,Object.defineProperty(Rn,"__esModule",{value:!0})),Rn),e),t.__exportStar(function(){if(Ln)return Fn;Ln=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];return Fn.isMsWindow=function(t){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(t)&&void 0!==t.msCrypto.subtle){var n=t.msCrypto,r=n.getRandomValues,o=n.subtle;return e.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1},Fn}(),e)}(xn),Object.defineProperty(an,"__esModule",{value:!0}),an.Sha256=void 0;var Dn=un,jn=wn,zn=Pt,qn=An,Bn=xn,$n=fn,Gn=function(){function e(e){(0,qn.supportsWebCrypto)((0,$n.locateWindow)())?this.hash=new jn.Sha256(e):(0,Bn.isMsWindow)((0,$n.locateWindow)())?this.hash=new Dn.Sha256(e):this.hash=new zn.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();an.Sha256=Gn,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0,(0,xt.__exportStar)(an,e);var t=un;Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return t.Sha256}});var n=wn;Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})}(sn);var Wn=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),Vn=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(o(o({},this),{headers:o({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return o(o({},e),((r={})[n]=Array.isArray(i)?v(i):i,r))}),{}))),n},e}();var Hn=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Kn)},Kn=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};for(var Jn=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var i=e.path;if(e.query){var s=function(e){var t,n,r=[];try{for(var o=h(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var s=i.value,a=e[s];if(s=Hn(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)r.push(s+"="+Hn(a[u]));else{var l=s;(a||"string"==typeof a)&&(l+="="+Hn(a)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query);s&&(i+="?"+s)}var a=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(a?":"+a:"")+i,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var d,f=new Request(c,l),p=[fetch(f).then((function(e){var t,n,r=e.headers,o={};try{for(var i=h(r.entries()),s=i.next();!s.done;s=i.next()){var a=s.value;o[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new Wn({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new Wn({headers:o,statusCode:e.status,body:t})}}))})),(d=r,void 0===d&&(d=0),new Promise((function(e,t){d&&setTimeout((function(){var e=new Error("Request did not complete within "+d+" ms");e.name="TimeoutError",t(e)}),d)})))];return n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(p)},e}(),Yn={},Zn=new Array(64),Qn=0,Xn="A".charCodeAt(0),er="Z".charCodeAt(0);Qn+Xn<=er;Qn++){var tr=String.fromCharCode(Qn+Xn);Yn[tr]=Qn,Zn[Qn]=tr}for(Qn=0,Xn="a".charCodeAt(0),er="z".charCodeAt(0);Qn+Xn<=er;Qn++){tr=String.fromCharCode(Qn+Xn);var nr=Qn+26;Yn[tr]=nr,Zn[nr]=tr}for(Qn=0;Qn<10;Qn++){Yn[Qn.toString(10)]=Qn+52;tr=Qn.toString(10),nr=Qn+52;Yn[tr]=nr,Zn[nr]=tr}Yn["+"]=62,Zn[62]="+",Yn["/"]=63,Zn[63]="/";var rr=6,or=8;function ir(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var i=0,s=0,a=o,u=o+3;a<=u;a++)"="!==e[a]?(i|=Yn[e[a]]<<(u-a)*rr,s+=rr):i>>=rr;var c=o/4*3;i>>=s%or;for(var l=Math.floor(s/or),d=0;d<l;d++){var f=(l-d-1)*or;r.setUint8(c+d,(i&255<<f)>>f)}}return new Uint8Array(n)}function sr(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),s=i>-1?i+1:o.length;t(o.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var ar={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ur=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return c(void 0,void 0,void 0,(function(){var o;return l(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=v(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),ar)}}},cr=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],lr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],dr=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],fr=[500,502,503,504],hr=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||lr.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},pr={},vr={get exports(){return pr},set exports(e){pr=e}},gr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(gr){var mr=new Uint8Array(16);vr.exports=function(){return gr(mr),mr}}else{var yr=new Array(16);vr.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),yr[t]=e>>>((3&t)<<3)&255;return yr}}for(var wr=[],br=0;br<256;++br)wr[br]=(br+256).toString(16).substr(1);var Sr,_r,Er=function(e,t){var n=t||0,r=wr;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},Cr=pr,Ar=Er,kr=0,Pr=0;var xr=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||Sr,s=void 0!==e.clockseq?e.clockseq:_r;if(null==i||null==s){var a=Cr();null==i&&(i=Sr=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=_r=16383&(a[6]<<8|a[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:Pr+1,l=u-kr+(c-Pr)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||u>kr)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");kr=u,Pr=c,_r=s;var d=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var f=u/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var h=0;h<6;++h)o[r+h]=i[h];return t||Ar(o)},Ir=pr,Tr=Er;var Or=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Ir)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||Tr(o)},Ur=xr,Nr=Or,Mr=Nr;Mr.v1=Ur,Mr.v4=Nr;var Rr=Mr,Lr=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Fr=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return cr.includes(e.name)}(e)||hr(e)||function(e){var t;return dr.includes(e.name)||fr.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Dr=function(){function e(e,t){var n,r,o,i,s,a,u,c;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Fr,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Lr,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(s=i=500,a=i,u=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return u(e)<=a},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=u(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,s)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return c(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c;return l(this,(function(d){switch(d.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:i=d.sent(),s=t.request,Vn.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=Rr.v4()),a=function(){var a,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,5]),Vn.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+i),[4,e(t)];case 1:return a=l.sent(),c=a.response,d=a.output,u.retryQuota.releaseRetryTokens(n),d.$metadata.attempts=r+1,d.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:d}}];case 2:return f=l.sent(),r++,u.shouldRetry(f,r,i)?(n=u.retryQuota.retrieveRetryTokens(f),h=u.delayDecider(hr(f)?500:100,r),o+=h,[4,new Promise((function(e){return setTimeout(e,h)}))]):[3,4];case 3:return l.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=o,f;case 5:return[2]}}))},u=this,d.label=2;case 2:return[5,a()];case 3:return"object"==typeof(c=d.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}(),jr=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};var zr={};!function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),s=Math.max(o,i),a=0,u=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(o,i)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var a=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=u(n(92)),o=u(n(93)),i=u(n(94)),s=u(n(95)),a=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(o[t]=s,i+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),u=a.default.find(s,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(i>0){var f=Object.keys(o),h=a.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(o[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=a.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})}({get exports(){return zr},set exports(e){zr=e}});var qr=Ze(zr);var Br="logs.{region}.amazonaws.com",$r=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Gr=new Set(["cn-north-1","cn-northwest-1"]),Wr=new Set(["us-iso-east-1"]),Vr=new Set(["us-isob-east-1"]),Hr=new Set(["us-gov-east-1","us-gov-west-1"]);var Kr,Jr,Yr,Zr,Qr={apiVersion:"2014-03-28",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"logs.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"logs.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"logs.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"logs.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"logs.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"logs.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"logs.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"logs.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"logs.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"logs.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"logs.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"logs.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"logs.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"logs.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"logs.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"logs.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"logs-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"logs-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"logs-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"logs-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"logs.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"logs.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"logs.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"logs.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"logs.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"logs.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"logs.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"logs.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"logs.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"logs.us-west-2.amazonaws.com",partition:"aws"};break;default:$r.has(e)&&(n={hostname:Br.replace("{region}",e),partition:"aws"}),Gr.has(e)&&(n={hostname:"logs.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Wr.has(e)&&(n={hostname:"logs.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Vr.has(e)&&(n={hostname:"logs.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Hr.has(e)&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Br.replace("{region}",e),partition:"aws"})}return Promise.resolve(o({signingService:"logs"},n))},serviceId:"CloudWatch Logs",urlParser:function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,i=n.port,s=n.protocol,a=n.search;return a&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=h(e.split("&")),i=o.next();!i.done;i=o.next()){var s=p(i.value.split("="),2),a=s[0],u=s[1],c=void 0===u?null:u;a=decodeURIComponent(a),c&&(c=decodeURIComponent(c)),a in r?Array.isArray(r[a])?r[a].push(c):r[a]=[r[a],c]:r[a]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(a)),{hostname:r,port:i?parseInt(i):void 0,protocol:s,path:o,query:t}}},Xr=o(o({},Qr),{runtime:"browser",base64Decoder:ir,base64Encoder:function(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,i=n,s=Math.min(n+3,e.length);i<s;i++)r|=e[i]<<(s-i-1)*or,o+=or;var a=Math.ceil(o/rr);r<<=a*rr-o;for(var u=1;u<=a;u++){var c=(a-u)*rr;t+=Zn[(r&63<<c)>>c]}t+="==".slice(0,4-a)}return t},bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(Jr={serviceId:Qr.serviceId,clientVersion:on},Yr=Jr.serviceId,Zr=Jr.clientVersion,function(){return c(void 0,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u;return l(this,(function(c){return e=(null===(n=null===window||void 0===window?void 0:window.navigator)||void 0===n?void 0:n.userAgent)?qr.parse(window.navigator.userAgent):void 0,t=[["aws-sdk-js",Zr],["os/"+((null===(r=null==e?void 0:e.os)||void 0===r?void 0:r.name)||"other"),null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.version],["lang/js"],["md/browser",(null!==(s=null===(i=null==e?void 0:e.browser)||void 0===i?void 0:i.name)&&void 0!==s?s:"unknown")+"_"+(null!==(u=null===(a=null==e?void 0:e.browser)||void 0===a?void 0:a.version)&&void 0!==u?u:"unknown")]],Yr&&t.push(["api/"+Yr,Zr]),[2,t]}))}))}),maxAttempts:3,region:(Kr="Region is missing",function(){return Promise.reject(Kr)}),requestHandler:new Jn,sha256:sn.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return c(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return[4,sr(e)];case 1:return t=r.sent(),n=ir(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return c(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return l(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(s=o.value)&&(a=t,(t=new Uint8Array(a.length+s.length)).set(a),t.set(s,a.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var s="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),eo=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},to=function(e){return c(void 0,void 0,void 0,(function(){var t,n,r,o,i;return l(this,(function(s){switch(s.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=s.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},no=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},ro="content-length";var oo={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},io=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return c(t,void 0,void 0,(function(){var t,i,s,a,u;return l(this,(function(c){return t=r.request,Vn.isInstance(t)&&(i=t.body,s=t.headers,i&&-1===Object.keys(s).map((function(e){return e.toLowerCase()})).indexOf(ro)&&void 0!==(a=e(i))&&(t.headers=o(o({},t.headers),((u={})[ro]=String(a),u)))),[2,n(o(o({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),oo)}}};var so={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ao=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return c(void 0,void 0,void 0,(function(){var r,o;return l(this,(function(i){return Vn.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),so)}}},uo={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},co=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return c(void 0,void 0,void 0,(function(){var r,o,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=t.clientName,o=t.commandName,s=t.inputFilterSensitiveLog,a=t.logger,u=t.outputFilterSensitiveLog,[4,e(n)];case 1:return c=l.sent(),a?("function"==typeof a.info&&(d=c.output,f=d.$metadata,h=i(d,["$metadata"]),a.info({clientName:r,commandName:o,input:s(n.input),output:u(h),metadata:f})),[2,c]):[2,c]}}))}))}}),uo)}}},lo="X-Amz-Date",fo="X-Amz-Signature",ho="X-Amz-Security-Token",po="authorization",vo=lo.toLowerCase(),go=[po,vo,"date"],mo=fo.toLowerCase(),yo="x-amz-content-sha256",wo=ho.toLowerCase(),bo={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},So=/^proxy-/,_o=/^sec-/,Eo="AWS4-HMAC-SHA256",Co="AWS4-HMAC-SHA256-PAYLOAD",Ao="aws4_request",ko={},Po=[];function xo(e,t,n){return e+"/"+t+"/"+n+"/"+Ao}function Io(e,t,n){var r=new e(t);return r.update(n),r.digest()}function To(e,t,n){var r,o,i=e.headers,s={};try{for(var a=h(Object.keys(i).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,l=c.toLowerCase();(l in bo||(null==t?void 0:t.has(l))||So.test(l)||_o.test(l))&&(!n||n&&!n.has(l))||(s[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return s}function Oo(e,t){var n=e.headers,r=e.body;return c(this,void 0,void 0,(function(){var e,o,i,s,a,u,c;return l(this,(function(l){switch(l.label){case 0:try{for(e=h(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===yo)return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(d=r,"function"==typeof ArrayBuffer&&d instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(d))?((s=new t).update(r),a=Zt,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var d}))}))}function Uo(e){var t=e.headers,n=e.query,r=i(e,["headers","query"]);return o(o({},r),{headers:o({},t),query:n?No(n):void 0})}function No(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return o(o({},t),((r={})[n]=Array.isArray(i)?v(i):i,r))}),{})}function Mo(e){var t,n;e="function"==typeof e.clone?e.clone():Uo(e);try{for(var r=h(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;go.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function Ro(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var Lo=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=jo(r),this.credentialProvider=zo(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),c(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,p,v,g,m,y,w,b,S,_,E,C,A,k,P,x;return l(this,(function(l){switch(l.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,s=void 0===i?3600:i,a=t.unsignableHeaders,u=t.unhoistableHeaders,c=t.signableHeaders,d=t.signingRegion,f=t.signingService,[4,this.credentialProvider()];case 1:return p=l.sent(),null==d?[3,2]:(g=d,[3,4]);case 2:return[4,this.regionProvider()];case 3:g=l.sent(),l.label=4;case 4:return v=g,m=Fo(r),y=m.longDate,w=m.shortDate,s>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(b=xo(w,v,null!=f?f:this.service),S=function(e,t){var n,r,i;void 0===t&&(t={});var s="function"==typeof e.clone?e.clone():Uo(e),a=s.headers,u=s.query,c=void 0===u?{}:u;try{for(var l=h(Object.keys(a)),d=l.next();!d.done;d=l.next()){var f=d.value,p=f.toLowerCase();"x-amz-"!==p.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(p))||(c[f]=a[f],delete a[f])}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o(o({},e),{headers:a,query:c})}(Mo(e),{unhoistableHeaders:u}),p.sessionToken&&(S.query[ho]=p.sessionToken),S.query["X-Amz-Algorithm"]=Eo,S.query["X-Amz-Credential"]=p.accessKeyId+"/"+b,S.query[lo]=y,S.query["X-Amz-Expires"]=s.toString(10),_=To(S,a,c),S.query["X-Amz-SignedHeaders"]=Do(_),E=S.query,C=fo,A=this.getSignature,k=[y,b,this.getSigningKey(p,v,w,f)],P=this.createCanonicalRequest,x=[S,_],[4,Oo(e,this.sha256)]);case 5:return[4,A.apply(this,k.concat([P.apply(this,x.concat([l.sent()]))]))];case 6:return E[C]=l.sent(),[2,S]}}))}))},e.prototype.sign=function(e,t){return c(this,void 0,void 0,(function(){return l(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return c(this,void 0,void 0,(function(){var e,t,o,c,d,f,h,p,v,g,m;return l(this,(function(l){switch(l.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=l.sent(),l.label=3;case 3:return e=t,o=Fo(i),c=o.shortDate,d=o.longDate,f=xo(c,e,null!=u?u:this.service),[4,Oo({headers:{},body:r},this.sha256)];case 4:return h=l.sent(),(p=new this.sha256).update(n),g=Zt,[4,p.digest()];case 5:return v=g.apply(void 0,[l.sent()]),m=[Co,d,f,s,v,h].join("\n"),[2,this.signString(m,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,s=n.signingService;return c(this,void 0,void 0,(function(){var t,n,r,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:return[4,this.credentialProvider()];case 1:return t=l.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=l.sent(),l.label=4;case 4:return n=r,a=Fo(o).shortDate,d=(c=this.sha256).bind,[4,this.getSigningKey(t,n,a,s)];case 5:return(u=new(d.apply(c,[void 0,l.sent()]))).update(e),f=Zt,[4,u.digest()];case 6:return[2,f.apply(void 0,[l.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,s=n.unsignableHeaders,a=n.signingRegion,u=n.signingService;return c(this,void 0,void 0,(function(){var t,n,r,c,d,f,p,v,g,m,y;return l(this,(function(l){switch(l.label){case 0:return[4,this.credentialProvider()];case 1:return t=l.sent(),null==a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=l.sent(),l.label=4;case 4:return n=r,c=Mo(e),d=Fo(o),f=d.longDate,p=d.shortDate,v=xo(p,n,null!=u?u:this.service),c.headers[vo]=f,t.sessionToken&&(c.headers[wo]=t.sessionToken),[4,Oo(c,this.sha256)];case 5:return g=l.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=h(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(yo,c.headers)&&this.applyChecksum&&(c.headers[yo]=g),m=To(c,s,i),[4,this.getSignature(f,v,this.getSigningKey(t,n,p,u),this.createCanonicalRequest(c,m,g))];case 6:return y=l.sent(),c.headers[po]=Eo+" Credential="+t.accessKeyId+"/"+v+", SignedHeaders="+Do(m)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],s={},a=function(e){if(e.toLowerCase()===mo)return"continue";i.push(e);var t=o[e];"string"==typeof t?s[e]=Hn(e)+"="+Hn(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Hn(e)+"="+Hn(n)])}),[]).join("&"))};try{for(var u=h(Object.keys(o).sort()),c=u.next();!c.done;c=u.next())a(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return c(this,void 0,void 0,(function(){var r,o;return l(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,Eo+"\n"+e+"\n"+t+"\n"+Zt(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return c(this,void 0,void 0,(function(){var o,i,s,a,u;return l(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),a=(s=this.sha256).bind,[4,n];case 2:return(i=new(a.apply(s,[void 0,c.sent()]))).update(o),u=Zt,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return c(void 0,void 0,void 0,(function(){var i,s,a,u,c,d,f,p,v;return l(this,(function(l){switch(l.label){case 0:return[4,Io(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=l.sent(),(s=n+":"+r+":"+o+":"+Zt(i)+":"+t.sessionToken)in ko)return[2,ko[s]];for(Po.push(s);Po.length>50;)delete ko[Po.shift()];a="AWS4"+t.secretAccessKey,l.label=2;case 2:l.trys.push([2,7,8,9]),u=h([n,r,o,Ao]),c=u.next(),l.label=3;case 3:return c.done?[3,6]:(d=c.value,[4,Io(e,a,d)]);case 4:a=l.sent(),l.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=l.sent(),p={error:f},[3,9];case 8:try{c&&!c.done&&(v=u.return)&&v.call(u)}finally{if(p)throw p.error}return[7];case 9:return[2,ko[s]=a]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),Fo=function(e){var t=Ro(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},Do=function(e){return Object.keys(e).sort().join(";")},jo=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},zo=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function qo(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var Bo=function(e){return new Date(Date.now()+e)};function $o(e){return function(t,n){return function(r){return c(this,void 0,void 0,(function(){var i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return Vn.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return s=l.sent(),[3,3];case 2:s=e.signer,l.label=3;case 3:return i=s,u=t,c=[o({},r)],p={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,u.apply(void 0,[o.apply(void 0,c.concat([(p.request=l.sent(),p)]))])];case 5:return a=l.sent(),d=a.response.headers,(f=d&&(d.date||d.Date))&&(h=Date.parse(f),v=h,g=e.systemClockOffset,Math.abs(Bo(g).getTime()-v)>=3e5&&(e.systemClockOffset=h-Date.now())),[2,a]}var v,g}))}))}}}var Go={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var Wo="user-agent",Vo=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Ho=function(e){var t=p(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),s=n.substring(o+1);return"api"===i&&(s=s.toLowerCase()),[i,s,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Vo,"_")})).join("/")},Ko={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Jo=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return c(void 0,void 0,void 0,(function(){var i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return i=r.request,Vn.isInstance(i)?(s=i.headers,a=(null===(f=null==t?void 0:t.userAgent)||void 0===f?void 0:f.map(Ho))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return u=l.sent().map(Ho),c=(null===(h=null==n?void 0:n.customUserAgent)||void 0===h?void 0:h.map(Ho))||[],s["x-amz-user-agent"]=v(u,a,c).join(" "),d=v(u.filter((function(e){return e.startsWith("aws-sdk-")})),c).join(" "),"browser"!==n.runtime&&d&&(s[Wo]=s[Wo]?s[Wo]+" "+d:d),[2,e(o(o({},r),{request:i}))]}}))}))}}),Ko)}}},Yo=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,o({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,o({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,v(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,v(i(e)))})),t},s=function(){var n,r=[],s=[],a={};return e.forEach((function(e){var t=o(o({},e),{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),t.forEach((function(e){var t=o(o({},e),{before:[],after:[]});t.name&&(a[t.name]=t),s.push(t)})),s.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(n=r,n.sort((function(e,t){return Zo[t.step]-Zo[e.step]||Qo[t.priority||"normal"]-Qo[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,v(t)),e}),[]).map((function(e){return e.middleware}))},a={add:function(t,r){void 0===r&&(r={});var i=r.name,s=r.override,a=o({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!s)throw new Error("Duplicate middleware name '"+i+"'");var u=e.findIndex((function(e){return e.name===i})),c=e[u];if(c.step!==a.step||c.priority!==a.priority)throw new Error('"'+i+'" middleware with '+c.priority+" priority in "+c.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(u,1)}n.add(i)}e.push(a)},addRelativeTo:function(e,r){var i=r.name,s=r.override,a=o({middleware:e},r);if(i){if(n.has(i)){if(!s)throw new Error("Duplicate middleware name '"+i+"'");var u=t.findIndex((function(e){return e.name===i})),c=t[u];if(c.toMiddleware!==a.toMiddleware||c.relation!==a.relation)throw new Error('"'+i+'" middleware '+c.relation+' "'+c.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(u,1)}n.add(i)}t.push(a)},clone:function(){return r(Yo())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(Yo());return t.use(e),t},applyToStack:r,resolve:function(e,t){var n,r;try{for(var o=h(s().reverse()),i=o.next();!i.done;i=o.next()){e=(0,i.value)(e,t)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e}};return a},Zo={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Qo={high:3,normal:2,low:1},Xo=function(){function e(e){this.middlewareStack=Yo(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),ei=function(){this.middlewareStack=Yo()},ti=function(){var e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,v([null],arguments)));return Object.setPrototypeOf(t,e.prototype),t};ti.prototype=Object.create(String.prototype,{constructor:{value:ti,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(ti,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(ti);var ni,ri,oi,ii,si,ai,ui,ci,li,di,fi,hi,pi,vi,gi,mi,yi,wi,bi,Si,_i,Ei,Ci,Ai,ki,Pi,xi,Ii,Ti,Oi,Ui,Ni,Mi,Ri,Li,Fi,Di,ji,zi,qi,Bi,$i,Gi,Wi,Vi,Hi,Ki,Ji,Yi,Zi,Qi,Xi,es,ts,ns,rs,os,is,ss,as,us,cs,ls,ds,fs,hs,ps,vs,gs,ms,ys,ws,bs,Ss,_s,Es,Cs,As,ks,Ps,xs,Is,Ts,Os,Us,Ns,Ms,Rs,Ls,Fs,Ds,js,zs,qs,Bs,$s,Gs,Ws,Vs,Hs,Ks,Js,Ys,Zs,Qs=function(e){function t(t){var n,r,i,s=this,a=function(e){if(!e.region)throw new Error("Region is missing");return o(o({},e),{region:no(e.region)})}(o(o({},Xr),t)),u=function(e){var t;return o(o({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?eo(e):function(){return to(e)},isCustomEndpoint:!!e.endpoint})}(a),d=function(e){var t,n=this,r=qo(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,s=void 0===i||i,a=e.systemClockOffset,u=void 0===a?e.systemClockOffset||0:a,d=e.sha256;return t=e.signer?qo(e.signer):function(){return qo(e.region)().then((function(t){return c(n,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=p(t,2),o=n[0],i=n[1],a=o.signingRegion,u=o.signingService;return e.signingRegion=e.signingRegion||a||i,e.signingName=e.signingName||u||e.serviceId,new Lo({credentials:r,region:e.signingRegion,service:e.signingName,sha256:d,uriEscapePath:s})}))},o(o({},e),{systemClockOffset:u,signingEscapePath:s,credentials:r,signer:t})}(u),f=function(e){return o(o({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}((r=jr((n=d).maxAttempts),o(o({},n),{maxAttempts:r,retryStrategy:n.retryStrategy||new Dr(r)})));return(s=e.call(this,f)||this).config=f,s.middlewareStack.use((i=s.config,{applyToStack:function(e){e.addRelativeTo($o(i),Go)}})),s.middlewareStack.use(ur(s.config)),s.middlewareStack.use(io(s.config)),s.middlewareStack.use(ao(s.config)),s.middlewareStack.use(co(s.config)),s.middlewareStack.use(Jo(s.config)),s}return r(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Xo);!function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ni||(ni={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ri||(ri={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(oi||(oi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ii||(ii={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(si||(si={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ai||(ai={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ui||(ui={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ci||(ci={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(li||(li={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(di||(di={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(fi||(fi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(hi||(hi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(pi||(pi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(vi||(vi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(gi||(gi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(mi||(mi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(yi||(yi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(wi||(wi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(bi||(bi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Si||(Si={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(_i||(_i={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ei||(Ei={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ci||(Ci={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ai||(Ai={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ki||(ki={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Pi||(Pi={})),function(e){e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PENDING="PENDING",e.PENDING_CANCEL="PENDING_CANCEL",e.RUNNING="RUNNING"}(xi||(xi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ii||(Ii={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ti||(Ti={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Oi||(Oi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ui||(Ui={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ni||(Ni={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Mi||(Mi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ri||(Ri={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Li||(Li={})),function(e){e.LastEventTime="LastEventTime",e.LogStreamName="LogStreamName"}(Fi||(Fi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Di||(Di={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ji||(ji={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(zi||(zi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(qi||(qi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Bi||(Bi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}($i||($i={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Gi||(Gi={})),function(e){e.Cancelled="Cancelled",e.Complete="Complete",e.Failed="Failed",e.Running="Running",e.Scheduled="Scheduled"}(Wi||(Wi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Vi||(Vi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Hi||(Hi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ki||(Ki={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ji||(Ji={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Yi||(Yi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Zi||(Zi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Qi||(Qi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Xi||(Xi={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(es||(es={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ts||(ts={})),function(e){e.ByLogStream="ByLogStream",e.Random="Random"}(ns||(ns={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(rs||(rs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(os||(os={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(is||(is={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ss||(ss={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(as||(as={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(us||(us={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(cs||(cs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ls||(ls={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ds||(ds={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(fs||(fs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(hs||(hs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ps||(ps={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(vs||(vs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(gs||(gs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ms||(ms={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ys||(ys={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ws||(ws={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(bs||(bs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ss||(Ss={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(_s||(_s={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Es||(Es={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Cs||(Cs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(As||(As={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(ks||(ks={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ps||(Ps={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(xs||(xs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Is||(Is={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ts||(Ts={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Os||(Os={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Us||(Us={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ns||(Ns={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ms||(Ms={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Rs||(Rs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ls||(Ls={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Fs||(Fs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ds||(Ds={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(js||(js={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(zs||(zs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(qs||(qs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Bs||(Bs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}($s||($s={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Gs||(Gs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ws||(Ws={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Vs||(Vs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Hs||(Hs={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ks||(Ks={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Js||(Js={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Ys||(Ys={})),function(e){e.filterSensitiveLog=function(e){return o({},e)}}(Zs||(Zs={}));var Xs=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},ea=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidOperationException":case"com.amazonaws.cloudwatchlogs#InvalidOperationException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,Ba(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,$a(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},ta=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p,v,g;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],g={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(g.body=l.sent(),g)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,12]}return[3,14];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 4:return u=[{}],[4,Wa(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 6:return c=[{}],[4,Ha(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 8:return d=[{}],[4,Ka(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 10:return f=[{}],[4,Ja(n)];case 11:return i=o.apply(void 0,[o.apply(void 0,f.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 12:return h=[{}],[4,Ya(n)];case 13:return i=o.apply(void 0,[o.apply(void 0,h.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 14:p=n.body,s=p.code||p.Code||s,i=o(o({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:ol(e)}),l.label=15;case 15:return v=i.message||i.Message||s,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},na=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p,v;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],v={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(v.body=l.sent(),v)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 4:return u=[{}],[4,Wa(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 6:return c=[{}],[4,Ha(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 8:return d=[{}],[4,Ka(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 10:return f=[{}],[4,Ya(n)];case 11:return i=o.apply(void 0,[o.apply(void 0,f.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 12:h=n.body,s=h.code||h.Code||s,i=o(o({},h),{name:""+s,message:h.message||h.Message||s,$fault:"client",$metadata:ol(e)}),l.label=13;case 13:return p=i.message||i.Message||s,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}}))}))},ra=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ka(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},oa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},ia=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},sa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},aa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},ua=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},ca=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},la=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},da=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},fa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],f={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(f.body=l.sent(),f)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 4:return u=[{}],[4,Ya(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 6:c=n.body,s=c.code||c.Code||s,i=o(o({},c),{name:""+s,message:c.message||c.Message||s,$fault:"client",$metadata:ol(e)}),l.label=7;case 7:return d=i.message||i.Message||s,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},ha=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],f={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(f.body=l.sent(),f)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 4:return u=[{}],[4,Ya(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 6:c=n.body,s=c.code||c.Code||s,i=o(o({},c),{name:""+s,message:c.message||c.Message||s,$fault:"client",$metadata:ol(e)}),l.label=7;case 7:return d=i.message||i.Message||s,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},pa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],f={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(f.body=l.sent(),f)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 4:return u=[{}],[4,Ya(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 6:c=n.body,s=c.code||c.Code||s,i=o(o({},c),{name:""+s,message:c.message||c.Message||s,$fault:"client",$metadata:ol(e)}),l.label=7;case 7:return d=i.message||i.Message||s,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},va=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},ga=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},ma=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},ya=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],f={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(f.body=l.sent(),f)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 4:return u=[{}],[4,Ya(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 6:c=n.body,s=c.code||c.Code||s,i=o(o({},c),{name:""+s,message:c.message||c.Message||s,$fault:"client",$metadata:ol(e)}),l.label=7;case 7:return d=i.message||i.Message||s,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},wa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],f={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(f.body=l.sent(),f)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 4:return u=[{}],[4,Ya(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 6:c=n.body,s=c.code||c.Code||s,i=o(o({},c),{name:""+s,message:c.message||c.Message||s,$fault:"client",$metadata:ol(e)}),l.label=7;case 7:return d=i.message||i.Message||s,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},ba=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Sa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},_a=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Ea=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Ca=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Wa(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},Aa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Wa(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},ka=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Pa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],f={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(f.body=l.sent(),f)])),s="UnknownError",s=ul(e,n.body),s){case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,Ja(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 4:return u=[{}],[4,Ya(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 6:c=n.body,s=c.code||c.Code||s,i=o(o({},c),{name:""+s,message:c.message||c.Message||s,$fault:"client",$metadata:ol(e)}),l.label=7;case 7:return d=i.message||i.Message||s,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},xa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Ia=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Ta=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p,v,g;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],g={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(g.body=l.sent(),g)])),s="UnknownError",s=ul(e,n.body),s){case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10];case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":return[3,12]}return[3,14];case 2:return a=[{}],[4,qa(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 4:return u=[{}],[4,$a(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 6:return c=[{}],[4,Ga(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 8:return d=[{}],[4,Ja(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 10:return f=[{}],[4,Ya(n)];case 11:return i=o.apply(void 0,[o.apply(void 0,f.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 12:return h=[{}],[4,Za(n)];case 13:return i=o.apply(void 0,[o.apply(void 0,h.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,15];case 14:p=n.body,s=p.code||p.Code||s,i=o(o({},p),{name:""+s,message:p.message||p.Message||s,$fault:"client",$metadata:ol(e)}),l.label=15;case 15:return v=i.message||i.Message||s,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},Oa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p,v;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],v={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(v.body=l.sent(),v)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 4:return u=[{}],[4,Wa(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 6:return c=[{}],[4,Ha(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 8:return d=[{}],[4,Ja(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 10:return f=[{}],[4,Ya(n)];case 11:return i=o.apply(void 0,[o.apply(void 0,f.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 12:h=n.body,s=h.code||h.Code||s,i=o(o({},h),{name:""+s,message:h.message||h.Message||s,$fault:"client",$metadata:ol(e)}),l.label=13;case 13:return p=i.message||i.Message||s,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}}))}))},Ua=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Na=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Wa(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Ma=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],p={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(p.body=l.sent(),p)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 4:return u=[{}],[4,Ha(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 6:return c=[{}],[4,Ja(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 8:return d=[{}],[4,Ya(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,11];case 10:f=n.body,s=f.code||f.Code||s,i=o(o({},f),{name:""+s,message:f.message||f.Message||s,$fault:"client",$metadata:ol(e)}),l.label=11;case 11:return h=i.message||i.Message||s,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},Ra=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p,v;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],v={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(v.body=l.sent(),v)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 4:return u=[{}],[4,Wa(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 6:return c=[{}],[4,Ha(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 8:return d=[{}],[4,Ja(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 10:return f=[{}],[4,Ya(n)];case 11:return i=o.apply(void 0,[o.apply(void 0,f.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 12:h=n.body,s=h.code||h.Code||s,i=o(o({},h),{name:""+s,message:h.message||h.Message||s,$fault:"client",$metadata:ol(e)}),l.label=13;case 13:return p=i.message||i.Message||s,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}}))}))},La=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h,p,v;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],v={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(v.body=l.sent(),v)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"MalformedQueryException":case"com.amazonaws.cloudwatchlogs#MalformedQueryException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 4:return u=[{}],[4,Wa(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 6:return c=[{}],[4,Va(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 8:return d=[{}],[4,Ja(n)];case 9:return i=o.apply(void 0,[o.apply(void 0,d.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 10:return f=[{}],[4,Ya(n)];case 11:return i=o.apply(void 0,[o.apply(void 0,f.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,13];case 12:h=n.body,s=h.code||h.Code||s,i=o(o({},h),{name:""+s,message:h.message||h.Message||s,$fault:"client",$metadata:ol(e)}),l.label=13;case 13:return p=i.message||i.Message||s,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}}))}))},Fa=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f,h;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],h={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(h.body=l.sent(),h)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 6:return c=[{}],[4,Ya(n)];case 7:return i=o.apply(void 0,[o.apply(void 0,c.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,9];case 8:d=n.body,s=d.code||d.Code||s,i=o(o({},d),{name:""+s,message:d.message||d.Message||s,$fault:"client",$metadata:ol(e)}),l.label=9;case 9:return f=i.message||i.Message||s,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Da=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],f={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(f.body=l.sent(),f)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4]}return[3,6];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 4:return u=[{}],[4,Ja(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 6:c=n.body,s=c.code||c.Code||s,i=o(o({},c),{name:""+s,message:c.message||c.Message||s,$fault:"client",$metadata:ol(e)}),l.label=7;case 7:return d=i.message||i.Message||s,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},ja=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],f={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(f.body=l.sent(),f)])),s="UnknownError",s=ul(e,n.body),s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,$a(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 4:return u=[{}],[4,Ya(n)];case 5:return i=o.apply(void 0,[o.apply(void 0,u.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,7];case 6:c=n.body,s=c.code||c.Code||s,i=o(o({},c),{name:""+s,message:c.message||c.Message||s,$fault:"client",$metadata:ol(e)}),l.label=7;case 7:return d=i.message||i.Message||s,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},za=function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i,s,a,u,c,d;return l(this,(function(l){switch(l.label){case 0:return r=[o({},e)],d={},[4,al(e.body,t)];case 1:switch(n=o.apply(void 0,r.concat([(d.body=l.sent(),d)])),s="UnknownError",s=ul(e,n.body),s){case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,2]}return[3,4];case 2:return a=[{}],[4,Ja(n)];case 3:return i=o.apply(void 0,[o.apply(void 0,a.concat([l.sent()])),{name:s,$metadata:ol(e)}]),[3,5];case 4:u=n.body,s=u.code||u.Code||s,i=o(o({},u),{name:""+s,message:u.message||u.Message||s,$fault:"client",$metadata:ol(e)}),l.label=5;case 5:return c=i.message||i.Message||s,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},qa=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=Ku(t),[2,o({name:"DataAlreadyAcceptedException",$fault:"client",$metadata:ol(e)},n)]}))}))},Ba=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=mc(t),[2,o({name:"InvalidOperationException",$fault:"client",$metadata:ol(e)},n)]}))}))},$a=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=yc(t),[2,o({name:"InvalidParameterException",$fault:"client",$metadata:ol(e)},n)]}))}))},Ga=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=wc(t),[2,o({name:"InvalidSequenceTokenException",$fault:"client",$metadata:ol(e)},n)]}))}))},Wa=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=bc(t),[2,o({name:"LimitExceededException",$fault:"client",$metadata:ol(e)},n)]}))}))},Va=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=Pc(t),[2,o({name:"MalformedQueryException",$fault:"client",$metadata:ol(e)},n)]}))}))},Ha=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=Uc(t),[2,o({name:"OperationAbortedException",$fault:"client",$metadata:ol(e)},n)]}))}))},Ka=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=Wc(t),[2,o({name:"ResourceAlreadyExistsException",$fault:"client",$metadata:ol(e)},n)]}))}))},Ja=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=Vc(t),[2,o({name:"ResourceNotFoundException",$fault:"client",$metadata:ol(e)},n)]}))}))},Ya=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=Zc(t),[2,o({name:"ServiceUnavailableException",$fault:"server",$metadata:ol(e)},n)]}))}))},Za=function(e,t){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){return t=e.body,n=rl(t),[2,o({name:"UnrecognizedClientException",$fault:"client",$metadata:ol(e)},n)]}))}))},Qa=function(e,t){return o(o({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})},Xa=function(e,t){return o({},void 0!==e.taskId&&null!==e.taskId&&{taskId:e.taskId})},eu=function(e,t){return o(o(o(o(o(o(o({},void 0!==e.destination&&null!==e.destination&&{destination:e.destination}),void 0!==e.destinationPrefix&&null!==e.destinationPrefix&&{destinationPrefix:e.destinationPrefix}),void 0!==e.from&&null!==e.from&&{from:e.from}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.taskName&&null!==e.taskName&&{taskName:e.taskName}),void 0!==e.to&&null!==e.to&&{to:e.to})},tu=function(e,t){return o(o(o({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:$u(e.tags)})},nu=function(e,t){return o(o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})},ru=function(e,t){return o({},void 0!==e.destinationName&&null!==e.destinationName&&{destinationName:e.destinationName})},ou=function(e,t){return o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})},iu=function(e,t){return o(o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})},su=function(e,t){return o(o({},void 0!==e.filterName&&null!==e.filterName&&{filterName:e.filterName}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})},au=function(e,t){return o({},void 0!==e.queryDefinitionId&&null!==e.queryDefinitionId&&{queryDefinitionId:e.queryDefinitionId})},uu=function(e,t){return o({},void 0!==e.policyName&&null!==e.policyName&&{policyName:e.policyName})},cu=function(e,t){return o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})},lu=function(e,t){return o(o({},void 0!==e.filterName&&null!==e.filterName&&{filterName:e.filterName}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})},du=function(e,t){return o(o(o({},void 0!==e.DestinationNamePrefix&&null!==e.DestinationNamePrefix&&{DestinationNamePrefix:e.DestinationNamePrefix}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})},fu=function(e,t){return o(o(o(o({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.statusCode&&null!==e.statusCode&&{statusCode:e.statusCode}),void 0!==e.taskId&&null!==e.taskId&&{taskId:e.taskId})},hu=function(e,t){return o(o(o({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupNamePrefix&&null!==e.logGroupNamePrefix&&{logGroupNamePrefix:e.logGroupNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})},pu=function(e,t){return o(o(o(o(o(o({},void 0!==e.descending&&null!==e.descending&&{descending:e.descending}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.orderBy&&null!==e.orderBy&&{orderBy:e.orderBy})},vu=function(e,t){return o(o(o(o(o(o({},void 0!==e.filterNamePrefix&&null!==e.filterNamePrefix&&{filterNamePrefix:e.filterNamePrefix}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.metricName&&null!==e.metricName&&{metricName:e.metricName}),void 0!==e.metricNamespace&&null!==e.metricNamespace&&{metricNamespace:e.metricNamespace}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})},gu=function(e,t){return o(o(o(o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.maxResults&&null!==e.maxResults&&{maxResults:e.maxResults}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.status&&null!==e.status&&{status:e.status})},mu=function(e,t){return o(o(o({},void 0!==e.maxResults&&null!==e.maxResults&&{maxResults:e.maxResults}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.queryDefinitionNamePrefix&&null!==e.queryDefinitionNamePrefix&&{queryDefinitionNamePrefix:e.queryDefinitionNamePrefix})},yu=function(e,t){return o(o({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})},wu=function(e,t){return o(o(o(o({},void 0!==e.filterNamePrefix&&null!==e.filterNamePrefix&&{filterNamePrefix:e.filterNamePrefix}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})},bu=function(e,t){return o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})},Su=function(e,t){return o(o(o(o(o(o(o(o(o({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.filterPattern&&null!==e.filterPattern&&{filterPattern:e.filterPattern}),void 0!==e.interleaved&&null!==e.interleaved&&{interleaved:e.interleaved}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.logStreamNames&&null!==e.logStreamNames&&{logStreamNames:Pu(e.logStreamNames)}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})},_u=function(e,t){return o(o(o(o(o(o(o({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startFromHead&&null!==e.startFromHead&&{startFromHead:e.startFromHead}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})},Eu=function(e,t){return o(o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.time&&null!==e.time&&{time:e.time})},Cu=function(e,t){return o({},void 0!==e.logRecordPointer&&null!==e.logRecordPointer&&{logRecordPointer:e.logRecordPointer})},Au=function(e,t){return o({},void 0!==e.queryId&&null!==e.queryId&&{queryId:e.queryId})},ku=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return o(o({},void 0!==e.message&&null!==e.message&&{message:e.message}),void 0!==e.timestamp&&null!==e.timestamp&&{timestamp:e.timestamp})}(e)}))},Pu=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},xu=function(e,t){return o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})},Iu=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Tu=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return o(o(o(o({},void 0!==e.defaultValue&&null!==e.defaultValue&&{defaultValue:e.defaultValue}),void 0!==e.metricName&&null!==e.metricName&&{metricName:e.metricName}),void 0!==e.metricNamespace&&null!==e.metricNamespace&&{metricNamespace:e.metricNamespace}),void 0!==e.metricValue&&null!==e.metricValue&&{metricValue:e.metricValue})}(e)}))},Ou=function(e,t){return o(o({},void 0!==e.accessPolicy&&null!==e.accessPolicy&&{accessPolicy:e.accessPolicy}),void 0!==e.destinationName&&null!==e.destinationName&&{destinationName:e.destinationName})},Uu=function(e,t){return o(o(o({},void 0!==e.destinationName&&null!==e.destinationName&&{destinationName:e.destinationName}),void 0!==e.roleArn&&null!==e.roleArn&&{roleArn:e.roleArn}),void 0!==e.targetArn&&null!==e.targetArn&&{targetArn:e.targetArn})},Nu=function(e,t){return o(o(o(o({},void 0!==e.logEvents&&null!==e.logEvents&&{logEvents:ku(e.logEvents)}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.sequenceToken&&null!==e.sequenceToken&&{sequenceToken:e.sequenceToken})},Mu=function(e,t){return o(o(o(o({},void 0!==e.filterName&&null!==e.filterName&&{filterName:e.filterName}),void 0!==e.filterPattern&&null!==e.filterPattern&&{filterPattern:e.filterPattern}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.metricTransformations&&null!==e.metricTransformations&&{metricTransformations:Tu(e.metricTransformations)})},Ru=function(e,t){return o(o(o(o({},void 0!==e.logGroupNames&&null!==e.logGroupNames&&{logGroupNames:Iu(e.logGroupNames)}),void 0!==e.name&&null!==e.name&&{name:e.name}),void 0!==e.queryDefinitionId&&null!==e.queryDefinitionId&&{queryDefinitionId:e.queryDefinitionId}),void 0!==e.queryString&&null!==e.queryString&&{queryString:e.queryString})},Lu=function(e,t){return o(o({},void 0!==e.policyDocument&&null!==e.policyDocument&&{policyDocument:e.policyDocument}),void 0!==e.policyName&&null!==e.policyName&&{policyName:e.policyName})},Fu=function(e,t){return o(o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.retentionInDays&&null!==e.retentionInDays&&{retentionInDays:e.retentionInDays})},Du=function(e,t){return o(o(o(o(o(o({},void 0!==e.destinationArn&&null!==e.destinationArn&&{destinationArn:e.destinationArn}),void 0!==e.distribution&&null!==e.distribution&&{distribution:e.distribution}),void 0!==e.filterName&&null!==e.filterName&&{filterName:e.filterName}),void 0!==e.filterPattern&&null!==e.filterPattern&&{filterPattern:e.filterPattern}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.roleArn&&null!==e.roleArn&&{roleArn:e.roleArn})},ju=function(e,t){return o(o(o(o(o(o({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logGroupNames&&null!==e.logGroupNames&&{logGroupNames:Iu(e.logGroupNames)}),void 0!==e.queryString&&null!==e.queryString&&{queryString:e.queryString}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})},zu=function(e,t){return o({},void 0!==e.queryId&&null!==e.queryId&&{queryId:e.queryId})},qu=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Bu=function(e,t){return o(o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:$u(e.tags)})},$u=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=p(t,2),i=r[0],s=r[1];return null===s?e:o(o({},e),((n={})[i]=s,n))}),{})},Gu=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Wu=function(e,t){return o(o({},void 0!==e.filterPattern&&null!==e.filterPattern&&{filterPattern:e.filterPattern}),void 0!==e.logEventMessages&&null!==e.logEventMessages&&{logEventMessages:Gu(e.logEventMessages)})},Vu=function(e,t){return o(o({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:qu(e.tags)})},Hu=function(e,t){return{taskId:void 0!==e.taskId&&null!==e.taskId?e.taskId:void 0}},Ku=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ju=function(e,t){return{success:void 0!==e.success&&null!==e.success?e.success:void 0}},Yu=function(e,t){return{destinations:void 0!==e.destinations&&null!==e.destinations?sc(e.destinations):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},Zu=function(e,t){return{exportTasks:void 0!==e.exportTasks&&null!==e.exportTasks?uc(e.exportTasks):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},Qu=function(e,t){return{logGroups:void 0!==e.logGroups&&null!==e.logGroups?Cc(e.logGroups):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},Xu=function(e,t){return{logStreams:void 0!==e.logStreams&&null!==e.logStreams?kc(e.logStreams):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},ec=function(e,t){return{metricFilters:void 0!==e.metricFilters&&null!==e.metricFilters?Tc(e.metricFilters):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},tc=function(e,t){return{nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0,queries:void 0!==e.queries&&null!==e.queries?qc(e.queries):void 0}},nc=function(e,t){return{nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0,queryDefinitions:void 0!==e.queryDefinitions&&null!==e.queryDefinitions?zc(e.queryDefinitions):void 0}},rc=function(e,t){return{nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0,resourcePolicies:void 0!==e.resourcePolicies&&null!==e.resourcePolicies?Hc(e.resourcePolicies):void 0}},oc=function(e,t){return{nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0,subscriptionFilters:void 0!==e.subscriptionFilters&&null!==e.subscriptionFilters?el(e.subscriptionFilters):void 0}},ic=function(e,t){return{accessPolicy:void 0!==e.accessPolicy&&null!==e.accessPolicy?e.accessPolicy:void 0,arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,destinationName:void 0!==e.destinationName&&null!==e.destinationName?e.destinationName:void 0,roleArn:void 0!==e.roleArn&&null!==e.roleArn?e.roleArn:void 0,targetArn:void 0!==e.targetArn&&null!==e.targetArn?e.targetArn:void 0}},sc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:ic(e)}))},ac=function(e,t){return{completionTime:void 0!==e.completionTime&&null!==e.completionTime?e.completionTime:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0}},uc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{destination:void 0!==e.destination&&null!==e.destination?e.destination:void 0,destinationPrefix:void 0!==e.destinationPrefix&&null!==e.destinationPrefix?e.destinationPrefix:void 0,executionInfo:void 0!==e.executionInfo&&null!==e.executionInfo?ac(e.executionInfo):void 0,from:void 0!==e.from&&null!==e.from?e.from:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,status:void 0!==e.status&&null!==e.status?cc(e.status):void 0,taskId:void 0!==e.taskId&&null!==e.taskId?e.taskId:void 0,taskName:void 0!==e.taskName&&null!==e.taskName?e.taskName:void 0,to:void 0!==e.to&&null!==e.to?e.to:void 0}}(e)}))},cc=function(e,t){return{code:void 0!==e.code&&null!==e.code?e.code:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},lc=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=p(t,2),i=r[0],s=r[1];return null===s?e:o(o({},e),((n={})[i]=s,n))}),{})},dc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{eventId:void 0!==e.eventId&&null!==e.eventId?e.eventId:void 0,ingestionTime:void 0!==e.ingestionTime&&null!==e.ingestionTime?e.ingestionTime:void 0,logStreamName:void 0!==e.logStreamName&&null!==e.logStreamName?e.logStreamName:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0,timestamp:void 0!==e.timestamp&&null!==e.timestamp?e.timestamp:void 0}}(e)}))},fc=function(e,t){return{events:void 0!==e.events&&null!==e.events?dc(e.events):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0,searchedLogStreams:void 0!==e.searchedLogStreams&&null!==e.searchedLogStreams?Yc(e.searchedLogStreams):void 0}},hc=function(e,t){return{events:void 0!==e.events&&null!==e.events?Nc(e.events):void 0,nextBackwardToken:void 0!==e.nextBackwardToken&&null!==e.nextBackwardToken?e.nextBackwardToken:void 0,nextForwardToken:void 0!==e.nextForwardToken&&null!==e.nextForwardToken?e.nextForwardToken:void 0}},pc=function(e,t){return{logGroupFields:void 0!==e.logGroupFields&&null!==e.logGroupFields?_c(e.logGroupFields):void 0}},vc=function(e,t){return{logRecord:void 0!==e.logRecord&&null!==e.logRecord?Ac(e.logRecord):void 0}},gc=function(e,t){return{results:void 0!==e.results&&null!==e.results?Bc(e.results):void 0,statistics:void 0!==e.statistics&&null!==e.statistics?$c(e.statistics):void 0,status:void 0!==e.status&&null!==e.status?e.status:void 0}},mc=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},yc=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},wc=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},bc=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Sc=function(e,t){return{tags:void 0!==e.tags&&null!==e.tags?tl(e.tags):void 0}},_c=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{name:void 0!==e.name&&null!==e.name?e.name:void 0,percent:void 0!==e.percent&&null!==e.percent?e.percent:void 0}}(e)}))},Ec=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Cc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,kmsKeyId:void 0!==e.kmsKeyId&&null!==e.kmsKeyId?e.kmsKeyId:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,metricFilterCount:void 0!==e.metricFilterCount&&null!==e.metricFilterCount?e.metricFilterCount:void 0,retentionInDays:void 0!==e.retentionInDays&&null!==e.retentionInDays?e.retentionInDays:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0}}(e)}))},Ac=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=p(t,2),i=r[0],s=r[1];return null===s?e:o(o({},e),((n={})[i]=s,n))}),{})},kc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,firstEventTimestamp:void 0!==e.firstEventTimestamp&&null!==e.firstEventTimestamp?e.firstEventTimestamp:void 0,lastEventTimestamp:void 0!==e.lastEventTimestamp&&null!==e.lastEventTimestamp?e.lastEventTimestamp:void 0,lastIngestionTime:void 0!==e.lastIngestionTime&&null!==e.lastIngestionTime?e.lastIngestionTime:void 0,logStreamName:void 0!==e.logStreamName&&null!==e.logStreamName?e.logStreamName:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0,uploadSequenceToken:void 0!==e.uploadSequenceToken&&null!==e.uploadSequenceToken?e.uploadSequenceToken:void 0}}(e)}))},Pc=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0,queryCompileError:void 0!==e.queryCompileError&&null!==e.queryCompileError?Dc(e.queryCompileError):void 0}},xc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Ic(e)}))},Ic=function(e,t){return{eventMessage:void 0!==e.eventMessage&&null!==e.eventMessage?e.eventMessage:void 0,eventNumber:void 0!==e.eventNumber&&null!==e.eventNumber?e.eventNumber:void 0,extractedValues:void 0!==e.extractedValues&&null!==e.extractedValues?lc(e.extractedValues):void 0}},Tc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,filterName:void 0!==e.filterName&&null!==e.filterName?e.filterName:void 0,filterPattern:void 0!==e.filterPattern&&null!==e.filterPattern?e.filterPattern:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,metricTransformations:void 0!==e.metricTransformations&&null!==e.metricTransformations?Oc(e.metricTransformations):void 0}}(e)}))},Oc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{defaultValue:void 0!==e.defaultValue&&null!==e.defaultValue?e.defaultValue:void 0,metricName:void 0!==e.metricName&&null!==e.metricName?e.metricName:void 0,metricNamespace:void 0!==e.metricNamespace&&null!==e.metricNamespace?e.metricNamespace:void 0,metricValue:void 0!==e.metricValue&&null!==e.metricValue?e.metricValue:void 0}}(e)}))},Uc=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Nc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ingestionTime:void 0!==e.ingestionTime&&null!==e.ingestionTime?e.ingestionTime:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0,timestamp:void 0!==e.timestamp&&null!==e.timestamp?e.timestamp:void 0}}(e)}))},Mc=function(e,t){return{destination:void 0!==e.destination&&null!==e.destination?ic(e.destination):void 0}},Rc=function(e,t){return{nextSequenceToken:void 0!==e.nextSequenceToken&&null!==e.nextSequenceToken?e.nextSequenceToken:void 0,rejectedLogEventsInfo:void 0!==e.rejectedLogEventsInfo&&null!==e.rejectedLogEventsInfo?Gc(e.rejectedLogEventsInfo):void 0}},Lc=function(e,t){return{queryDefinitionId:void 0!==e.queryDefinitionId&&null!==e.queryDefinitionId?e.queryDefinitionId:void 0}},Fc=function(e,t){return{resourcePolicy:void 0!==e.resourcePolicy&&null!==e.resourcePolicy?Kc(e.resourcePolicy):void 0}},Dc=function(e,t){return{location:void 0!==e.location&&null!==e.location?jc(e.location):void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},jc=function(e,t){return{endCharOffset:void 0!==e.endCharOffset&&null!==e.endCharOffset?e.endCharOffset:void 0,startCharOffset:void 0!==e.startCharOffset&&null!==e.startCharOffset?e.startCharOffset:void 0}},zc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{lastModified:void 0!==e.lastModified&&null!==e.lastModified?e.lastModified:void 0,logGroupNames:void 0!==e.logGroupNames&&null!==e.logGroupNames?Ec(e.logGroupNames):void 0,name:void 0!==e.name&&null!==e.name?e.name:void 0,queryDefinitionId:void 0!==e.queryDefinitionId&&null!==e.queryDefinitionId?e.queryDefinitionId:void 0,queryString:void 0!==e.queryString&&null!==e.queryString?e.queryString:void 0}}(e)}))},qc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{createTime:void 0!==e.createTime&&null!==e.createTime?e.createTime:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,queryId:void 0!==e.queryId&&null!==e.queryId?e.queryId:void 0,queryString:void 0!==e.queryString&&null!==e.queryString?e.queryString:void 0,status:void 0!==e.status&&null!==e.status?e.status:void 0}}(e)}))},Bc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Jc(e)}))},$c=function(e,t){return{bytesScanned:void 0!==e.bytesScanned&&null!==e.bytesScanned?e.bytesScanned:void 0,recordsMatched:void 0!==e.recordsMatched&&null!==e.recordsMatched?e.recordsMatched:void 0,recordsScanned:void 0!==e.recordsScanned&&null!==e.recordsScanned?e.recordsScanned:void 0}},Gc=function(e,t){return{expiredLogEventEndIndex:void 0!==e.expiredLogEventEndIndex&&null!==e.expiredLogEventEndIndex?e.expiredLogEventEndIndex:void 0,tooNewLogEventStartIndex:void 0!==e.tooNewLogEventStartIndex&&null!==e.tooNewLogEventStartIndex?e.tooNewLogEventStartIndex:void 0,tooOldLogEventEndIndex:void 0!==e.tooOldLogEventEndIndex&&null!==e.tooOldLogEventEndIndex?e.tooOldLogEventEndIndex:void 0}},Wc=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Vc=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Hc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Kc(e)}))},Kc=function(e,t){return{lastUpdatedTime:void 0!==e.lastUpdatedTime&&null!==e.lastUpdatedTime?e.lastUpdatedTime:void 0,policyDocument:void 0!==e.policyDocument&&null!==e.policyDocument?e.policyDocument:void 0,policyName:void 0!==e.policyName&&null!==e.policyName?e.policyName:void 0}},Jc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{field:void 0!==e.field&&null!==e.field?e.field:void 0,value:void 0!==e.value&&null!==e.value?e.value:void 0}}(e)}))},Yc=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{logStreamName:void 0!==e.logStreamName&&null!==e.logStreamName?e.logStreamName:void 0,searchedCompletely:void 0!==e.searchedCompletely&&null!==e.searchedCompletely?e.searchedCompletely:void 0}}(e)}))},Zc=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Qc=function(e,t){return{queryId:void 0!==e.queryId&&null!==e.queryId?e.queryId:void 0}},Xc=function(e,t){return{success:void 0!==e.success&&null!==e.success?e.success:void 0}},el=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,destinationArn:void 0!==e.destinationArn&&null!==e.destinationArn?e.destinationArn:void 0,distribution:void 0!==e.distribution&&null!==e.distribution?e.distribution:void 0,filterName:void 0!==e.filterName&&null!==e.filterName?e.filterName:void 0,filterPattern:void 0!==e.filterPattern&&null!==e.filterPattern?e.filterPattern:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,roleArn:void 0!==e.roleArn&&null!==e.roleArn?e.roleArn:void 0}}(e)}))},tl=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=p(t,2),i=r[0],s=r[1];return null===s?e:o(o({},e),((n={})[i]=s,n))}),{})},nl=function(e,t){return{matches:void 0!==e.matches&&null!==e.matches?xc(e.matches):void 0}},rl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ol=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},il=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},sl=function(e,t,n,r,o){return c(void 0,void 0,void 0,(function(){var i,s,a,u,c,d;return l(this,(function(l){switch(l.label){case 0:return[4,e.endpoint()];case 1:return i=l.sent(),s=i.hostname,a=i.protocol,u=void 0===a?"https":a,c=i.port,d={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(d.hostname=r),void 0!==o&&(d.body=o),[2,new Vn(d)]}}))}))},al=function(e,t){return function(e,t){return il(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},ul=function(e,t){var n,r,o=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==i?o(e.headers[i]):void 0!==t.code?o(t.code):void 0!==t.__type?o(t.__type):""},cl={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ll={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function dl(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return c(void 0,void 0,void 0,(function(){var o,i;return l(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:return o=s.sent().response,[4,t(o,e)];case 2:return i=s.sent(),[2,{response:o,output:i}]}}))}))}}}(e,n),cl),r.add(function(e,t){return function(n,r){return function(r){return c(void 0,void 0,void 0,(function(){var i;return l(this,(function(s){switch(s.label){case 0:return[4,t(r.input,e)];case 1:return i=s.sent(),[2,n(o(o({},r),{request:i}))]}}))}))}}}(e,t),ll)}}}var fl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"AssociateKmsKeyCommand",inputFilterSensitiveLog:ni.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.AssociateKmsKey"},r=JSON.stringify(Qa(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Xs(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),hl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CancelExportTaskCommand",inputFilterSensitiveLog:ai.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CancelExportTask"},r=JSON.stringify(Xa(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,ea(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),pl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateExportTaskCommand",inputFilterSensitiveLog:ci.filterSensitiveLog,outputFilterSensitiveLog:li.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateExportTask"},r=JSON.stringify(eu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,ta(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Hu(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),vl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogGroupCommand",inputFilterSensitiveLog:hi.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogGroup"},r=JSON.stringify(tu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,na(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),gl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogStreamCommand",inputFilterSensitiveLog:pi.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogStream"},r=JSON.stringify(nu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,ra(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),ml=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteDestinationCommand",inputFilterSensitiveLog:gi.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteDestination"},r=JSON.stringify(ru(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,oa(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),yl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteLogGroupCommand",inputFilterSensitiveLog:mi.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteLogGroup"},r=JSON.stringify(ou(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,ia(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),wl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteLogStreamCommand",inputFilterSensitiveLog:yi.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteLogStream"},r=JSON.stringify(iu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,sa(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),bl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteMetricFilterCommand",inputFilterSensitiveLog:wi.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteMetricFilter"},r=JSON.stringify(su(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,aa(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),Sl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteQueryDefinitionCommand",inputFilterSensitiveLog:bi.filterSensitiveLog,outputFilterSensitiveLog:Si.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteQueryDefinition"},r=JSON.stringify(au(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,ua(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Ju(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),_l=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteResourcePolicyCommand",inputFilterSensitiveLog:_i.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteResourcePolicy"},r=JSON.stringify(uu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,ca(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),El=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteRetentionPolicyCommand",inputFilterSensitiveLog:Ei.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteRetentionPolicy"},r=JSON.stringify(cu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,la(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),Cl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteSubscriptionFilterCommand",inputFilterSensitiveLog:Ci.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteSubscriptionFilter"},r=JSON.stringify(lu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,da(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),Al=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeDestinationsCommand",inputFilterSensitiveLog:Ai.filterSensitiveLog,outputFilterSensitiveLog:Pi.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeDestinations"},r=JSON.stringify(du(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,fa(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Yu(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),kl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeExportTasksCommand",inputFilterSensitiveLog:Ii.filterSensitiveLog,outputFilterSensitiveLog:Ni.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeExportTasks"},r=JSON.stringify(fu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,ha(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Zu(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Pl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:Mi.filterSensitiveLog,outputFilterSensitiveLog:Li.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogGroups"},r=JSON.stringify(hu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,pa(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Qu(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),xl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogStreamsCommand",inputFilterSensitiveLog:Di.filterSensitiveLog,outputFilterSensitiveLog:zi.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogStreams"},r=JSON.stringify(pu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,va(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Xu(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Il=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeMetricFiltersCommand",inputFilterSensitiveLog:qi.filterSensitiveLog,outputFilterSensitiveLog:Gi.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeMetricFilters"},r=JSON.stringify(vu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,ga(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=ec(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Tl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeQueriesCommand",inputFilterSensitiveLog:Vi.filterSensitiveLog,outputFilterSensitiveLog:Ki.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeQueries"},r=JSON.stringify(gu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,ma(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=tc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Ol=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeQueryDefinitionsCommand",inputFilterSensitiveLog:Ji.filterSensitiveLog,outputFilterSensitiveLog:Zi.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeQueryDefinitions"},r=JSON.stringify(mu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,ya(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=nc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Ul=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeResourcePoliciesCommand",inputFilterSensitiveLog:Qi.filterSensitiveLog,outputFilterSensitiveLog:es.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeResourcePolicies"},r=JSON.stringify(yu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,wa(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=rc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Nl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeSubscriptionFiltersCommand",inputFilterSensitiveLog:ts.filterSensitiveLog,outputFilterSensitiveLog:os.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeSubscriptionFilters"},r=JSON.stringify(wu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,ba(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=oc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Ml=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DisassociateKmsKeyCommand",inputFilterSensitiveLog:is.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DisassociateKmsKey"},r=JSON.stringify(bu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Sa(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),Rl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"FilterLogEventsCommand",inputFilterSensitiveLog:as.filterSensitiveLog,outputFilterSensitiveLog:cs.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.FilterLogEvents"},r=JSON.stringify(Su(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,_a(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=fc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Ll=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogEventsCommand",inputFilterSensitiveLog:ls.filterSensitiveLog,outputFilterSensitiveLog:fs.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogEvents"},r=JSON.stringify(_u(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Ea(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=hc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Fl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogGroupFieldsCommand",inputFilterSensitiveLog:hs.filterSensitiveLog,outputFilterSensitiveLog:vs.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogGroupFields"},r=JSON.stringify(Eu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Ca(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=pc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Dl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogRecordCommand",inputFilterSensitiveLog:gs.filterSensitiveLog,outputFilterSensitiveLog:ms.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogRecord"},r=JSON.stringify(Cu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Aa(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=vc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),jl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetQueryResultsCommand",inputFilterSensitiveLog:ys.filterSensitiveLog,outputFilterSensitiveLog:Ss.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetQueryResults"},r=JSON.stringify(Au(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,ka(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=gc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),zl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"ListTagsLogGroupCommand",inputFilterSensitiveLog:Cs.filterSensitiveLog,outputFilterSensitiveLog:As.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.ListTagsLogGroup"},r=JSON.stringify(xu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Pa(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Sc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),ql=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutDestinationCommand",inputFilterSensitiveLog:ks.filterSensitiveLog,outputFilterSensitiveLog:Ps.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutDestination"},r=JSON.stringify(Uu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,xa(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Mc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Bl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutDestinationPolicyCommand",inputFilterSensitiveLog:xs.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutDestinationPolicy"},r=JSON.stringify(Ou(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Ia(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),$l=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutLogEventsCommand",inputFilterSensitiveLog:Is.filterSensitiveLog,outputFilterSensitiveLog:Os.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutLogEvents"},r=JSON.stringify(Nu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Ta(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Rc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Gl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutMetricFilterCommand",inputFilterSensitiveLog:Ns.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutMetricFilter"},r=JSON.stringify(Mu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Oa(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),Wl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutQueryDefinitionCommand",inputFilterSensitiveLog:Ms.filterSensitiveLog,outputFilterSensitiveLog:Rs.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutQueryDefinition"},r=JSON.stringify(Ru(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Ua(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Lc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Vl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutResourcePolicyCommand",inputFilterSensitiveLog:Ls.filterSensitiveLog,outputFilterSensitiveLog:Fs.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutResourcePolicy"},r=JSON.stringify(Lu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Na(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Fc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Hl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutRetentionPolicyCommand",inputFilterSensitiveLog:Ds.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutRetentionPolicy"},r=JSON.stringify(Fu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Ma(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),Kl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutSubscriptionFilterCommand",inputFilterSensitiveLog:js.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutSubscriptionFilter"},r=JSON.stringify(Du(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Ra(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),Jl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"StartQueryCommand",inputFilterSensitiveLog:$s.filterSensitiveLog,outputFilterSensitiveLog:Gs.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.StartQuery"},r=JSON.stringify(ju(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,La(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Qc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Yl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"StopQueryCommand",inputFilterSensitiveLog:Ws.filterSensitiveLog,outputFilterSensitiveLog:Vs.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.StopQuery"},r=JSON.stringify(zu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,Fa(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=Xc(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Zl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"TagLogGroupCommand",inputFilterSensitiveLog:Hs.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.TagLogGroup"},r=JSON.stringify(Bu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Da(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei),Ql=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"TestMetricFilterCommand",inputFilterSensitiveLog:Ks.filterSensitiveLog,outputFilterSensitiveLog:Ys.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.TestMetricFilter"},r=JSON.stringify(Wu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r,i;return l(this,(function(s){switch(s.label){case 0:return e.statusCode>=300?[2,ja(e,t)]:[4,al(e.body,t)];case 1:return n=s.sent(),r=nl(n),i=o({$metadata:ol(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(ei),Xl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return r(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(dl(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"UntagLogGroupCommand",inputFilterSensitiveLog:Zs.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n,r;return l(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.UntagLogGroup"},r=JSON.stringify(Vu(e)),[2,sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,za(e,t)]:[4,il(e.body,t)];case 1:return r.sent(),n={$metadata:ol(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(ei);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),t.prototype.associateKmsKey=function(e,t,n){var r=new fl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.cancelExportTask=function(e,t,n){var r=new hl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.createExportTask=function(e,t,n){var r=new pl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.createLogGroup=function(e,t,n){var r=new vl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.createLogStream=function(e,t,n){var r=new gl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.deleteDestination=function(e,t,n){var r=new ml(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.deleteLogGroup=function(e,t,n){var r=new yl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.deleteLogStream=function(e,t,n){var r=new wl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.deleteMetricFilter=function(e,t,n){var r=new bl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.deleteQueryDefinition=function(e,t,n){var r=new Sl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.deleteResourcePolicy=function(e,t,n){var r=new _l(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.deleteRetentionPolicy=function(e,t,n){var r=new El(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.deleteSubscriptionFilter=function(e,t,n){var r=new Cl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.describeDestinations=function(e,t,n){var r=new Al(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.describeExportTasks=function(e,t,n){var r=new kl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.describeLogGroups=function(e,t,n){var r=new Pl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.describeLogStreams=function(e,t,n){var r=new xl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.describeMetricFilters=function(e,t,n){var r=new Il(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.describeQueries=function(e,t,n){var r=new Tl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.describeQueryDefinitions=function(e,t,n){var r=new Ol(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.describeResourcePolicies=function(e,t,n){var r=new Ul(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.describeSubscriptionFilters=function(e,t,n){var r=new Nl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.disassociateKmsKey=function(e,t,n){var r=new Ml(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.filterLogEvents=function(e,t,n){var r=new Rl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.getLogEvents=function(e,t,n){var r=new Ll(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.getLogGroupFields=function(e,t,n){var r=new Fl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.getLogRecord=function(e,t,n){var r=new Dl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.getQueryResults=function(e,t,n){var r=new jl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.listTagsLogGroup=function(e,t,n){var r=new zl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.putDestination=function(e,t,n){var r=new ql(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.putDestinationPolicy=function(e,t,n){var r=new Bl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.putLogEvents=function(e,t,n){var r=new $l(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.putMetricFilter=function(e,t,n){var r=new Gl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.putQueryDefinition=function(e,t,n){var r=new Wl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.putResourcePolicy=function(e,t,n){var r=new Vl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.putRetentionPolicy=function(e,t,n){var r=new Hl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.putSubscriptionFilter=function(e,t,n){var r=new Kl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.startQuery=function(e,t,n){var r=new Jl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.stopQuery=function(e,t,n){var r=new Yl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.tagLogGroup=function(e,t,n){var r=new Zl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.testMetricFilter=function(e,t,n){var r=new Ql(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}},t.prototype.untagLogGroup=function(e,t,n){var r=new Xl(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get "+typeof t);this.send(r,t||{},n)}}}(Qs),this&&this.__awaiter,this&&this.__generator,this&&this.__read,this&&this.__spreadArray,new re("AWSCloudWatch");var ed=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},td=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},nd=new re("CognitoCredentials"),rd=new Promise((function(e,t){return je().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(nd.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(nd.debug("not in the browser, directly resolved"),e())})),od=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return ed(this,void 0,void 0,(function(){return td(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(nd.debug("need to wait for the Google SDK loaded"),[4,rd]);case 1:e.sent(),this.initialized=!0,nd.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return je().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(nd.debug("google Auth undefined"),n(new Ve("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(nd.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new Ve("Failed to reload google auth response"))}))):n(new Ve("User is not signed in with Google"))})).catch((function(e){nd.debug("Failed to refresh google token",e),n(new Ve("Failed to refresh google token"))}))})):(nd.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),id=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},sd=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},ad=new re("CognitoCredentials"),ud=new Promise((function(e,t){return je().isBrowser?window.FB?(ad.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(ad.debug("not in the browser, directly resolved"),e())})),cd=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return id(this,void 0,void 0,(function(){return sd(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(ad.debug("need to wait for the Facebook SDK loaded"),[4,ud]);case 1:e.sent(),this.initialized=!0,ad.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(je().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return ad.debug(t),Promise.reject(new Ve(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,o=r.accessToken,i=1e3*r.expiresIn+(new Date).getTime();if(!o){s="the jwtToken is undefined";ad.debug(s),n(new Ve(s))}t({token:o,expires_at:i})}else{var s="no response from facebook when refreshing the jwt token";ad.debug(s),n(new Ve(s))}}),{scope:"public_profile,email"})}))},e}(),ld=new od,dd=new cd,fd={},hd=function(){function e(){}return e.setItem=function(e,t){return fd[e]=t,fd[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(fd,e)?fd[e]:void 0},e.removeItem=function(e){return delete fd[e]},e.clear=function(){return fd={}},e}(),pd=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=hd}}return e.prototype.getStorage=function(){return this.storageWindow},e}();je().isBrowser&&(new pd).getStorage();var vd={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},gd={partitions:[vd,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},md=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yd=function(e){var t,n,r=gd.partitions;try{for(var o=md(r),i=o.next();!i.done;i=o.next()){var s=i.value,a=s.regions,u=s.outputs,c=s.regionRegex,l=new RegExp(c);if(a.includes(e)||l.test(e))return u.dnsSuffix}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return vd.outputs.dnsSuffix};var wd=Object.freeze({__proto__:null,default:function(e,t){return t=t||{},new Promise((function(n,r){var o=new XMLHttpRequest,i=[],s=[],a={},u=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:u,headers:{keys:function(){return i},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)}))}}),bd=Qe(wd);self.fetch||(self.fetch=bd.default||bd);var Sd=function(e){var t;return function(){return t||(t=e()),t}},_d=this&&this.__assign||function(){return _d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_d.apply(this,arguments)},Ed=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Cd=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Ad=function(e){return!["HEAD","GET","DELETE"].includes(e.toUpperCase())},kd=this&&this.__assign||function(){return kd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kd.apply(this,arguments)},Pd=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},xd=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Id=function(e,t){if(null==t?void 0:t.aborted)return Promise.resolve();var n,r,o=new Promise((function(t){r=t,n=setTimeout(t,e)}));return null==t||t.addEventListener("abort",(function e(o){clearTimeout(n),null==t||t.removeEventListener("abort",e),r()})),o},Td=function(e,t){var n;"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata=kd(kd({},null!==(n=e.$metadata)&&void 0!==n?n:{}),{attempts:t}))},Od=3e5,Ud=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],Nd=function(e){return Ud.includes(e)},Md=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Rd=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Ld=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],Fd=["TimeoutError","RequestTimeout","RequestTimeoutException"],Dd=function(e,t){return 429===e||Ld.includes(t)},jd=function(e){return"Network error"===(null==e?void 0:e.name)},zd=function(e,t){return[500,502,503,504].includes(e)||Fd.includes(t)},qd=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Bd=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},$d=function(e,t){return function(n,r){for(var o={},i=function(t){return e(t,r)},s=t.length-1;s>=0;s--){i=(0,t[s])(r)(i,o)}return i(n)}},Gd=$d((function(e,t){var n=e.url,r=e.method,o=e.headers,i=e.body,s=t.abortSignal;return Ed(void 0,void 0,void 0,(function(){var e,t,a,u,c,l,d;return Cd(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,fetch(n,{method:r,headers:o,body:Ad(r)?i:void 0,signal:s})];case 1:return e=f.sent(),[3,3];case 2:if((t=f.sent())instanceof TypeError)throw new Error("Network error");throw t;case 3:return a={},null===(l=e.headers)||void 0===l||l.forEach((function(e,t){a[t.toLowerCase()]=e})),u={statusCode:e.status,headers:a,body:null},c=Object.assign(null!==(d=e.body)&&void 0!==d?d:{},{text:Sd((function(){return e.text()})),blob:Sd((function(){return e.blob()})),json:Sd((function(){return e.json()}))}),[2,_d(_d({},u),{body:c})]}}))}))}),[function(e){var t=e.userAgentHeader,n=void 0===t?"x-amz-user-agent":t,r=e.userAgentValue,o=void 0===r?"":r;return function(e){return function(t){return qd(this,void 0,void 0,(function(){var r;return Bd(this,(function(i){switch(i.label){case 0:return 0!==o.trim().length?[3,2]:[4,e(t)];case 1:return[2,i.sent()];case 2:return r=n.toLowerCase(),t.headers[r]=t.headers[r]?"".concat(t.headers[r]," ").concat(o):o,[4,e(t)];case 3:return[2,i.sent()]}}))}))}}},function(e){var t=e.maxAttempts,n=void 0===t?3:t,r=e.retryDecider,o=e.computeDelay,i=e.abortSignal;if(n<1)throw new Error("maxAttempts must be greater than 0");return function(e,t){return function(s){var a;return Pd(this,void 0,void 0,(function(){var u,c,l,d,f,h;return xd(this,(function(p){switch(p.label){case 0:c=null!==(a=t.attemptsCount)&&void 0!==a?a:0,d=function(){if(l)return Td(l,c),l;throw Td(u,c),u},p.label=1;case 1:if((null==i?void 0:i.aborted)||!(c<n))return[3,11];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,e(s)];case 3:return l=p.sent(),u=void 0,[3,5];case 4:return f=p.sent(),u=f,l=void 0,[3,5];case 5:return c=t.attemptsCount>c?t.attemptsCount:c+1,t.attemptsCount=c,[4,r(l,u)];case 6:return p.sent()?!(null==i?void 0:i.aborted)&&c<n?(h=o(c),[4,Id(h,i)]):[3,8]:[3,9];case 7:p.sent(),p.label=8;case 8:return[3,1];case 9:return[2,d()];case 10:return[3,1];case 11:if(null==i?void 0:i.aborted)throw new Error("Request aborted.");return[2,d()]}}))}))}}}]);this&&this.__awaiter,this&&this.__generator;var Wd,Vd=this&&this.__assign||function(){return Vd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vd.apply(this,arguments)},Hd=function(e){var t,n,r=e.headers,o=e.statusCode;return Vd(Vd({},Kd(e)?e.$metadata:{}),{httpStatusCode:o,requestId:null!==(n=null!==(t=r["x-amzn-requestid"])&&void 0!==t?t:r["x-amzn-request-id"])&&void 0!==n?n:r["x-amz-request-id"],extendedRequestId:r["x-amz-id-2"],cfId:r["x-amz-cf-id"]})},Kd=function(e){return"object"==typeof(null==e?void 0:e.$metadata)},Jd=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Yd=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Zd=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Qd=function(e){return Jd(void 0,void 0,void 0,(function(){var t,n,r,o,i,s,a,u,c;return Yd(this,(function(l){switch(l.label){case 0:return!e||e.statusCode<300?[2]:[4,Xd(e)];case 1:return t=l.sent(),n=function(e){var t=Zd(e.toString().split(/[\,\:]+/),1)[0];return t.includes("#")?t.split("#")[1]:t}(null!==(a=null!==(s=null!==(i=e.headers["x-amzn-errortype"])&&void 0!==i?i:t.code)&&void 0!==s?s:t.__type)&&void 0!==a?a:"UnknownError"),r=null!==(c=null!==(u=t.message)&&void 0!==u?u:t.Message)&&void 0!==c?c:"Unknown error",o=new Error(r),[2,Object.assign(o,{name:n,$metadata:Hd(e)})]}}))}))},Xd=function(e){return Jd(void 0,void 0,void 0,(function(){var t;return Yd(this,(function(n){switch(n.label){case 0:if(!e.body)throw new Error("Missing response payload");return[4,e.body.json()];case 1:return t=n.sent(),[2,Object.assign(t,{$metadata:Hd(e)})]}}))}))},ef=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},tf=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},nf=$d(Gd,[function(){return function(e,t){return function(t){return ef(this,void 0,void 0,(function(){return tf(this,(function(n){return t.headers["cache-control"]="no-store",[2,e(t)]}))}))}}}]),rf={service:"cognito-identity",endpointResolver:function(e){var t=e.region;return{url:new URL("https://cognito-identity.".concat(t,".").concat(yd(t)))}},retryDecider:(Wd=Qd,function(e,t){return Md(void 0,void 0,void 0,(function(){var n,r,o,i;return Rd(this,(function(s){switch(s.label){case 0:return null==t?[3,1]:(r=t,[3,3]);case 1:return[4,Wd(e)];case 2:r=s.sent(),s.label=3;case 3:return n=(null!==(i=r)&&void 0!==i?i:{}).name,o=null==e?void 0:e.statusCode,[2,jd(t)||Dd(o,n)||Nd(n)||zd(o,n)]}}))}))}),computeDelay:function(e){var t=Ke(Od)(e);return!1===t?Od:t},userAgentValue:Ce()};we((function(){rf.userAgentValue=Ce()}));var of=function(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}},sf=function(e,t,n){return{headers:t,url:e.url,body:n,method:"POST"}},af=this&&this.__assign||function(){return af=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},af.apply(this,arguments)},uf=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},cf=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},lf=function(e,t,n,r){return function(o,i){return uf(void 0,void 0,void 0,(function(){var s,a,u,c;return cf(this,(function(l){switch(l.label){case 0:return[4,(s=af(af({},r),o)).endpointResolver(s,i)];case 1:return a=l.sent(),[4,t(i,a)];case 2:return u=l.sent(),[4,e(u,af({},s))];case 3:return c=l.sent(),[4,n(c)];case 4:return[2,l.sent()]}}))}))}},df=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ff=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},hf=lf(nf,(function(e,t){var n=of("GetId"),r=JSON.stringify(e);return sf(t,n,r)}),(function(e){return df(void 0,void 0,void 0,(function(){return ff(this,(function(t){switch(t.label){case 0:return e.statusCode>=300?[4,Qd(e)]:[3,2];case 1:throw t.sent();case 2:return[4,Xd(e)];case 3:return[2,{IdentityId:t.sent().IdentityId,$metadata:Hd(e)}]}}))}))}),rf),pf=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},vf=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},gf=function(e){return void 0===e&&(e={}),{AccessKeyId:e.AccessKeyId,SecretKey:e.SecretKey,SessionToken:e.SessionToken,Expiration:new Date(1e3*e.Expiration)}},mf=lf(nf,(function(e,t){var n=of("GetCredentialsForIdentity"),r=JSON.stringify(e);return sf(t,n,r)}),(function(e){return pf(void 0,void 0,void 0,(function(){var t;return vf(this,(function(n){switch(n.label){case 0:return e.statusCode>=300?[4,Qd(e)]:[3,2];case 1:throw n.sent();case 2:return[4,Xd(e)];case 3:return[2,{IdentityId:(t=n.sent()).IdentityId,Credentials:gf(t.Credentials),$metadata:Hd(e)}]}}))}))}),rf),yf=this&&this.__assign||function(){return yf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yf.apply(this,arguments)},wf=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},bf=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Sf=new re("Credentials"),_f="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Ef=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=ld.refreshGoogleToken,this._refreshHandlers.facebook=dd.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=yf(yf({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new pd).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),function(e,t,n){Oe.dispatch("core",{event:e,data:t,message:n},"Credentials",_f)}("credentials_configured",null,"Credentials has been configured successfully"),this._config},e.prototype.get=function(){return Sf.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"".concat("CognitoIdentityId-").concat(e)},e.prototype._pickupCredentials=function(){return Sf.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Sf.debug("getting old cred promise"):(Sf.debug("getting new cred promise"),this._gettingCredPromise=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,o=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return o.isFullfilled=function(){return r},o.isPending=function(){return t},o.isRejected=function(){return n},o}(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return wf(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return bf(this,(function(a){switch(a.label){case 0:if(Sf.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Sf.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Sf.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?ae.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Sf.debug("ttl has passed but token is not yet expired"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=a.sent(),[4,n.currentSession()];case 3:return o=a.sent(),i=o.refreshToken,[4,new Promise((function(e,t){r.refreshSession(i,(function(n,r){return n?t(n):e(r)}))}))];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),Sf.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){Sf.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,o=e.identity_id,i=e.expires_at;i=1970===new Date(i).getFullYear()?1e3*i:i;var s=this;return Sf.debug("checking if federated jwt token expired"),i>(new Date).getTime()?(Sf.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:o,expires_at:i})):s._refreshHandlers[t]&&"function"==typeof s._refreshHandlers[t]?(Sf.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[t],provider:t,user:n})):(Sf.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,o=e.user;return Je(n,[],1e4).then((function(e){return Sf.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:o,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),Sf.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Sf.debug("no credentials for expiration check"),!0;Sf.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var e;return wf(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,u,c,l,d=this;return bf(this,(function(f){switch(f.label){case 0:return Sf.debug("setting credentials for guest"),(null===(e=this._config)||void 0===e?void 0:e.identityPoolId)||(this._config=Object.assign({},this._config,rn(this._config||{}).Auth)),t=this._config,n=t.identityPoolId,r=t.region,o=t.mandatorySignIn,i=t.identityPoolRegion,o?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:n?i||r?(a=this,[4,this._getGuestIdentityId()]):(Sf.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Sf.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return s=a._identityId=f.sent(),u={region:null!=i?i:r},c=function(){return wf(d,void 0,void 0,(function(){var e,t;return bf(this,(function(r){switch(r.label){case 0:return s?[3,2]:[4,hf(u,{IdentityPoolId:n})];case 1:e=r.sent().IdentityId,this._identityId=e,r.label=2;case 2:return[4,mf(u,{IdentityId:this._identityId})];case 3:return t=r.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}}))}))},l=c().catch((function(e){return wf(d,void 0,void 0,(function(){return bf(this,(function(t){throw e}))}))})),[2,this._loadCredentials(l,"guest",!1,null).then((function(e){return e})).catch((function(e){return wf(d,void 0,void 0,(function(){var t,r=this;return bf(this,(function(o){switch(o.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '".concat(s,"' not found.")?[3,2]:(Sf.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return o.sent(),t=function(){return wf(r,void 0,void 0,(function(){var e,t;return bf(this,(function(r){switch(r.label){case 0:return[4,hf(u,{IdentityPoolId:n})];case 1:return e=r.sent().IdentityId,this._identityId=e,[4,mf(u,{IdentityId:e})];case 2:return t=r.sent().Credentials,[2,{identityId:e,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}}))}))},l=t().catch((function(e){return wf(r,void 0,void 0,(function(){return bf(this,(function(t){throw e}))}))})),[2,this._loadCredentials(l,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=this,n=e.provider,r=e.token,o=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[n]||n;if(!i)return Promise.reject("You must specify a federated provider");var s={};s[i]=r;var a=this._config,u=a.identityPoolId,c=a.region,l=a.identityPoolRegion;if(!u)return Sf.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!l&&!c)return Sf.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var d={region:null!=l?l:c},f=wf(t,void 0,void 0,(function(){var e,t;return bf(this,(function(n){switch(n.label){case 0:return o?[3,2]:[4,hf(d,{IdentityPoolId:u,Logins:s})];case 1:e=n.sent().IdentityId,o=e,n.label=2;case 2:return[4,mf(d,{IdentityId:o,Logins:s})];case 3:return t=n.sent().Credentials,[2,{identityId:o,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}}))})).catch((function(e){return wf(t,void 0,void 0,(function(){return bf(this,(function(t){throw e}))}))}));return this._loadCredentials(f,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Sf.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,o=r.region,i=r.userPoolId,s=r.identityPoolId,a=r.identityPoolRegion;if(!s)return Sf.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!a&&!o)return Sf.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var u={};u["cognito-idp."+o+".amazonaws.com/"+i]=n;var c={region:null!=a?a:o},l=wf(t,void 0,void 0,(function(){var e,t,n,r,o,i,a,l,d,f;return bf(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,hf(c,{IdentityPoolId:s,Logins:u})];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,mf(c,{IdentityId:e||t,Logins:u})];case 4:return r=h.sent(),o=r.Credentials,i=o.AccessKeyId,a=o.Expiration,l=o.SecretKey,d=o.SessionToken,f=r.IdentityId,this._identityId=f,e?(Sf.debug("The guest identity ".concat(e," has been successfully linked to the logins")),e===f&&Sf.debug("The guest identity ".concat(e," has become the primary identity")),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:i,secretAccessKey:l,sessionToken:d,expiration:a,identityId:f}]}}))})).catch((function(e){return wf(t,void 0,void 0,(function(){return bf(this,(function(t){throw e}))}))}));return this._loadCredentials(l,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var o=this,i=this;return new Promise((function(s,a){e.then((function(e){return wf(o,void 0,void 0,(function(){var o,a,u,c,l;return bf(this,(function(d){switch(d.label){case 0:if(Sf.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),i._credentials=e,i._credentials.authenticated=n,i._credentials_source=t,i._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){o=Object.assign({id:this._credentials.identityId},r.user),a=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:o,expires_at:c,identity_id:l}))}catch(e){Sf.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:d.sent(),d.label=2;case 2:return s(i._credentials),[2]}}))}))})).catch((function(t){if(t)return Sf.debug("Failed to load credentials",e),Sf.debug("Error loading credentials",t),void a(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Sf.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return wf(this,void 0,void 0,(function(){return bf(this,(function(e){return this._credentials=null,this._credentials_source=null,Sf.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return wf(this,void 0,void 0,(function(){var e,t;return bf(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),Sf.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return wf(this,void 0,void 0,(function(){var t,n;return bf(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),Sf.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return wf(this,void 0,void 0,(function(){var e;return bf(this,(function(t){return e=this._config.identityPoolId,Sf.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(e)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),Cf=new Ef(null);ae.register(Cf),function(){function e(){this._logger=new re("ServiceWorker")}Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!1,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering ".concat(e)),this._logger.debug("registering service worker with scope ".concat(t)),new Promise((function(r,o){if(!navigator||!("serviceWorker"in navigator))return o(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then((function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: ".concat(e)),r(e)})).catch((function(e){return n._logger.debug("Service Worker Registration Failed ".concat(e)),o(e)}))}))},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise((function(n,r){if(!je().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then((function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then((function(e){t._subscription=e,t._logger.debug("User subscribed: ".concat(JSON.stringify(e))),n(e)})).catch((function(e){t._logger.error(e)}));t._subscription=r,t._logger.debug("User is subscribed to push: ".concat(JSON.stringify(r))),n(r)}))}))},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",(function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: ".concat(n)),ae.Analytics&&"function"==typeof ae.Analytics.record&&ae.Analytics.record({name:"ServiceWorker",attributes:{state:n}})})),this._serviceWorker.addEventListener("message",(function(t){e._logger.debug("ServiceWorker message event: ".concat(t))}))}}();
/*!
     * cookie
     * Copyright(c) 2012-2014 Roman Shtylman
     * Copyright(c) 2015 Douglas Christopher Wilson
     * MIT Licensed
     */
var Af=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},o=e.split(";"),i=r.decode||Pf,s=0;s<o.length;s++){var a=o[s],u=a.indexOf("=");if(!(u<0)){var c=a.substring(0,u).trim();if(null==n[c]){var l=a.substring(u+1,a.length).trim();'"'===l[0]&&(l=l.slice(1,-1)),n[c]=Tf(l,i)}}}return n},kf=function(e,t,n){var r=n||{},o=r.encode||xf;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!If.test(e))throw new TypeError("argument name is invalid");var i=o(t);if(i&&!If.test(i))throw new TypeError("argument val is invalid");var s=e+"="+i;if(null!=r.maxAge){var a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(r.domain){if(!If.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!If.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(s+="; HttpOnly");r.secure&&(s+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s},Pf=decodeURIComponent,xf=encodeURIComponent,If=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Tf(e,t){try{return t(e)}catch(t){return e}}function Of(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var Uf=this&&this.__assign||function(){return Uf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Uf.apply(this,arguments)},Nf=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?Af(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Af(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),Of(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=Of(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=Uf(Uf({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=kf(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=Uf(Uf({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Uf({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=kf(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),Mf=this&&this.__assign||function(){return Mf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mf.apply(this,arguments)},Rf=je().isBrowser,Lf=function(){function e(e){void 0===e&&(e={}),this.cookies=new Nf,this.store=Rf?window.localStorage:Object.create(null),this.cookies=e.req?new Nf(decodeURIComponent(e.req.headers.cookie)):new Nf,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!1,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){this.setLocalItem(e,t);var n=e.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(null!=n?n:"")&&this.setUniversalItem(e,t,{expires:new Date(Date.now()+31536e6)})},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t,n){void 0===n&&(n={}),this.cookies.set(e,t,Mf(Mf({},n),{path:"/",sameSite:!0,secure:!Rf||"localhost"!==window.location.hostname}))},e}();Ee.userAgent;for(
/*!
     * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */
var Ff=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,o=t.Password,i=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=i||{},this.clientMetadata=s||{},this.username=r,this.password=o}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),Df={},jf={byteLength:function(e){var t=Wf(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){var t,n,r=Wf(e),o=r[0],i=r[1],s=new Bf(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),a=0,u=i>0?o-4:o;for(n=0;n<u;n+=4)t=qf[e.charCodeAt(n)]<<18|qf[e.charCodeAt(n+1)]<<12|qf[e.charCodeAt(n+2)]<<6|qf[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===i&&(t=qf[e.charCodeAt(n)]<<2|qf[e.charCodeAt(n+1)]>>4,s[a++]=255&t);1===i&&(t=qf[e.charCodeAt(n)]<<10|qf[e.charCodeAt(n+1)]<<4|qf[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},fromByteArray:function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(Vf(e,s,s+i>a?a:s+i));1===r?(t=e[n-1],o.push(zf[t>>2]+zf[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(zf[t>>10]+zf[t>>4&63]+zf[t<<2&63]+"="));return o.join("")}},zf=[],qf=[],Bf="undefined"!=typeof Uint8Array?Uint8Array:Array,$f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gf=0;Gf<64;++Gf)zf[Gf]=$f[Gf],qf[$f.charCodeAt(Gf)]=Gf;function Wf(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Vf(e,t,n){for(var r,o,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(zf[(o=r)>>18&63]+zf[o>>12&63]+zf[o>>6&63]+zf[63&o]);return i.join("")}qf["-".charCodeAt(0)]=62,qf["_".charCodeAt(0)]=63;var Hf,Kf={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,l=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-l)-1,h>>=-l,l+=a;l>0;i=256*i+e[t+d],d+=f,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=c}return(h?-1:1)*s*Math.pow(2,i-r)},write:function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=255&a,h+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*v}},Jf={}.toString,Yf=Array.isArray||function(e){return"[object Array]"==Jf.call(e)};if(
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <http://feross.org>
     * @license  MIT
     */
function(e){var t=jf,n=Kf,r=Yf;function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,n)}function a(e,t,n,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=l(e,t);return e}(e,t,n,o):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n);e=i(e,r);var o=e.write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|d(t.length);return 0===(e=i(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?i(e,0):l(e,t);if("Buffer"===t.type&&r(t.data))return l(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(u(t),e=i(e,t<0?0:0|d(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|d(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var l=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var d=!0,f=0;f<u;f++)if(c(e,i+f)!==c(t,f)){d=!1;break}if(d)return i}return-1}function m(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function y(e,t,n,r){return q(j(t,e.length-n),e,n,r)}function w(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return q(z(t),e,n,r)}function _(e,t,n,r){return q(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,u,c=e[o],l=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}e.Buffer=s,e.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==Ye.TYPED_ARRAY_SUPPORT?Ye.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=o(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return a(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}(null,e,t,n)},s.allocUnsafe=function(e){return c(null,e)},s.allocUnsafeSlow=function(e){return c(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):h.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(e,t,n,r,o){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n),d=0;d<u;++d)if(c[d]!==l[d]){i=c[d],a=l[d];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=D(e[i]);return o}function I(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,r,o,i){return i||M(e,0,r,4),n.write(e,t,r,o,23,4),r+4}function L(e,t,r,o,i){return i||M(e,0,r,8),n.write(e,t,r,o,52,8),r+8}s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var o=t-e;n=new s(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},s.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),n.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),n.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),n.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),n.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||O(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||O(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);O(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);O(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=s.isBuffer(e)?e:j(new s(e,r).toString()),u=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%u]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){return t.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}(Df),"undefined"!=typeof window&&window.crypto&&(Hf=window.crypto),!Hf&&"undefined"!=typeof window&&window.msCrypto&&(Hf=window.msCrypto),!Hf&&"undefined"!=typeof global&&global.crypto&&(Hf=global.crypto),!Hf&&"function"==typeof require)try{Hf=require("crypto")}catch(e){}function Zf(){if(Hf){if("function"==typeof Hf.getRandomValues)try{return Hf.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof Hf.randomBytes)try{return Hf.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var Qf,Xf=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(Zf());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")}(this)},e}();function eh(e,t){null!=e&&this.fromString(e,t)}function th(){return new eh(null)}var nh="undefined"!=typeof navigator;nh&&"Microsoft Internet Explorer"==navigator.appName?(eh.prototype.am=function(e,t,n,r,o,i){for(var s=32767&t,a=t>>15;--i>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;o=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&o))>>>30)+(l>>>15)+a*c+(o>>>30),n[r++]=1073741823&u}return o},Qf=30):nh&&"Netscape"!=navigator.appName?(eh.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var s=t*this[e++]+n[r]+o;o=Math.floor(s/67108864),n[r++]=67108863&s}return o},Qf=26):(eh.prototype.am=function(e,t,n,r,o,i){for(var s=16383&t,a=t>>14;--i>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;o=((u=s*u+((16383&l)<<14)+n[r]+o)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return o},Qf=28),eh.prototype.DB=Qf,eh.prototype.DM=(1<<Qf)-1,eh.prototype.DV=1<<Qf;eh.prototype.FV=Math.pow(2,52),eh.prototype.F1=52-Qf,eh.prototype.F2=2*Qf-52;var rh,oh,ih="0123456789abcdefghijklmnopqrstuvwxyz",sh=new Array;for(rh="0".charCodeAt(0),oh=0;oh<=9;++oh)sh[rh++]=oh;for(rh="a".charCodeAt(0),oh=10;oh<36;++oh)sh[rh++]=oh;for(rh="A".charCodeAt(0),oh=10;oh<36;++oh)sh[rh++]=oh;function ah(e){return ih.charAt(e)}function uh(e,t){var n=sh[e.charCodeAt(t)];return null==n?-1:n}function ch(e){var t=th();return t.fromInt(e),t}function lh(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function dh(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}
/*!
     * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */
function fh(e){return Df.Buffer.from((new Xf).random(e).toString(),"hex")}dh.prototype.convert=function(e){var t=th();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(eh.ZERO)>0&&this.m.subTo(t,t),t},dh.prototype.revert=function(e){var t=th();return e.copyTo(t),this.reduce(t),t},dh.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},dh.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},dh.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},eh.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},eh.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},eh.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,o=!1,i=0;--r>=0;){var s=uh(e,r);s<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=s:i+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-i)-1)<<i,this[this.t++]=s>>this.DB-i):this[this.t-1]|=s<<i,(i+=n)>=this.DB&&(i-=this.DB))}this.clamp(),o&&eh.ZERO.subTo(this,this)},eh.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},eh.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},eh.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},eh.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>o|a,a=(this[n]&i)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},eh.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&i)<<o,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},eh.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},eh.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),o=n.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&eh.ZERO.subTo(t,t)},eh.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},eh.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=th());var i=th(),s=this.s,a=e.s,u=this.DB-lh(r[r.t-1]);u>0?(r.lShiftTo(u,i),o.lShiftTo(u,n)):(r.copyTo(i),o.copyTo(n));var c=i.t,l=i[c-1];if(0!=l){var d=l*(1<<this.F1)+(c>1?i[c-2]>>this.F2:0),f=this.FV/d,h=(1<<this.F1)/d,p=1<<this.F2,v=n.t,g=v-c,m=null==t?th():t;for(i.dlShiftTo(g,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),eh.ONE.dlShiftTo(c,m),m.subTo(i,i);i.t<c;)i[i.t++]=0;for(;--g>=0;){var y=n[--v]==l?this.DM:Math.floor(n[v]*f+(n[v-1]+p)*h);if((n[v]+=i.am(0,y,n,g,0,c))<y)for(i.dlShiftTo(g,m),n.subTo(m,n);n[v]<--y;)n.subTo(m,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&eh.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&eh.ZERO.subTo(n,n)}}},eh.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},eh.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},eh.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,o=!1,i="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(o=!0,i=ah(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(o=!0),o&&(i+=ah(n));return o?i:"0"},eh.prototype.negate=function(){var e=th();return eh.ZERO.subTo(this,e),e},eh.prototype.abs=function(){return this.s<0?this.negate():this},eh.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},eh.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+lh(this[this.t-1]^this.s&this.DM)},eh.prototype.mod=function(e){var t=th();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(eh.ZERO)>0&&e.subTo(t,t),t},eh.prototype.equals=function(e){return 0==this.compareTo(e)},eh.prototype.add=function(e){var t=th();return this.addTo(e,t),t},eh.prototype.subtract=function(e){var t=th();return this.subTo(e,t),t},eh.prototype.multiply=function(e){var t=th();return this.multiplyTo(e,t),t},eh.prototype.divide=function(e){var t=th();return this.divRemTo(e,t,null),t},eh.prototype.modPow=function(e,t,n){var r,o=e.bitLength(),i=ch(1),s=new dh(t);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6;var a=new Array,u=3,c=r-1,l=(1<<r)-1;if(a[1]=s.convert(this),r>1){var d=th();for(s.sqrTo(a[1],d);u<=l;)a[u]=th(),s.mulTo(d,a[u-2],a[u]),u+=2}var f,h,p=e.t-1,v=!0,g=th();for(o=lh(e[p])-1;p>=0;){for(o>=c?f=e[p]>>o-c&l:(f=(e[p]&(1<<o+1)-1)<<c-o,p>0&&(f|=e[p-1]>>this.DB+o-c)),u=r;0==(1&f);)f>>=1,--u;if((o-=u)<0&&(o+=this.DB,--p),v)a[f].copyTo(i),v=!1;else{for(;u>1;)s.sqrTo(i,g),s.sqrTo(g,i),u-=2;u>0?s.sqrTo(i,g):(h=i,i=g,g=h),s.mulTo(g,a[f],i)}for(;p>=0&&0==(e[p]&1<<o);)s.sqrTo(i,g),h=i,i=g,g=h,--o<0&&(o=this.DB-1,--p)}var m=s.revert(i);return n(null,m),m},eh.ZERO=ch(0),eh.ONE=ch(1);var hh=/^[89a-f]/i,ph=function(){function e(e){this.N=new eh("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new eh("2",16),this.k=new eh(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=Df.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){return new eh(fh(128).toString("hex"),16)},t.generateRandomString=function(){return fh(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var o=""+e+t+":"+this.randomPassword,i=this.hash(o),s=fh(16).toString("hex");this.SaltToHashDevices=this.padHex(new eh(s,16)),this.g.modPow(new eh(this.hexHash(this.SaltToHashDevices+i),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(eh.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new eh(this.UHexHash,16)},t.hash=function(e){var t=new Pt.Sha256;t.update(e);var n=t.digestSync(),r=Df.Buffer.from(n).toString("hex");return new Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(Df.Buffer.from(e,"hex"))},t.computehkdf=function(e,t){var n=Df.Buffer.concat([this.infoBits,Df.Buffer.from(String.fromCharCode(1),"utf8")]),r=new Pt.Sha256(t);r.update(e);var o=r.digestSync(),i=new Pt.Sha256(o);return i.update(n),i.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,o){var i=this;if(n.mod(this.N).equals(eh.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(eh.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new eh(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,(function(e,t){e&&o(e,null);var n=i.computehkdf(Df.Buffer.from(i.padHex(t),"hex"),Df.Buffer.from(i.padHex(i.UValue),"hex"));o(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(o,i){o&&n(o,null),t.subtract(r.k.multiply(i)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof eh))throw new Error("Not a BigInteger");var t=e.compareTo(eh.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=hh.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new eh(r,16).add(eh.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),vh=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(Df.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function gh(e,t){return gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gh(e,t)}var mh=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,gh(t,n),r}(vh);function yh(e,t){return yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yh(e,t)}var wh=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,yh(t,n),r}(vh),bh=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),Sh={userAgent:"aws-amplify/5.0.4",isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product},_h=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,o=t.AccessToken,i=t.ClockDrift;if(null==o||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=o,this.clockDrift=void 0===i?this.calculateClockDrift():i}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),Eh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ch=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ah=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=Ch[e.getUTCDay()],n=Eh[e.getUTCMonth()],r=e.getUTCDate(),o=e.getUTCHours();o<10&&(o="0"+o);var i=e.getUTCMinutes();i<10&&(i="0"+i);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+o+":"+i+":"+s+" UTC "+e.getUTCFullYear()},e}(),kh=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),Ph={},xh=function(){function e(){}return e.setItem=function(e,t){return Ph[e]=t,Ph[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Ph,e)?Ph[e]:void 0},e.removeItem=function(e){return delete Ph[e]},e.clear=function(){return Ph={}},e}(),Ih=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=xh}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Th="undefined"!=typeof navigator?Sh.isReactNative?"react-native":navigator.userAgent:"nodejs",Oh=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new Ih).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),i={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",i,(function(e,r){if(e)return t.onFailure(e);var o=r.ChallengeName,i=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===o?(n.Session=r.Session,t.customChallenge(i)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,o=this,i=new ph(this.pool.getUserPoolName()),s=new Ah,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,i.getLargeAValue((function(u,c){u&&t.onFailure(u),a.SRP_A=c.toString(16),"CUSTOM_AUTH"===o.authenticationFlowType&&(a.CHALLENGE_NAME="SRP_A");var l=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),d={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:a,ClientMetadata:l};o.getUserContextData(o.username)&&(d.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",d,(function(a,u){if(a)return t.onFailure(a);var c=u.ChallengeParameters;o.username=c.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",n=new eh(c.SRP_B,16),r=new eh(c.SALT,16),o.getCachedDeviceKeyAndPassword(),i.getPasswordAuthenticationKey(o.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=s.getNowString(),a=Df.Buffer.concat([Df.Buffer.from(o.pool.getUserPoolName(),"utf8"),Df.Buffer.from(o.username,"utf8"),Df.Buffer.from(c.SECRET_BLOCK,"base64"),Df.Buffer.from(r,"utf8")]),d=new Pt.Sha256(n);d.update(a);var f=d.digestSync(),h=Df.Buffer.from(f).toString("base64"),p={};p.USERNAME=o.username,p.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,p.TIMESTAMP=r,p.PASSWORD_CLAIM_SIGNATURE=h,null!=o.deviceKey&&(p.DEVICE_KEY=o.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:p,Session:u.Session,ClientMetadata:l};o.getUserContextData()&&(v.UserContextData=o.getUserContextData()),function e(t,n){return o.client.request("RespondToAuthChallenge",t,(function(r,i){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,i)}))}(v,(function(e,n){return e?t.onFailure(e):o.authenticateUserInternal(n,i,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var o=new ph(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,o,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,o=e.ChallengeName,i=e.ChallengeParameters;if("SMS_MFA"===o)return this.Session=e.Session,n.mfaRequired(o,i);if("SELECT_MFA_TYPE"===o)return this.Session=e.Session,n.selectMFAType(o,i);if("MFA_SETUP"===o)return this.Session=e.Session,n.mfaSetup(o,i);if("SOFTWARE_TOKEN_MFA"===o)return this.Session=e.Session,n.totpRequired(o,i);if("CUSTOM_CHALLENGE"===o)return this.Session=e.Session,n.customChallenge(i);if("NEW_PASSWORD_REQUIRED"===o){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(i&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var l=0;l<a.length;l++)u[l]=a[l].substr(c.length);return n.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===o)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=o,this.cacheTokens();var d=e.AuthenticationResult.NewDeviceMetadata;if(null==d)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(o){if(o)return n.onFailure(o);var i={Salt:Df.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Df.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=i.PasswordVerifier,r.deviceGroupKey=d.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:d.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:Th},(function(t,o){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===o.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,o.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var o=this;if(!e)return n.onFailure(new Error("New password is required."));var i=new ph(this.pool.getUserPoolName()),s=i.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):o.authenticateUserInternal(t,i,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new ph(this.deviceGroupKey),o=new Ah,i={};i.USERNAME=this.username,i.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(s,a){s&&e.onFailure(s),i.SRP_A=a.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:i,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,(function(t,i){if(t)return e.onFailure(t);var s=i.ChallengeParameters,a=new eh(s.SRP_B,16),u=new eh(s.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,a,u,(function(t,r){if(t)return e.onFailure(t);var a=o.getNowString(),u=Df.Buffer.concat([Df.Buffer.from(n.deviceGroupKey,"utf8"),Df.Buffer.from(n.deviceKey,"utf8"),Df.Buffer.from(s.SECRET_BLOCK,"base64"),Df.Buffer.from(a,"utf8")]),c=new Pt.Sha256(r);c.update(u);var l=c.digestSync(),d=Df.Buffer.from(l).toString("base64"),f={};f.USERNAME=n.username,f.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,f.TIMESTAMP=a,f.PASSWORD_CLAIM_SIGNATURE=d,f.DEVICE_KEY=n.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:f,Session:i.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",h,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",o,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,o={};o.USERNAME=this.username,o.ANSWER=e;var i=new ph(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,i,t)}))},t.sendMFACode=function(e,t,n,r){var o=this,i={};i.USERNAME=this.username,i.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(i.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(o.signInUserSession=o.getCognitoUserSession(n.AuthenticationResult),o.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(o.signInUserSession);var r=new ph(o.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var i={Salt:Df.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Df.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=i.PasswordVerifier,o.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,o.randomPassword=r.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:Th},(function(e,r){return e?t.onFailure(e):(o.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(o.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(o.signInUserSession))}))}))}else o.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e,n){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS",n)}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],o=0;o<n.UserAttributes.length;o++){var i={Name:n.UserAttributes[o].Name,Value:n.UserAttributes[o].Value},s=new kh(i);r.push(s)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",o=n+".accessToken",i=n+".refreshToken",s=n+".clockDrift";if(this.storage.getItem(r)){var a=new wh({IdToken:this.storage.getItem(r)}),u=new mh({AccessToken:this.storage.getItem(o)}),c=new bh({RefreshToken:this.storage.getItem(i)}),l=parseInt(this.storage.getItem(s),0)||0,d=new _h({IdToken:a,AccessToken:u,RefreshToken:c,ClockDrift:l});if(d.isValid())return this.signInUserSession=d,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,o=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,i={};i.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),i.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),o(t,null);if(n){var i=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(i,"RefreshToken")||(i.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(i),r.cacheTokens(),o(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+"."+this.username+".clockDrift",i=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(o,""+this.signInUserSession.getClockDrift()),this.storage.setItem(i,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+".LastAuthUser",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(o),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){var t=new wh(e),n=new mh(e),r=new bh(e);return new _h({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",o,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var o={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,(function(r,o){return r?t.onFailure(r):(n.Session=o.Session,"SMS_MFA"===e?t.mfaRequired(o.ChallengeName,o.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(o.ChallengeName,o.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var o={};o.USERNAME=r.username;var i={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:o,Session:r.Session};r.getUserContextData()&&(i.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",i,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();
/*!
     * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */function Uh(){}Uh.prototype.userAgent=Sh.userAgent;var Nh=function(e){Uh.framework=e};function Mh(e){var t="function"==typeof Map?new Map:void 0;return Mh=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Rh(e,arguments,Fh(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Lh(r,e)},Mh(e)}function Rh(e,t,n){return Rh=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Lh(o,n.prototype),o},Rh.apply(null,arguments)}function Lh(e,t){return Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lh(e,t)}function Fh(e){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fh(e)}var Dh=function(e){var t,n;function r(t,n,r,o){var i;return(i=e.call(this,t)||this).code=n,i.name=r,i.statusCode=o,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Lh(t,n),r}(Mh(Error)),jh=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,o){n.request(e,t,(function(e,t){e?o(new Dh(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=$h);return Bh(e,t,function(e){var t=100,n=100;return function(r){var o=Math.pow(2,r)*t+n*Math.random();return!(o>e)&&o}}(n))}
/*!
     * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */)((function(t){return new Promise((function(n,o){r.request(e,t,(function(e,t){e?o(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,o,i,s={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":(r=Uh.category?" "+Uh.category:"",o=Uh.framework?" framework/"+Uh.framework:"",""+Uh.prototype.userAgent+r+o),"Cache-Control":"no-store"},a=Object.assign({},this.fetchOptions,{headers:s,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,a).then((function(e){return i=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(i.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),r=new Error(e.message||e.Message||null);return r.name=t,r.code=t,n(r)})).catch((function(e){if(i&&i.headers&&i.headers.get("x-amzn-errortype"))try{var t=i.headers.get("x-amzn-errortype").split(":")[0],r=new Error(i.status?i.status.toString():null);return r.code=t,r.name=t,r.statusCode=i.status,n(r)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),zh={debug:function(){}},qh=function(e){return e&&e.nonRetryable};function Bh(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return zh.debug(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(o){if(zh.debug("error on "+e.name,o),qh(o))throw zh.debug(e.name+" non retryable error",o),o;var i=n(r,t,o);if(zh.debug(e.name+" retrying in "+i+" ms"),!1!==i)return new Promise((function(e){return setTimeout(e,i)})).then((function(){return Bh(e,t,n,r+1)}));throw o}))}var $h=3e5;var Gh=function(){function e(e,t){var n=e||{},r=n.UserPoolId,o=n.ClientId,i=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!o)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=o,this.client=new jh(u,i,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new Ih).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,o,i){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:i};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,(function(t,n){if(t)return o(t,null);var r={Username:e,Pool:s,Storage:s.storage},i={user:new Oh(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return o(null,i)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new Oh(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),Wh={};
/*!
     * JavaScript Cookie v2.2.1
     * https://github.com/js-cookie/js-cookie
     *
     * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
     * Released under the MIT license
     */
!function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in i)i[u]&&(a+="; "+u,!0!==i[u]&&(a+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()}({get exports(){return Wh},set exports(e){Wh=e}});var Vh=function(){function e(e){if(void 0===e&&(e={}),e.domain&&(this.domain=e.domain),e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),Wh.set(e,t,n),Wh.get(e)},t.getItem=function(e){return Wh.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),Wh.remove(e,t)},t.clear=function(){for(var e=Wh.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),Hh={};
/*! https://mths.be/punycode v1.3.2 by @mathias */
!function(e,t){!function(n){var r=t&&!t.nodeType&&t,o=e&&!e.nodeType&&e,i="object"==typeof Ye&&Ye;i.global!==i&&i.window!==i&&i.self!==i||(n=i);var s,a,u=2147483647,c=36,l=1,d=26,f=38,h=700,p=72,v=128,g="-",m=/^xn--/,y=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=c-l,_=Math.floor,E=String.fromCharCode;function C(e){throw RangeError(b[e])}function A(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function k(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+A((e=e.replace(w,".")).split("."),t).join(".")}function P(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function x(e){return A(e,(function(e){var t="";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)})).join("")}function I(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,n){var r=0;for(e=n?_(e/h):e>>1,e+=_(e/t);e>S*d>>1;r+=c)e=_(e/S);return _(r+(S+1)*e/(e+f))}function O(e){var t,n,r,o,i,s,a,f,h,m,y,w=[],b=e.length,S=0,E=v,A=p;for((n=e.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&C("not-basic"),w.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<b;){for(i=S,s=1,a=c;o>=b&&C("invalid-input"),((f=(y=e.charCodeAt(o++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||f>_((u-S)/s))&&C("overflow"),S+=f*s,!(f<(h=a<=A?l:a>=A+d?d:a-A));a+=c)s>_(u/(m=c-h))&&C("overflow"),s*=m;A=T(S-i,t=w.length+1,0==i),_(S/t)>u-E&&C("overflow"),E+=_(S/t),S%=t,w.splice(S++,0,E)}return x(w)}function U(e){var t,n,r,o,i,s,a,f,h,m,y,w,b,S,A,k=[];for(w=(e=P(e)).length,t=v,n=0,i=p,s=0;s<w;++s)(y=e[s])<128&&k.push(E(y));for(r=o=k.length,o&&k.push(g);r<w;){for(a=u,s=0;s<w;++s)(y=e[s])>=t&&y<a&&(a=y);for(a-t>_((u-n)/(b=r+1))&&C("overflow"),n+=(a-t)*b,t=a,s=0;s<w;++s)if((y=e[s])<t&&++n>u&&C("overflow"),y==t){for(f=n,h=c;!(f<(m=h<=i?l:h>=i+d?d:h-i));h+=c)A=f-m,S=c-m,k.push(E(I(m+A%S,0))),f=_(A/S);k.push(E(I(f,0))),i=T(n,b,r==o),n=0,++r}++n,++t}return k.join("")}if(s={version:"1.3.2",ucs2:{decode:P,encode:x},decode:O,encode:U,toASCII:function(e){return k(e,(function(e){return y.test(e)?"xn--"+U(e):e}))},toUnicode:function(e){return k(e,(function(e){return m.test(e)?O(e.slice(4).toLowerCase()):e}))}},r&&o)if(e.exports==r)o.exports=s;else for(a in s)s.hasOwnProperty(a)&&(r[a]=s[a]);else n.punycode=s}(Ye)}({get exports(){return Hh},set exports(e){Hh=e}},Hh);var Kh={};function Jh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Yh=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};Kh.decode=Kh.parse=function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var c,l,d,f,h=e[u].replace(i,"%20"),p=h.indexOf(n);p>=0?(c=h.substr(0,p),l=h.substr(p+1)):(c=h,l=""),d=decodeURIComponent(c),f=decodeURIComponent(l),Jh(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o},Kh.encode=Kh.stringify=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var o=encodeURIComponent(Yh(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return o+encodeURIComponent(Yh(e))})).join(t):o+encodeURIComponent(Yh(e[r]))})).join(t):r?encodeURIComponent(Yh(r))+n+encodeURIComponent(Yh(e)):""};var Zh=Hh,Qh={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},Xh=pp;function ep(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var tp=/^([a-z0-9.+-]+:)/i,np=/:[0-9]*$/,rp=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,op=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),ip=["'"].concat(op),sp=["%","/","?",";","#"].concat(ip),ap=["/","?","#"],up=/^[+a-z0-9A-Z_-]{0,63}$/,cp=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,lp={javascript:!0,"javascript:":!0},dp={javascript:!0,"javascript:":!0},fp={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},hp=Kh;function pp(e,t,n){if(e&&Qh.isObject(e)&&e instanceof ep)return e;var r=new ep;return r.parse(e,t,n),r}ep.prototype.parse=function(e,t,n){if(!Qh.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o);i[0]=i[0].replace(/\\/g,"/");var s=e=i.join(o);if(s=s.trim(),!n&&1===e.split("#").length){var a=rp.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?hp.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=tp.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||u&&dp[u]||(s=s.substr(2),this.slashes=!0)}if(!dp[u]&&(l||u&&!fp[u])){for(var d,f,h=-1,p=0;p<ap.length;p++){-1!==(v=s.indexOf(ap[p]))&&(-1===h||v<h)&&(h=v)}-1!==(f=-1===h?s.lastIndexOf("@"):s.lastIndexOf("@",h))&&(d=s.slice(0,f),s=s.slice(f+1),this.auth=decodeURIComponent(d)),h=-1;for(p=0;p<sp.length;p++){var v;-1!==(v=s.indexOf(sp[p]))&&(-1===h||v<h)&&(h=v)}-1===h&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var m=this.hostname.split(/\./),y=(p=0,m.length);p<y;p++){var w=m[p];if(w&&!w.match(up)){for(var b="",S=0,_=w.length;S<_;S++)w.charCodeAt(S)>127?b+="x":b+=w[S];if(!b.match(up)){var E=m.slice(0,p),C=m.slice(p+1),A=w.match(cp);A&&(E.push(A[1]),C.unshift(A[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=Zh.toASCII(this.hostname));var k=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+k,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!lp[c])for(p=0,y=ip.length;p<y;p++){var x=ip[p];if(-1!==s.indexOf(x)){var I=encodeURIComponent(x);I===x&&(I=escape(x)),s=s.split(x).join(I)}}var T=s.indexOf("#");-1!==T&&(this.hash=s.substr(T),s=s.slice(0,T));var O=s.indexOf("?");if(-1!==O?(this.search=s.substr(O),this.query=s.substr(O+1),t&&(this.query=hp.parse(this.query)),s=s.slice(0,O)):t&&(this.search="",this.query={}),s&&(this.pathname=s),fp[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var U=this.search||"";this.path=k+U}return this.href=this.format(),this},ep.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&Qh.isObject(this.query)&&Object.keys(this.query).length&&(i=hp.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||fp[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},ep.prototype.resolve=function(e){return this.resolveObject(pp(e,!1,!0)).format()},ep.prototype.resolveObject=function(e){if(Qh.isString(e)){var t=new ep;t.parse(e,!1,!0),e=t}for(var n=new ep,r=Object.keys(this),o=0;o<r.length;o++){var i=r[o];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(n[u]=e[u])}return fp[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!fp[e.protocol]){for(var c=Object.keys(e),l=0;l<c.length;l++){var d=c[l];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||dp[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=g||v||n.host&&e.pathname,y=m,w=n.pathname&&n.pathname.split("/")||[],b=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!fp[n.protocol]);if(b&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),m=m&&(""===f[0]||""===w[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),n.search=e.search,n.query=e.query;else if(!Qh.isNullOrUndefined(e.search)){if(b)n.hostname=n.host=w.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=e.search,n.query=e.query,Qh.isNull(n.pathname)&&Qh.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=w.slice(-1)[0],_=(n.host||e.host||w.length>1)&&("."===S||".."===S)||""===S,E=0,C=w.length;C>=0;C--)"."===(S=w[C])?w.splice(C,1):".."===S?(w.splice(C,1),E++):E&&(w.splice(C,1),E--);if(!m&&!y)for(;E--;E)w.unshift("..");!m||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),_&&"/"!==w.join("/").substr(-1)&&w.push("");var A,k=""===w[0]||w[0]&&"/"===w[0].charAt(0);b&&(n.hostname=n.host=k?"":w.length?w.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(m=m||n.host&&w.length)&&!k&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),Qh.isNull(n.pathname)&&Qh.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},ep.prototype.parseHost=function(){var e=this.host,t=np.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var vp,gp=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},mp="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",yp=function(e,t,n){Oe.dispatch("auth",{event:e,data:t,message:n},"Auth",mp)},wp=new re("OAuth"),bp=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,o=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||gp,this._config=t,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,i,s){void 0===e&&(e="code"),void 0===i&&(i=U.Cognito);var a=this._generateState(32),u=s?a+"-"+s.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(u);var c,l=this._generateRandom(128);c=l,window.sessionStorage.setItem("ouath_pkce_key",c);var d=this._generateChallenge(l),f=this._scopes.join(" "),h=Object.entries(o(o({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:f,state:u},"code"===e?{code_challenge:d}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=p(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),v="https://"+t+"/oauth2/authorize?"+h;wp.debug("Redirecting to "+v),this._urlOpener(v,n)},e.prototype._handleCodeFlow=function(e){return c(this,void 0,void 0,(function(){var t,n,r,i,s,a,u,c,d,f,h,v,g,m,y,w;return l(this,(function(l){switch(l.label){case 0:return t=(Xh(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=p(t,2),i=r[0],s=r[1];return o(o({},e),((n={})[i]=s,n))}),{code:void 0}).code,n=Xh(e).pathname||"/",r=Xh(this._config.redirectSignIn).pathname||"/",t&&n===r?(i="https://"+this._config.domain+"/oauth2/token",yp("codeFlow",{},"Retrieving tokens from "+i),s=D(this._config)?this._cognitoClientId:this._config.clientID,a=D(this._config)?this._config.redirectSignIn:this._config.redirectUri,b=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),c=o({grant_type:"authorization_code",code:t,client_id:s,redirect_uri:a},(u=b)?{code_verifier:u}:{}),wp.debug("Calling token endpoint: "+i+" with",c),d=Object.entries(c).map((function(e){var t=p(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),f={category:W.Auth,action:K.FederatedSignIn},[4,fetch(i,{method:"POST",headers:(w={"Content-Type":"application/x-www-form-urlencoded"},w["x-amz-user-agent"]=Ce(f),w),body:d})]):[2];case 1:return[4,l.sent().json()];case 2:if(h=l.sent(),v=h.access_token,g=h.refresh_token,m=h.id_token,y=h.error)throw new Error(y);return[2,{accessToken:v,refreshToken:g,idToken:m}]}var b}))}))},e.prototype._handleImplicitFlow=function(e){return c(this,void 0,void 0,(function(){var t,n,r;return l(this,(function(i){return t=(Xh(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=p(t,2),i=r[0],s=r[1];return o(o({},e),((n={})[i]=s,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,yp("implicitFlow",{},"Got tokens from "+e),wp.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return c(this,void 0,void 0,(function(){var t,n,r,i,s,a,u;return l(this,(function(c){switch(c.label){case 0:if(c.trys.push([0,5,,6]),t=e?o(o({},(Xh(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=p(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})),(Xh(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=p(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),wp.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(s=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,o.apply(void 0,[o.apply(void 0,s.concat([c.sent()])),{state:i}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,o.apply(void 0,[o.apply(void 0,a.concat([c.sent()])),{state:i}])];case 4:return[3,6];case 5:throw u=c.sent(),wp.debug("Error handling auth response.",u),u;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return c(this,void 0,void 0,(function(){var e,t,n;return l(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=D(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=D(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=p(e,2);return t[0]+"="+t[1]})).join("&"),yp("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),wp.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(61*Math.random())];return t},e.prototype._generateChallenge=function(e){var t=new Pt.Sha256;t.update(e);var n=t.digestSync(),r=Df.Buffer.from(n).toString("base64");return this._base64URL(r)},e.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=66*Math.random()|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var o=e[r]%62;n.push(t[o])}return n.join("")},e}();!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(vp||(vp={}));var Sp=new re("AuthError"),_p=function(e){function t(n){var r=this,o=Cp[n],i=o.message,s=o.log;return(r=e.call(this,i)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=s||i,Sp.error(r.log),r}return r(t,e),t}(Error),Ep=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return r(t,e),t}(_p),Cp={noConfig:{message:vp.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:vp.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:vp.EMPTY_USERNAME},invalidUsername:{message:vp.INVALID_USERNAME},emptyPassword:{message:vp.EMPTY_PASSWORD},emptyCode:{message:vp.EMPTY_CODE},signUpError:{message:vp.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:vp.NO_MFA},invalidMFA:{message:vp.INVALID_MFA},emptyChallengeResponse:{message:vp.EMPTY_CHALLENGE},noUserSession:{message:vp.NO_USER_SESSION},deviceConfig:{message:vp.DEVICE_CONFIG},networkError:{message:vp.NETWORK_ERROR},autoSignInError:{message:vp.AUTOSIGNIN_ERROR},default:{message:vp.DEFAULT_MSG}},Ap=new re("AuthClass"),kp="aws.cognito.signin.user.admin",Pp="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",xp=function(e,t,n){Oe.dispatch("auth",{event:e,data:t,message:n},"Auth",Pp)},Ip=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=Cf,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?xp("tokenRefresh",void 0,"New token retrieved"):xp("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),Oe.listen("auth",(function(e){switch(e.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}})),Uh.category="auth",Nh(Ee.framework),Ee.observeFrameworkChanges((function(){Nh(Ee.framework)}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};Ap.debug("configure Auth");var n=Object.assign({},this._config,rn(e).Auth,e);this._config=n;var r=this._config,o=r.userPoolId,i=r.userPoolWebClientId,s=r.cookieStorage,a=r.oauth,u=r.region,c=r.identityPoolId,l=r.mandatorySignIn,d=r.refreshHandlers,f=r.identityPoolRegion,h=r.clientMetadata,p=r.endpoint,v=r.storage;if(v){if(!this._isValidAuthStorage(v))throw Ap.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=v}else this._storage=s?new Vh(s):e.ssr?new Lf:(new pd).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var g={UserPoolId:o,ClientId:i,endpoint:p};g.Storage=this._storage,this.userPool=new Gh(g,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:u,userPoolId:o,identityPoolId:c,refreshHandlers:d,storage:this._storage,identityPoolRegion:f});var m=a?D(this._config.oauth)?a:a.awsCognito:void 0;if(m){var y=Object.assign({cognitoClientId:i,UserPoolId:o,domain:m.domain,scopes:m.scope,redirectSignIn:m.redirectSignIn,redirectSignOut:m.redirectSignOut,responseType:m.responseType,Storage:this._storage,urlOpener:m.urlOpener,clientMetadata:h},m.options);this._oAuthHandler=new bp({scopes:y.scopes,config:y,cognitoClientId:y.cognitoClientId});var w={};!function(e){if(je().isBrowser&&window.location)e({url:window.location.href});else if(!je().isNode)throw new Error("Not supported")}((function(e){var n=e.url;w[n]||(w[n]=!0,t._handleAuthResponse(n))}))}(xp("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem)||(this.isTrueStorageValue("amplify-polling-started")&&(xp("autoSignIn_failure",null,N.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started"));return this._config},e.prototype.signUp=function(e){for(var t,n,r,o=this,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(!this.userPool)return this.rejectNoUserPool();var a,u=null,c=null,l=[],d=null,f={enabled:!1},h={},p={};if(e&&"string"==typeof e){u=e,c=i?i[0]:null;var v=i?i[1]:null,g=i?i[2]:null;v&&l.push(new kh({Name:"email",Value:v})),g&&l.push(new kh({Name:"phone_number",Value:g}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(N.SignUpError);u=e.username,c=e.password,e&&e.clientMetadata?a=e.clientMetadata:this._config.clientMetadata&&(a=this._config.clientMetadata);var m=e.attributes;m&&Object.keys(m).map((function(e){l.push(new kh({Name:e,Value:m[e]}))}));var y=e.validationData;y&&(d=[],Object.keys(y).map((function(e){d.push(new kh({Name:e,Value:y[e]}))}))),(f=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),h=null!==(n=f.validationData)&&void 0!==n?n:{},p=null!==(r=f.clientMetaData)&&void 0!==r?r:{})}return u?c?(Ap.debug("signUp attrs:",l),Ap.debug("signUp validation data:",d),new Promise((function(e,t){o.userPool.signUp(u,c,l,d,(function(n,r){n?(xp("signUp_failure",n,u+" failed to signup"),t(n)):(xp("signUp",r,u+" has signed up successfully"),f.enabled&&o.handleAutoSignIn(u,c,h,p,r),e(r))}),a)}))):this.rejectAuthError(N.EmptyPassword):this.rejectAuthError(N.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,o){this.autoSignInInitiated=!0;var i=new Ff({Username:e,Password:t,ValidationData:n,ClientMetadata:r});o.userConfirmed?this.signInAfterUserConfirmed(i):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(i):this.handleCodeAutoSignIn(i)},e.prototype.handleCodeAutoSignIn=function(e){var t=this,n=function(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)};Oe.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval((function(){Date.now()-n>18e4?(clearInterval(r),xp("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)}),5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return c(this,void 0,void 0,(function(){var r,o,i=this;return l(this,(function(s){switch(s.label){case 0:r=this.createCognitoUser(e.getUsername()),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,(function(r){xp("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&Oe.remove("auth",t),n&&(clearInterval(n),i._storage.removeItem("amplify-polling-started")),i._storage.removeItem("amplify-auto-sign-in")}),(function(e){Ap.error(e),i._storage.removeItem("amplify-auto-sign-in")})))];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),Ap.error(o),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e,t,n){var r=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(N.EmptyUsername);if(!t)return this.rejectAuthError(N.EmptyCode);var o,i=this.createCognitoUser(e),s=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?o=n.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata),new Promise((function(n,a){i.confirmRegistration(t,s,(function(t,o){t?a(t):(xp("confirmSignUp",o,e+" has been confirmed successfully"),r.isTrueStorageValue("amplify-auto-sign-in")&&!r.autoSignInInitiated&&(xp("autoSignIn_failure",null,N.AutoSignInError),r._storage.removeItem("amplify-auto-sign-in")),n(o))}),o)}))},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(N.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,o=null,i={};if("string"==typeof e)r=e,o=t;else{if(!e.username)return this.rejectAuthError(N.InvalidUsername);void 0!==t&&Ap.warn("The password should be defined under the first parameter object!"),r=e.username,o=e.password,i=e.validationData}if(!r)return this.rejectAuthError(N.EmptyUsername);var s=new Ff({Username:r,Password:o,ValidationData:i,ClientMetadata:n});return o?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(e,t,n){var r=this,o=this;return{onSuccess:function(i){return c(r,void 0,void 0,(function(){var r,s,a,u;return l(this,(function(c){switch(c.label){case 0:Ap.debug(i),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(i,"session")];case 3:return r=c.sent(),Ap.debug("succeed to get cognito credentials",r),[3,9];case 4:return s=c.sent(),Ap.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),o.user=a,xp("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),Ap.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){Ap.debug("signIn failure",t),xp("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){Ap.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){Ap.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){Ap.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){Ap.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){Ap.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){Ap.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,o){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,o(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,o){n.initiateAuth(e,t.authCallbacks(n,r,o))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return Ap.debug("get MFA Options failed",e),void n(e);Ap.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(o,i){var s=n._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData((function(t,s){return c(n,void 0,void 0,(function(){var n,a;return l(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(Ap.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:return(a=r._getMfaTypeFromUserData(s))?(o(a),[2]):(i("invalid MFA Type"),[2])}}))}))}),{bypassCache:a,clientMetadata:s})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":Ap.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,o){e.getUserData((function(t,i){return c(n,void 0,void 0,(function(){var n;return l(this,(function(s){switch(s.label){case 0:if(!t)return[3,5];if(Ap.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return n=s.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:r(i),s.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return c(this,void 0,void 0,(function(){var n,r,o,i,s,a,u=this;return l(this,(function(d){switch(d.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=d.sent(),o=null,i=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return s=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(a=d.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===a)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==a)return[2,this.rejectAuthError(N.InvalidMFA)];i={PreferredMfa:!1,Enabled:!1}}return s&&0!==s.length&&s.forEach((function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(i={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return Ap.debug("no validmfa method provided"),[2,this.rejectAuthError(N.NoMFA)];case 7:return[2,new Promise((function(t,r){e.setUserMfaPreference(o,i,(function(o,i){if(o)return Ap.debug("Set user mfa preference error",o),r(o);Ap.debug("Set user mfa success",i),Ap.debug("Caching the latest user data into local"),e.getUserData((function(n,o){return c(u,void 0,void 0,(function(){var o;return l(this,(function(s){switch(s.label){case 0:if(!n)return[3,5];if(Ap.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(i)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return Ap.debug("disable mfa failed",e),void n(e);Ap.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return Ap.debug("enable mfa failed",e),void n(e);Ap.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){Ap.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){Ap.debug("associateSoftwareToken success",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){var n;Ap.debug("verification totp token",e,t),e&&"function"==typeof e.getSignInUserSession&&(n=e.getSignInUserSession());var r=null==n?void 0:n.isValid();return new Promise((function(n,o){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){Ap.debug("verifyTotpToken failed",e),o(e)},onSuccess:function(t){r||xp("signIn",e,"A user "+e.getUsername()+" has been signed in"),xp("verify",e,"A user "+e.getUsername()+" has been verified"),Ap.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var o=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(N.EmptyCode);var i=this;return new Promise((function(s,a){e.sendMFACode(t,{onSuccess:function(t){return c(o,void 0,void 0,(function(){var n,r,o,a;return l(this,(function(u){switch(u.label){case 0:Ap.debug(t),u.label=1;case 1:return u.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return u.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=u.sent(),Ap.debug("succeed to get cognito credentials",n),[3,10];case 4:return r=u.sent(),Ap.debug("cannot get cognito credentials",r),[3,10];case 5:i.user=e,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return o=u.sent(),e.attributes=o.attributes,[3,9];case 8:return a=u.sent(),Ap.debug("cannot get updated Cognito User",a),[3,9];case 9:return xp("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 10:return[2]}}))}))},onFailure:function(e){Ap.debug("confirm signIn failure",e),a(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var o=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(N.EmptyPassword);var i=this;return new Promise((function(s,a){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return c(o,void 0,void 0,(function(){var n,r;return l(this,(function(o){switch(o.label){case 0:Ap.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),Ap.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),Ap.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,xp("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Ap.debug("completeNewPassword failure",e),xp("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,n){Ap.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,s(e)},mfaSetup:function(t,n){Ap.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)},totpRequired:function(t,n){Ap.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;return void 0===n&&(n=this._config.clientMetadata),this.userPool?t?new Promise((function(o,i){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,o,i),n)})):this.rejectAuthError(N.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,o){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?o(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return c(this,void 0,void 0,(function(){var e,t,n=this;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),Ap.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return c(n,void 0,void 0,(function(){var n,o=this;return l(this,(function(i){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return Ap.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(i,s){return c(o,void 0,void 0,(function(){var o,s=this;return l(this,(function(a){switch(a.label){case 0:if(!i)return[3,5];if(Ap.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(i)];case 5:n.deleteUser((function(o,i){if(o)r(o);else{xp("userDeleted",i,"The authenticated user has been deleted."),n.signOut(),s.user=null;try{s.cleanCachedItems()}catch(e){Ap.debug("failed to clear cached items")}t?s.oAuthSignOutRedirect(e,r):(xp("signOut",s.user,"A user has been signed out"),e(i))}})),a.label=6;case 6:return[2]}}))}))}))}else Ap.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){var r=this;void 0===n&&(n=this._config.clientMetadata);var o=[],i=this;return new Promise((function(s,a){i.userSession(e).then((function(i){for(var u in t)if("sub"!==u&&u.indexOf("_verified")<0){var c={Name:u,Value:t[u]};o.push(c)}e.updateAttributes(o,(function(e,n,o){if(e)return xp("updateUserAttributes_failure",e,"Failed to update attributes"),a(e);var i=r.createUpdateAttributesResultList(t,null==o?void 0:o.CodeDeliveryDetailsList);return xp("updateUserAttributes",i,"Attributes successfully updated"),s(n)}),n)}))}))},e.prototype.createUpdateAttributesResultList=function(e,t){var n={};return Object.keys(e).forEach((function(e){n[e]={isUpdated:!0};var r=null==t?void 0:t.find((function(t){return t.AttributeName===e}));r&&(n[e].isUpdated=!1,n[e].codeDeliveryDetails=r)})),n},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},o={};return n.email&&(n.email_verified?o.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?o.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:o,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isPasswordResetRequiredError=function(e){return this.isErrorWithMessage(e)&&"Password reset required for the user"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)||this.isPasswordResetRequiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return c(this,void 0,void 0,(function(){var t=this;return l(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),Ap.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(xp("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return c(t,void 0,void 0,(function(){var t,o,i,s,a,u,d=this;return l(this,(function(f){switch(f.label){case 0:return this.isOAuthInProgress()?(Ap.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){Ap.debug("OAuth signIn in progress timeout"),Oe.remove("auth",n),e()}),1e4);function n(r){var o=r.payload.event;"cognitoHostedUI"!==o&&"cognitoHostedUI_failure"!==o||(Ap.debug("OAuth signIn resolved: "+o),clearTimeout(t),Oe.remove("auth",n),e())}Oe.listen("auth",n)}))]):[3,2];case 1:f.sent(),f.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return Ap.debug("Failed to get user from user pool"),r("No current user"),[2];f.label=3;case 3:return f.trys.push([3,7,,8]),[4,this._userSession(t)];case 4:return o=f.sent(),(i=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:f.sent(),f.label=6;case 6:return s=this._config.clientMetadata,a=o.getAccessToken().decodePayload().scope,(void 0===a?"":a).split(" ").includes(kp)?(t.getUserData((function(e,o){return c(d,void 0,void 0,(function(){var i,s,a,u,c,d,f;return l(this,(function(l){switch(l.label){case 0:if(!e)return[3,7];if(Ap.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return l.sent(),[3,4];case 3:return i=l.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return r(e),[3,6];case 5:n(t),l.label=6;case 6:return[2];case 7:for(s=o.PreferredMfaSetting||"NOMFA",a=[],u=0;u<o.UserAttributes.length;u++)c={Name:o.UserAttributes[u].Name,Value:o.UserAttributes[u].Value},d=new kh(c),a.push(d);return f=this.attributesToObject(a),Object.assign(t,{attributes:f,preferredMFA:s}),[2,n(t)]}}))}))}),{bypassCache:i,clientMetadata:s}),[3,8]):(Ap.debug("Unable to get the user data because the "+kp+" is not in the scopes of the access token"),[2,n(t)]);case 7:return u=f.sent(),r(u),[3,8];case 8:return[2]}}))}))})).catch((function(e){return Ap.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return c(this,void 0,void 0,(function(){var t,n,r,i,s;return l(this,(function(a){switch(a.label){case 0:Ap.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),Ap.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=o(o({},r.user),{token:r.token}))}catch(e){Ap.debug("cannot load federated user from auth storage")}return t?(this.user=t,Ap.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Ap.debug("get current authenticated userpool user"),i=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=a.sent(),[3,9];case 8:return"No userPool"===(s=a.sent())&&Ap.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Ap.debug("The user is not authenticated by the error",s),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return Ap.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){Ap.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){Ap.debug("Failed to get the current user",e),n(e)}))})):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype._userSession=function(e){return c(this,void 0,void 0,(function(){var t,n,r=this;return l(this,(function(o){switch(o.label){case 0:if(!e)return Ap.debug("the user is null"),[2,this.rejectAuthError(N.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise((function(n,o){e.getSession((function(t,i){return c(r,void 0,void 0,(function(){var r;return l(this,(function(s){switch(s.label){case 0:if(!t)return[3,5];if(Ap.debug("Failed to get the session from user",e),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return r=s.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return o(t),[2];case 5:return Ap.debug("Succeed to get the user session",i),n(i),[2]}}))}))}),{clientMetadata:t})}))),this.inflightSessionPromiseCounter++,o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=o.sent(),e.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}}))}))},e.prototype.userSession=function(e){return this._userSession(e)},e.prototype.currentUserCredentials=function(){return c(this,void 0,void 0,(function(){var e,t,n=this;return l(this,(function(r){switch(r.label){case 0:Ap.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),Ap.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){Ap.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return Ap.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return Ap.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return Ap.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,o){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return o(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,o){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){o(e)}})})):this.rejectAuthError(N.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return c(this,void 0,void 0,(function(){var n,r,o=this;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),Ap.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,i){if(e&&e.global){Ap.debug("user global sign out",t);var s=o._config.clientMetadata;t.getSession((function(e,s){return c(o,void 0,void 0,(function(){var o,s=this;return l(this,(function(a){switch(a.label){case 0:if(!e)return[3,5];if(Ap.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),i(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,i(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(Ap.debug("global sign out success"),!r)return n();s.oAuthSignOutRedirect(n,i)},onFailure:function(e){return Ap.debug("global sign out failed",e),i(e)}}),[2]}}))}))}),{clientMetadata:s})}else Ap.debug("user sign out",t),t.signOut((function(){if(!r)return n();o.oAuthSignOutRedirect(n,i)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){je().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return c(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Ap.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:Ap.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Ap.debug("no Cognito User pool"),n.label=8;case 8:return xp("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var o=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(i,s){o.userSession(e).then((function(o){e.changePassword(t,n,(function(e,t){return e?(Ap.debug("change password failure",e),s(e)):i(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(N.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,o){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){Ap.debug("forgot password failure",t),xp("forgotPassword_failure",t,e+" forgotPassword failed"),o(t)},inputVerificationCode:function(t){xp("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(N.EmptyUsername);if(!t)return this.rejectAuthError(N.EmptyCode);if(!n)return this.rejectAuthError(N.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(i,s){o.confirmPassword(t,n,{onSuccess:function(t){xp("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),i(t)},onFailure:function(t){xp("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},r)}))},e.prototype.currentUserInfo=function(){return c(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return l(this,(function(a){switch(a.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return Ap.error(e)}))];case 1:if(!(s=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(s)];case 3:t=a.sent(),n=this.attributesToObject(t),r=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=a.sent(),[3,7];case 6:return o=a.sent(),Ap.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:s.getUsername(),attributes:n}];case 8:return i=a.sent(),Ap.error("currentUserInfo error",i),[2,{}];case 9:return"federated"===e?[2,(s=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return c(this,void 0,void 0,(function(){var r,o,i,s,a,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return F(e)||(v=e)&&["customProvider"].find((function(e){return v.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||void 0===e?(r=e||{provider:U.Cognito},a=F(r)?r.provider:r.customProvider,F(r),o=r.customState,this._config.userPoolId&&(i=D(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,s=D(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,s,i,a,o)),[3,4]):[3,1];case 1:a=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&Ap.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,d=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:a,token:c,identity_id:d,user:n,expires_at:f},"federation")];case 2:return h=l.sent(),[4,this.currentAuthenticatedUser()];case 3:return p=l.sent(),xp("signIn",p,"A user "+p.username+" has been signed in"),Ap.debug("federated sign in credentials",h),[2,h];case 4:return[2]}var v}))}))},e.prototype._handleAuthResponse=function(e){return c(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,u,c,d,f,h,v,g;return l(this,(function(l){switch(l.label){case 0:if(this.oAuthFlowInProgress)return Ap.debug("Skipping URL "+e+" current flow in progress"),[2];l.label=1;case 1:if(l.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(xp("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(je().isBrowser?window.location.href:""),n=!!(Xh(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=p(e,1)[0];return"code"===t||"error"===t})),r=!!(Xh(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=p(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),l.label=2;case 2:return l.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return o=l.sent(),i=o.accessToken,s=o.idToken,a=o.refreshToken,u=o.state,c=new _h({IdToken:new wh({IdToken:s}),RefreshToken:new bh({RefreshToken:a}),AccessToken:new mh({AccessToken:i})}),d=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:d=l.sent(),Ap.debug("AWS credentials",d),l.label=5;case 5:return f=/-/.test(u),(h=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),xp("signIn",h,"A user "+h.getUsername()+" has been signed in"),xp("cognitoHostedUI",h,"A user "+h.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(v=u.split("-").splice(1).join("-"),xp("customOAuthState",v.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+h.getUsername())),[2,d];case 6:return g=l.sent(),Ap.debug("Error in cognito hosted auth response",g),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),xp("signIn_failure",g,"The OAuth response flow failed"),xp("cognitoHostedUI_failure",g,"A failure occurred when returning to the Cognito Hosted UI"),xp("customState_failure",g,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new Oh(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?N.NoConfig:N.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new _p(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Ep(e))},e.prototype.rememberDevice=function(){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Ap.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new _p(N.DeviceConfig)):"NetworkError"===e.code?n(new _p(N.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Ap.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new _p(N.DeviceConfig)):"NetworkError"===e.code?n(new _p(N.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),Ap.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new _p(N.DeviceConfig)):"NetworkError"===e.code?n(new _p(N.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}(),Tp=new Ip(null);ae.register(Tp);const Op="client_runtime";var Up,Np,Mp,Rp,Lp,Fp,Dp;class jp{constructor(e){Up.set(this,void 0),P(this,Up,null!=e?e:[],"f")}readFirst(){let e=null;for(const t of k(this,Up,"f"))if(e=localStorage.getItem(t),e)break;return e}writeAll(e){k(this,Up,"f").forEach((t=>{localStorage.setItem(t,e)}))}clearAll(){k(this,Up,"f").forEach((e=>{localStorage.removeItem(e)}))}}Up=new WeakMap;class zp{constructor({prefix:e=["os-runtime","os-builtin",""],localEndpointKey:t="identity-endpoints",tokenKey:n="token",currentAuthTypeKey:r="currentAuthType",currentAuthConfigKey:o="currentAuthConfig"}={}){Np.set(this,void 0),Mp.set(this,void 0),Rp.set(this,void 0),Lp.set(this,void 0),Fp.set(this,((e,t)=>e.map((e=>`${e}-${t}`)))),P(this,Np,new jp(k(this,Fp,"f").call(this,e,t)),"f"),P(this,Mp,new jp(k(this,Fp,"f").call(this,e,n)),"f"),P(this,Rp,new jp(k(this,Fp,"f").call(this,e,r)),"f"),P(this,Lp,new jp(k(this,Fp,"f").call(this,e,o)),"f")}storeEndpoints(e){k(this,Np,"f").writeAll(JSON.stringify(e))}readEndpoints(){const e=k(this,Np,"f").readFirst();return e?JSON.parse(e):null}storeToken(e){k(this,Mp,"f").writeAll(JSON.stringify(e))}readToken(){const e=k(this,Mp,"f").readFirst();return e?JSON.parse(e):null}readAccessToken(){var e;const t=this.readToken();return null!==(e=null==t?void 0:t.access_token)&&void 0!==e?e:null}readRefreshToken(){var e;const t=this.readToken();return null!==(e=null==t?void 0:t.refresh_token)&&void 0!==e?e:null}readIdToken(){var e;const t=this.readToken();return null!==(e=null==t?void 0:t.id_token)&&void 0!==e?e:null}storeCurrentAuthType(e){k(this,Rp,"f").writeAll(e)}readCurrentAuthType(){var e;return null!==(e=k(this,Rp,"f").readFirst())&&void 0!==e?e:null}storeCurrentAuthConfig(e){k(this,Lp,"f").writeAll(JSON.stringify(e))}readCurrentAuthConfig(){const e=k(this,Lp,"f").readFirst();return e?JSON.parse(e):null}clearAuthData(){k(this,Np,"f").clearAll(),k(this,Mp,"f").clearAll(),k(this,Rp,"f").clearAll()}}Np=new WeakMap,Mp=new WeakMap,Rp=new WeakMap,Lp=new WeakMap,Fp=new WeakMap,function(e){e.InvalidCredentials="InvalidCredentials",e.TooManyFailedAttempts="TooManyFailedAttempts",e.UnknownFailure="UnknownFailure",e.PasswordComplexityPolicyFailed="PasswordComplexityPolicyFailed",e.InvalidToken="InvalidToken",e.IdentityTokenEndpointFailed="IdentityTokenEndpointFailed"}(Dp||(Dp={}));var qp=Dp;class Bp extends Error{constructor(e,t){super(t),this.errorCode=e}}class $p{static create({name:e,message:t,code:n="OS-CLRT-40100"}){const r=new Bp(n,t);return r.name=e,r}}function Gp(e){this.message=e}Gp.prototype=new Error,Gp.prototype.name="InvalidCharacterError";var Wp="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Gp("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,i=0,s="";r=t.charAt(i++);~r&&(n=o%4?64*n+r:r,o++%4)?s+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function Vp(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Wp(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return Wp(t)}}function Hp(e){this.message=e}function Kp(e,t){if("string"!=typeof e)throw new Hp("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Vp(e.split(".")[n]))}catch(e){throw new Hp("Invalid token specified: "+e.message)}}Hp.prototype=new Error,Hp.prototype.name="InvalidTokenError";const Jp=(e,t=Kp)=>t(e),Yp=e=>e?`${e.token_type} ${e.access_token}`:null,Zp=({token:e,now:t=Date.now,tokenDecoder:n,logger:r})=>{if(!e)return!1;try{const r=1e3*n(e).exp-1e4;return t()<r}catch(e){return null==r||r.error({category:"JWT_DECODING",message:"Issue validating token",error:e}),!1}};var Qp={};!function(e,t){var n="__lodash_hash_undefined__",r=1,o=2,i=9007199254740991,s="[object Arguments]",a="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",l="[object Date]",d="[object Error]",f="[object Function]",h="[object GeneratorFunction]",p="[object Map]",v="[object Number]",g="[object Null]",m="[object Object]",y="[object Promise]",w="[object Proxy]",b="[object RegExp]",S="[object Set]",_="[object String]",E="[object Symbol]",C="[object Undefined]",A="[object WeakMap]",k="[object ArrayBuffer]",P="[object DataView]",x=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[s]=T[a]=T[k]=T[c]=T[P]=T[l]=T[d]=T[f]=T[p]=T[v]=T[m]=T[b]=T[S]=T[_]=T[A]=!1;var O="object"==typeof Ye&&Ye&&Ye.Object===Object&&Ye,U="object"==typeof self&&self&&self.Object===Object&&self,N=O||U||Function("return this")(),M=t&&!t.nodeType&&t,R=M&&e&&!e.nodeType&&e,L=R&&R.exports===M,F=L&&O.process,D=function(){try{return F&&F.binding&&F.binding("util")}catch(e){}}(),j=D&&D.isTypedArray;function z(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function B(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var $,G,W,V=Array.prototype,H=Function.prototype,K=Object.prototype,J=N["__core-js_shared__"],Y=H.toString,Z=K.hasOwnProperty,Q=($=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",X=K.toString,ee=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=L?N.Buffer:void 0,ne=N.Symbol,re=N.Uint8Array,oe=K.propertyIsEnumerable,ie=V.splice,se=ne?ne.toStringTag:void 0,ae=Object.getOwnPropertySymbols,ue=te?te.isBuffer:void 0,ce=(G=Object.keys,W=Object,function(e){return G(W(e))}),le=De(N,"DataView"),de=De(N,"Map"),fe=De(N,"Promise"),he=De(N,"Set"),pe=De(N,"WeakMap"),ve=De(Object,"create"),ge=Be(le),me=Be(de),ye=Be(fe),we=Be(he),be=Be(pe),Se=ne?ne.prototype:void 0,_e=Se?Se.valueOf:void 0;function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ae;++t<n;)this.add(e[t])}function Pe(e){var t=this.__data__=new Ce(e);this.size=t.size}function xe(e,t){var n=We(e),r=!n&&Ge(e),o=!n&&!r&&Ve(e),i=!n&&!r&&!o&&Qe(e),s=n||r||o||i,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=a.length;for(var c in e)!t&&!Z.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qe(c,u))||a.push(c);return a}function Ie(e,t){for(var n=e.length;n--;)if($e(e[n][0],t))return n;return-1}function Te(e){return null==e?void 0===e?C:g:se&&se in Object(e)?function(e){var t=Z.call(e,se),n=e[se];try{e[se]=void 0;var r=!0}catch(e){}var o=X.call(e);r&&(t?e[se]=n:delete e[se]);return o}(e):function(e){return X.call(e)}(e)}function Oe(e){return Ze(e)&&Te(e)==s}function Ue(e,t,n,i,u){return e===t||(null==e||null==t||!Ze(e)&&!Ze(t)?e!=e&&t!=t:function(e,t,n,i,u,f){var h=We(e),g=We(t),y=h?a:ze(e),w=g?a:ze(t),C=(y=y==s?m:y)==m,A=(w=w==s?m:w)==m,x=y==w;if(x&&Ve(e)){if(!Ve(t))return!1;h=!0,C=!1}if(x&&!C)return f||(f=new Pe),h||Qe(e)?Re(e,t,n,i,u,f):function(e,t,n,i,s,a,u){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!a(new re(e),new re(t)));case c:case l:case v:return $e(+e,+t);case d:return e.name==t.name&&e.message==t.message;case b:case _:return e==t+"";case p:var f=q;case S:var h=i&r;if(f||(f=B),e.size!=t.size&&!h)return!1;var g=u.get(e);if(g)return g==t;i|=o,u.set(e,t);var m=Re(f(e),f(t),i,s,a,u);return u.delete(e),m;case E:if(_e)return _e.call(e)==_e.call(t)}return!1}(e,t,y,n,i,u,f);if(!(n&r)){var I=C&&Z.call(e,"__wrapped__"),T=A&&Z.call(t,"__wrapped__");if(I||T){var O=I?e.value():e,U=T?t.value():t;return f||(f=new Pe),u(O,U,n,i,f)}}if(!x)return!1;return f||(f=new Pe),function(e,t,n,o,i,s){var a=n&r,u=Le(e),c=u.length,l=Le(t),d=l.length;if(c!=d&&!a)return!1;var f=c;for(;f--;){var h=u[f];if(!(a?h in t:Z.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var v=!0;s.set(e,t),s.set(t,e);var g=a;for(;++f<c;){var m=e[h=u[f]],y=t[h];if(o)var w=a?o(y,m,h,t,e,s):o(m,y,h,e,t,s);if(!(void 0===w?m===y||i(m,y,n,o,s):w)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var b=e.constructor,S=t.constructor;b==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S||(v=!1)}return s.delete(e),s.delete(t),v}(e,t,n,i,u,f)}(e,t,n,i,Ue,u))}function Ne(e){return!(!Je(e)||function(e){return!!Q&&Q in e}(e))&&(He(e)?ee:x).test(Be(e))}function Me(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||K,t!==r)return ce(e);var t,n,r,o=[];for(var i in Object(e))Z.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Re(e,t,n,i,s,a){var u=n&r,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var d=a.get(e);if(d&&a.get(t))return d==t;var f=-1,h=!0,p=n&o?new ke:void 0;for(a.set(e,t),a.set(t,e);++f<c;){var v=e[f],g=t[f];if(i)var m=u?i(g,v,f,t,e,a):i(v,g,f,e,t,a);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!z(t,(function(e,t){if(r=t,!p.has(r)&&(v===e||s(v,e,n,i,a)))return p.push(t);var r}))){h=!1;break}}else if(v!==g&&!s(v,g,n,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Le(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Xe,je)}function Fe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function De(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ne(n)?n:void 0}Ee.prototype.clear=function(){this.__data__=ve?ve(null):{},this.size=0},Ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ee.prototype.get=function(e){var t=this.__data__;if(ve){var r=t[e];return r===n?void 0:r}return Z.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:Z.call(t,e)},Ee.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ve&&void 0===t?n:t,this},Ce.prototype.clear=function(){this.__data__=[],this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,!0)},Ce.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return Ie(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,r=Ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Ae.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(de||Ce),string:new Ee}},Ae.prototype.delete=function(e){var t=Fe(this,e).delete(e);return this.size-=t?1:0,t},Ae.prototype.get=function(e){return Fe(this,e).get(e)},Ae.prototype.has=function(e){return Fe(this,e).has(e)},Ae.prototype.set=function(e,t){var n=Fe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,n),this},ke.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.clear=function(){this.__data__=new Ce,this.size=0},Pe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Pe.prototype.get=function(e){return this.__data__.get(e)},Pe.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var r=n.__data__;if(!de||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ae(r)}return n.set(e,t),this.size=n.size,this};var je=ae?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}(ae(e),(function(t){return oe.call(e,t)})))}:function(){return[]},ze=Te;function qe(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $e(e,t){return e===t||e!=e&&t!=t}(le&&ze(new le(new ArrayBuffer(1)))!=P||de&&ze(new de)!=p||fe&&ze(fe.resolve())!=y||he&&ze(new he)!=S||pe&&ze(new pe)!=A)&&(ze=function(e){var t=Te(e),n=t==m?e.constructor:void 0,r=n?Be(n):"";if(r)switch(r){case ge:return P;case me:return p;case ye:return y;case we:return S;case be:return A}return t});var Ge=Oe(function(){return arguments}())?Oe:function(e){return Ze(e)&&Z.call(e,"callee")&&!oe.call(e,"callee")},We=Array.isArray;var Ve=ue||function(){return!1};function He(e){if(!Je(e))return!1;var t=Te(e);return t==f||t==h||t==u||t==w}function Ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ze(e){return null!=e&&"object"==typeof e}var Qe=j?function(e){return function(t){return e(t)}}(j):function(e){return Ze(e)&&Ke(e.length)&&!!T[Te(e)]};function Xe(e){return null!=(t=e)&&Ke(t.length)&&!He(t)?xe(e):Me(e);var t}e.exports=function(e,t){return Ue(e,t)}}({get exports(){return Qp},set exports(e){Qp=e}},Qp);var Xp,ev,tv,nv,rv,ov,iv,sv,av,uv,cv,lv,dv,fv,hv,pv,vv,gv=Qp;class mv{serialize(e){if(null!=e)return JSON.stringify(e)}deserialize(e){if(null!=e)return JSON.parse(e)}}class yv{get validityKey(){return`${k(this,tv,"f")}__expires`}constructor({storage:e=localStorage,key:t,timespan:n=0,canFetch:r,fetch:o,serializer:i=new mv,serialize:s=!0,validate:a=(()=>!0)}){Xp.add(this),ev.set(this,void 0),tv.set(this,void 0),nv.set(this,void 0),rv.set(this,void 0),ov.set(this,void 0),iv.set(this,void 0),sv.set(this,void 0),av.set(this,void 0),P(this,ev,e,"f"),P(this,tv,t,"f"),P(this,nv,n,"f"),P(this,rv,r,"f"),P(this,ov,o,"f"),P(this,iv,i,"f"),P(this,sv,s,"f"),P(this,av,a,"f")}get(){return c(this,void 0,void 0,(function*(){const[e,t]=yield k(this,Xp,"m",fv).call(this);if(e)return t;const n=yield k(this,ov,"f").call(this);return void 0===n?t:(k(this,Xp,"m",uv).call(this,n),k(this,Xp,"m",dv).call(this),n)}))}invalidate(){k(this,ev,"f").removeItem(this.validityKey)}getCached(){return k(this,Xp,"m",pv).call(this)[1]}clear(){k(this,ev,"f").removeItem(k(this,tv,"f")),k(this,ev,"f").removeItem(this.validityKey)}}function wv({fetchEndpoints:e,getAccessToken:t,logger:n,httpClient:r,canFetch:o,key:i="user_info",timespan:s=3e5}){return new yv({fetch:()=>c(this,void 0,void 0,(function*(){try{const n=yield function(e){return c(this,arguments,void 0,(function*({fetchEndpoints:e,getAccessToken:t,httpClient:n}){const r=(yield e()).userinfo_endpoint;if(!r)throw new Error("Missing user info endpoint");const o=yield t();if(!o)throw new Error("Missing access token");const i=yield n.get({url:r,headers:{Authorization:o}});if(void 0===i)throw new Error("Couldn't get any response from server while fetching user info.");return i}))}({fetchEndpoints:e,getAccessToken:t,httpClient:r});return function(e){return Object.assign(Object.assign({},e),{os_access:"string"==typeof e.os_access?JSON.parse(e.os_access):{userId:"",roles:[]}})}(n)}catch(e){return void(null==n||n.error({message:"Failed to load user info",error:e instanceof Error?e:new Error("Unknown error"),category:"UserInfoCache"}))}})),canFetch:o,key:i,timespan:s})}ev=new WeakMap,tv=new WeakMap,nv=new WeakMap,rv=new WeakMap,ov=new WeakMap,iv=new WeakMap,sv=new WeakMap,av=new WeakMap,Xp=new WeakSet,uv=function(e){const t=k(this,Xp,"m",lv).call(this,e);"string"==typeof t?k(this,ev,"f").setItem(k(this,tv,"f"),t):k(this,ev,"f").removeItem(k(this,tv,"f"))},cv=function(e){return k(this,sv,"f")?k(this,iv,"f").deserialize(e):e},lv=function(e){return k(this,sv,"f")?k(this,iv,"f").serialize(e):e},dv=function(){if(0===k(this,nv,"f"))return void k(this,ev,"f").setItem(this.validityKey,"0");const e=((new Date).getTime()+k(this,nv,"f")).toString();k(this,ev,"f").setItem(this.validityKey,e)},fv=function(){return c(this,void 0,void 0,(function*(){const[e,t]=k(this,Xp,"m",pv).call(this);if(!k(this,rv,"f").call(this))return[!0,t];if(void 0===e)return[!1,void 0];if(k(this,Xp,"m",hv).call(this))return[!1,t];if("function"==typeof k(this,av,"f")){return[yield k(this,av,"f").call(this,t),t]}return[!0,t]}))},hv=function(){const e=k(this,ev,"f").getItem(this.validityKey),t=parseInt(null!=e?e:"",10);return!!(isNaN(t)||t<0)||t>0&&t<=(new Date).getTime()},pv=function(){var e;const t=null!==(e=k(this,ev,"f").getItem(k(this,tv,"f")))&&void 0!==e?e:void 0;return[t,k(this,Xp,"m",cv).call(this,t)]},function(e){e[e.Internal=0]="Internal",e[e.External=1]="External",e[e.Client=2]="Client"}(vv||(vv={}));var bv,Sv,_v,Ev,Cv,Av,kv,Pv=vv;class xv{constructor({synchronize:e,logger:t,setTimeoutOverride:n=setTimeout,clearTimeoutOverride:r=clearTimeout,timeout:o,start:i=!0}){bv.add(this),Sv.set(this,void 0),_v.set(this,void 0),Ev.set(this,void 0),Cv.set(this,void 0),Av.set(this,void 0),P(this,Sv,e,"f"),P(this,_v,t,"f"),P(this,Cv,n,"f"),P(this,Av,r,"f"),P(this,Ev,o,"f"),i&&k(this,bv,"m",kv).call(this)}trySynchronize(){return c(this,void 0,void 0,(function*(){var e;k(this,Ev,"f")&&k(this,Av,"f").call(this,k(this,Ev,"f"));try{yield k(this,Sv,"f").call(this)}catch(t){null===(e=k(this,_v,"f"))||void 0===e||e.error({category:"AuthenticationSynchronizer",message:"Error while synchronizing information.",error:t,code:"OS-CLRT-40300"}),k(this,bv,"m",kv).call(this)}}))}}var Iv,Tv,Ov,Uv,Nv,Mv,Rv,Lv,Fv,Dv;Sv=new WeakMap,_v=new WeakMap,Ev=new WeakMap,Cv=new WeakMap,Av=new WeakMap,bv=new WeakSet,kv=function(){P(this,Ev,k(this,Cv,"f").call(this,(()=>this.trySynchronize()),6e4),"f")};const jv="authentication-token-handler";class zv{constructor({authData:e,decodeJwt:t=Jp,logger:n,tokenValidator:r=Zp}){Iv.add(this),Tv.set(this,void 0),Ov.set(this,void 0),Uv.set(this,void 0),Nv.set(this,void 0),Mv.set(this,void 0),Rv.set(this,void 0),P(this,Tv,e,"f"),P(this,Nv,t,"f"),P(this,Rv,n,"f"),P(this,Mv,r,"f")}invalidateAccessToken(e){"string"==typeof e&&e.length>0&&P(this,Ov,e,"f")}isAccessTokenValid(e,t){return"string"==typeof e&&e!==k(this,Ov,"f")&&(null!=t?t:k(this,Mv,"f"))({token:e,tokenDecoder:k(this,Nv,"f")})}isRefreshTokenValid(e,t){const n=null!=e?e:k(this,Tv,"f").readRefreshToken();return"string"==typeof n&&n!==k(this,Uv,"f")&&(null!=t?t:k(this,Mv,"f"))({token:n,tokenDecoder:k(this,Nv,"f")})}refreshToken(e){return c(this,arguments,void 0,(function*({refreshEndpoint:e,client:t,scope:n,clientId:r,timeoutHandler:o}){var i,s,a;this.invalidateAccessToken(null!==(i=k(this,Tv,"f").readAccessToken())&&void 0!==i?i:"");const u=k(this,Tv,"f").readRefreshToken();if(u){if(!this.isRefreshTokenValid(u)){if(u===k(this,Uv,"f"))return;return k(this,Iv,"m",Lv).call(this,u)}try{P(this,Uv,u,"f");const i=yield t.post({url:e,payload:{grant_type:"refresh_token",refresh_token:u,client_id:r,scope:n},timeoutHandler:o});if(void 0===i){const e=new Error("Couldn't get any response from server while refreshing tokens.");throw null===(a=k(this,Rv,"f"))||void 0===a||a.error({category:jv,code:"OS-CLRT-40100",error:e,visibility:Pv.Internal}),e}return k(this,Iv,"m",Dv).call(this,i),i}catch(e){return k(this,Iv,"m",Fv).call(this,e)}}else"[]"!==k(this,Uv,"f")&&(null===(s=k(this,Rv,"f"))||void 0===s||s.info({category:jv,message:"No refresh token stored. Could not refresh the tokens.",visibility:Pv.Internal}),P(this,Uv,"[]","f"))}))}}Tv=new WeakMap,Ov=new WeakMap,Uv=new WeakMap,Nv=new WeakMap,Mv=new WeakMap,Rv=new WeakMap,Iv=new WeakSet,Lv=function(e){var t;P(this,Uv,e,"f");const n=new Bp("OS-CLRT-40103","Refresh token not valid.");return null===(t=k(this,Rv,"f"))||void 0===t||t.error({error:n,category:jv,code:n.errorCode}),n},Fv=function(e){var n;const r="string"==typeof(o=e)?new Error(o):o instanceof Error?o:new Error("Unknown error");var o;const i=r instanceof t.CommunicationError&&t.isNetworkOrServerError(r)?"OS-CLRT-40112":"OS-CLRT-40100",s=`Failed to call refresh token endpoint: ${r.message}`;return null===(n=k(this,Rv,"f"))||void 0===n||n.error({error:r,category:jv,code:i,message:s}),new Bp(i,s)},Dv=function(e){var t,n;e.access_token!==k(this,Ov,"f")?P(this,Ov,void 0,"f"):null===(t=k(this,Rv,"f"))||void 0===t||t.warning({category:jv,message:"Access token already invalidated."}),e.refresh_token!==k(this,Uv,"f")?P(this,Uv,void 0,"f"):null===(n=k(this,Rv,"f"))||void 0===n||n.warning({category:jv,message:"Refresh token already invalidated."})};const qv="/moduleservices/users/userinfosync";var Bv,$v,Gv,Wv,Vv,Hv;!function(e){e.Authorization="authorization_endpoint",e.Token="token_endpoint",e.Logout="end_session_endpoint",e.Refresh="token_endpoint",e.UserInfo="userinfo_endpoint"}(Bv||(Bv={}));const Kv="Authentication";class Jv{constructor({scope:e="",identityEndpoint:t="/identity/.well-known/openid-configuration",appUrl:n,appSyncEndpoint:r=qv,authData:o,httpClient:i,decodeJwt:s=Jp,logger:a,validator:u=Zp,tokenHandler:c=new zv({authData:o,decodeJwt:s,logger:a,tokenValidator:u}),synchronizer:l,userInfo:d,isOnline:f=(()=>!0)}){$v.add(this),Gv.set(this,void 0),Wv.set(this,void 0),Vv.set(this,void 0),this.scope=e,P(this,Gv,t,"f"),this.appUrl=n,this.appSyncEndpoint=r,this.authData=o,this.httpClient=i,this.decodeJwt=s,this.logger=a,this.tokenHandler=c,this.isOnline=f,P(this,Wv,null!=l?l:new xv({synchronize:()=>this.synchronizeUserInfo(),logger:a}),"f"),this.userInfo=null!=d?d:wv({canFetch:()=>this.isAuthenticated()&&f(),fetchEndpoints:()=>this.fetchEndpoints(),getAccessToken:()=>this.getValidAccessToken(),httpClient:i,logger:a})}getValidAccessToken(){return c(this,arguments,void 0,(function*(e=!1,t=!0){var n,r;const o=t?this.logger:void 0;return this.isOnline()?this.authData.readToken()?(!e&&this.isAccessTokenValid()||(null==o||o.debug({category:Kv,message:"Refreshing tokens."}),yield this.refreshTokens()),null!==(r=this.getAccessToken())&&void 0!==r?r:void 0):void(null==o||o.info({category:Kv,message:"Cannot get access token because there is no token stored."})):(null==o||o.info({category:Kv,message:"Device is offline, using last known access token."}),null!==(n=this.getAccessToken())&&void 0!==n?n:void 0)}))}fetchEndpoints(){return c(this,void 0,void 0,(function*(){var e;const t=this.authData.readEndpoints();if(t)return t;{const t=yield this.httpClient.get({url:k(this,Gv,"f")});if(void 0===t){const t=new Error("Couldn't get any response from server while fetching tokens.");throw null===(e=this.logger)||void 0===e||e.error({category:Kv,code:"OS-CLRT-40100",error:t}),t}return this.authData.storeEndpoints(t),t}}))}getUserId(){var e,t;if(!this.isAuthenticated())return null;const n=this.userInfo.getCached();return null!==(t=null===(e=null==n?void 0:n.os_access)||void 0===e?void 0:e.userId)&&void 0!==t?t:null}isAuthenticated(){const e=this.authData.readToken();return!!(null==e?void 0:e.access_token)&&!!(null==e?void 0:e.refresh_token)&&!!(null==e?void 0:e.id_token)}getAccessToken(e=Yp){return e(this.authData.readToken())}isAccessTokenValid(e=Zp){const t=this.getAccessToken();return this.tokenHandler.isAccessTokenValid(null!=t?t:"",e)}isRefreshTokenValid(e=Zp){const t=this.authData.readRefreshToken();return this.tokenHandler.isRefreshTokenValid(null!=t?t:"",e)}refreshTokens(){return k(this,Vv,"f")||P(this,Vv,k(this,$v,"m",Hv).call(this),"f"),k(this,Vv,"f")}logout(e){return c(this,arguments,void 0,(function*({redirectUri:e,authSignOut:t=(()=>Tp.signOut())}){var n,r,o;const i=yield this.fetchEndpoints(),s=this.authData.readIdToken();if(this.authData.clearAuthData(),this.userInfo.clear(),!s)return void(null===(n=this.logger)||void 0===n||n.info({category:Kv,message:"No id token stored. Logout not completed.",visibility:Pv.Internal}));try{yield t()}catch(e){null===(r=this.logger)||void 0===r||r.error({category:Kv,message:"Error calling the auth signout",error:e,code:"OS-CLRT-40108"})}const a={id_token_hint:s,post_logout_redirect_uri:e};try{yield this.httpClient.post({url:i.end_session_endpoint,payload:a})}catch(e){null===(o=this.logger)||void 0===o||o.error({category:Kv,message:"Error calling the logout endpoint",error:e,code:"OS-CLRT-40108"})}}))}clearAuthenticationData(){P(this,Vv,void 0,"f"),this.authData.clearAuthData(),this.userInfo.clear()}hasRole(e){var t,n,r;const o=this.userInfo.getCached();return null!==(r=null===(n=null===(t=null==o?void 0:o.os_access)||void 0===t?void 0:t.roles)||void 0===n?void 0:n.includes(e))&&void 0!==r&&r}buildUrl(e){return`/${this.appUrl}/${e}`.replace(/\/(\/)+/gm,"/")}getUserSyncUrl(){return this.buildUrl(this.appSyncEndpoint)}storeTokenInfo(e){return c(this,void 0,void 0,(function*(){var t;const n=this.authData.readToken();this.authData.storeToken(e);const r=this.userInfo.getCached();this.userInfo.invalidate();const o=yield this.userInfo.get(),i=null===(t=null==o?void 0:o.os_access)||void 0===t?void 0:t.userId;if(!i)throw new Bp("OS-CLRT-40111","User ID is missing.");return n&&gv(r,o)||k(this,Wv,"f").trySynchronize(),i}))}synchronizeUserInfo(){return c(this,void 0,void 0,(function*(){if(this.isOnline()&&this.isAuthenticated()){const e=yield this.getValidAccessToken();if(!e)throw new Error("No token available to synchronize user info.");yield this.httpClient.post({url:this.getUserSyncUrl(),headers:{Authorization:e}})}}))}getUserInfo(){return c(this,void 0,void 0,(function*(){var e,t,n;const r=yield this.userInfo.get();return{username:null!==(e=null==r?void 0:r.email)&&void 0!==e?e:"",name:null!==(t=null==r?void 0:r.name)&&void 0!==t?t:"",pictureUrl:null!==(n=null==r?void 0:r.picture)&&void 0!==n?n:""}}))}isAuthEndpoint(e){var t;const[n]=e.split("?"),r=null!==(t=this.authData.readEndpoints())&&void 0!==t?t:{};for(const e of Object.values(r))if(n===e)return!0;return!1}}var Yv;Gv=new WeakMap,Wv=new WeakMap,Vv=new WeakMap,$v=new WeakSet,Hv=function(){return c(this,void 0,void 0,(function*(){try{const e=yield this.fetchEndpoints(),t=yield this.tokenHandler.refreshToken({refreshEndpoint:e.token_endpoint,client:this.httpClient,clientId:Op,scope:this.scope});if(!t)return void this.clearAuthenticationData();if(t instanceof Bp)throw t;yield this.storeTokenInfo(t)}catch(e){throw function(e){return e instanceof Bp}(e)&&"OS-CLRT-40112"===e.errorCode||this.clearAuthenticationData(),e}P(this,Vv,void 0,"f")}))};class Zv extends Jv{constructor({appKey:e,identityProvider:n,appUrl:r,baseUrl:o,region:i,poolId:s,clientId:a,scope:u="",identityEndpoint:c,httpClient:l=new t.HttpClient({baseUrl:o}),appSyncEndpoint:d=qv,authData:f=new zp,decodeJwt:h=Jp,configureAmplify:p=(e=>ae.configure(e)),logger:v,validator:g,tokenHandler:m,synchronizer:y,isOnline:w,userInfo:b}){var S;if(super({scope:u,identityEndpoint:c,appUrl:r,appSyncEndpoint:d,authData:f,httpClient:l,decodeJwt:h,logger:v,validator:g,tokenHandler:m,synchronizer:y,isOnline:w,userInfo:b}),Yv.set(this,void 0),P(this,Yv,n,"f"),i&&s&&a)try{p({Auth:{region:i,userPoolId:s,userPoolWebClientId:a}})}catch(e){null===(S=this.logger)||void 0===S||S.error({category:Kv,message:"Error while configuring Amplify",error:e,code:"OS-CLRT-40110"})}}isExternalUser(){return!0}getLoginUrl(e){return c(this,arguments,void 0,(function*({redirectUri:e,callbackUrl:t}){const n=yield this.fetchEndpoints(),r=new URLSearchParams(t?{callback_url:t}:{}).toString(),o={client_id:Op,scope:this.scope,redirect_uri:r?`${e}?${r}`:e,response_type:"code",kc_idp_hint:k(this,Yv,"f")},i=new URLSearchParams(o).toString();return`${n.authorization_endpoint}?${i}`}))}login(e){return c(this,arguments,void 0,(function*({redirectUri:e,callbackUrl:t,navigationHandler:n=(e=>window.location.replace(e))}){n(yield this.getLoginUrl({redirectUri:e,callbackUrl:t}))}))}resumeLogin(e){return c(this,arguments,void 0,(function*({url:e,redirectUri:t}){const n=yield this.fetchEndpoints(),r=new URL(e).searchParams,o=r.get("code"),i=r.get("callback_url"),s=new URLSearchParams(i?{callback_url:i}:{}).toString();if(!o)throw this.authData.clearAuthData(),this.userInfo.clear(),Error(`Missing mandatory parameters to continue the login: authz_code: ${o}`);try{const e=s?`${t}?${s}`:t,r=yield this.requestToken(n.token_endpoint,e,o);yield this.storeTokenInfo(r)}catch(e){throw this.authData.clearAuthData(),this.userInfo.clear(),e}return i}))}requestToken(e,t,n){return c(this,void 0,void 0,(function*(){var r;try{const o=yield this.httpClient.post({url:e,payload:{grant_type:"authorization_code",code:n,redirect_uri:t,client_id:Op}});if(void 0===o){const e=new Error("Couldn't get any response from server while getting tokens.");throw null===(r=this.logger)||void 0===r||r.error({category:Kv,code:"OS-CLRT-40100",error:e}),e}return o}catch(e){throw $p.create({name:qp.IdentityTokenEndpointFailed,message:"Error calling the external auth token endpoint",code:"OS-ID-BIZ-40021"})}}))}getLogoutUrl(e){return c(this,arguments,void 0,(function*({redirectUri:e,callbackUrl:t}){const n=yield this.fetchEndpoints(),r=this.authData.readIdToken();if(!r)throw new Error("No id token stored. Could not logout.");const o=new URLSearchParams(t?{callback_url:t}:{}).toString(),i=new URLSearchParams({id_token_hint:r,post_logout_redirect_uri:o?`${e}?${o}`:e}).toString();return`${n.end_session_endpoint}?${i}`}))}resumeLogout(e){return c(this,arguments,void 0,(function*({url:e,authSignOut:t=(()=>Tp.signOut())}){var n;const r=new URL(e).searchParams.get("callback_url");try{yield t()}catch(e){throw null===(n=this.logger)||void 0===n||n.error({category:Kv,message:"Error calling the external auth signout",error:e,code:"OS-CLRT-40108"}),e}return this.authData.clearAuthData(),this.userInfo.clear(),r?decodeURIComponent(r):null}))}}Yv=new WeakMap;var Qv={};!function(e,t){var n=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",s="[object Map]",a="[object Promise]",u="[object Set]",c="[object WeakMap]",l="[object DataView]",d=/^\[object .+?Constructor\]$/,f="object"==typeof Ye&&Ye&&Ye.Object===Object&&Ye,h="object"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),v=t&&!t.nodeType&&t,g=v&&e&&!e.nodeType&&e,m=g&&g.exports===v;var y,w,b,S=Function.prototype,_=Object.prototype,E=p["__core-js_shared__"],C=(y=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",A=S.toString,k=_.hasOwnProperty,P=_.toString,x=RegExp("^"+A.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=m?p.Buffer:void 0,T=_.propertyIsEnumerable,O=I?I.isBuffer:void 0,U=(w=Object.keys,b=Object,function(e){return w(b(e))}),N=W(p,"DataView"),M=W(p,"Map"),R=W(p,"Promise"),L=W(p,"Set"),F=W(p,"WeakMap"),D=!T.call({valueOf:1},"valueOf"),j=H(N),z=H(M),q=H(R),B=H(L),$=H(F);function G(e){if(!X(e)||function(e){return!!C&&C in e}(e))return!1;var t=Q(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?x:d;return t.test(H(e))}function W(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return G(n)?n:void 0}var V=function(e){return P.call(e)};function H(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function K(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Y(e)}(e)&&k.call(e,"callee")&&(!T.call(e,"callee")||P.call(e)==r)}(N&&V(new N(new ArrayBuffer(1)))!=l||M&&V(new M)!=s||R&&V(R.resolve())!=a||L&&V(new L)!=u||F&&V(new F)!=c)&&(V=function(e){var t=P.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?H(n):void 0;if(r)switch(r){case j:return l;case z:return s;case q:return a;case B:return u;case $:return c}return t});var J=Array.isArray;function Y(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!Q(e)}var Z=O||function(){return!1};function Q(e){var t=X(e)?P.call(e):"";return t==o||t==i}function X(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if(Y(e)&&(J(e)||"string"==typeof e||"function"==typeof e.splice||Z(e)||K(e)))return!e.length;var t=V(e);if(t==s||t==u)return!e.size;if(D||function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_)}(e))return!U(e).length;for(var n in e)if(k.call(e,n))return!1;return!0}}({get exports(){return Qv},set exports(e){Qv=e}},Qv);var Xv=Qv,eg={};!function(e,t){var n="__lodash_hash_undefined__",r=1,o=2,i=1/0,s=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",d="[object Error]",f="[object Function]",h="[object GeneratorFunction]",p="[object Map]",v="[object Number]",g="[object Object]",m="[object Promise]",y="[object RegExp]",w="[object Set]",b="[object String]",S="[object Symbol]",_="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,P=/^\./,x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,T=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,U={};U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U[a]=U[u]=U[E]=U[c]=U[C]=U[l]=U[d]=U[f]=U[p]=U[v]=U[g]=U[y]=U[w]=U[b]=U[_]=!1;var N="object"==typeof Ye&&Ye&&Ye.Object===Object&&Ye,M="object"==typeof self&&self&&self.Object===Object&&self,R=N||M||Function("return this")(),L=t&&!t.nodeType&&t,F=L&&e&&!e.nodeType&&e,D=F&&F.exports===L&&N.process,j=function(){try{return D&&D.binding("util")}catch(e){}}(),z=j&&j.isTypedArray;function q(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function B(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function $(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function W(e,t){return function(n){return e(t(n))}}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var H,K=Array.prototype,J=Function.prototype,Y=Object.prototype,Z=R["__core-js_shared__"],Q=(H=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",X=J.toString,ee=Y.hasOwnProperty,te=Y.toString,ne=RegExp("^"+X.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=R.Symbol,oe=R.Uint8Array,ie=W(Object.getPrototypeOf,Object),se=Y.propertyIsEnumerable,ae=K.splice,ue=Object.getOwnPropertySymbols,ce=W(Object.keys,Object),le=qe(R,"DataView"),de=qe(R,"Map"),fe=qe(R,"Promise"),he=qe(R,"Set"),pe=qe(R,"WeakMap"),ve=qe(Object,"create"),ge=Xe(le),me=Xe(de),ye=Xe(fe),we=Xe(he),be=Xe(pe),Se=re?re.prototype:void 0,_e=Se?Se.valueOf:void 0,Ee=Se?Se.toString:void 0;function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){var t=-1,n=e?e.length:0;for(this.__data__=new ke;++t<n;)this.add(e[t])}function xe(e){this.__data__=new Ae(e)}function Ie(e,t){var n=rt(e)||nt(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ee.call(e,i)||o&&("length"==i||We(i,r))||n.push(i);return n}function Te(e,t){for(var n=e.length;n--;)if(tt(e[n][0],t))return n;return-1}function Oe(e,t){for(var n=0,r=(t=Ve(t,e)?[t]:Fe(t)).length;null!=e&&n<r;)e=e[Qe(t[n++])];return n&&n==r?e:void 0}function Ue(e,t){return null!=e&&t in Object(e)}function Ne(e,t,n,i,s){return e===t||(null==e||null==t||!at(e)&&!ut(t)?e!=e&&t!=t:function(e,t,n,i,s,f){var h=rt(e),m=rt(t),_=u,A=u;h||(_=(_=Ge(e))==a?g:_);m||(A=(A=Ge(t))==a?g:A);var k=_==g&&!$(e),P=A==g&&!$(t),x=_==A;if(x&&!k)return f||(f=new xe),h||dt(e)?De(e,t,n,i,s,f):function(e,t,n,i,s,a,u){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!i(new oe(e),new oe(t)));case c:case l:case v:return tt(+e,+t);case d:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case p:var f=G;case w:var h=a&o;if(f||(f=V),e.size!=t.size&&!h)return!1;var g=u.get(e);if(g)return g==t;a|=r,u.set(e,t);var m=De(f(e),f(t),i,s,a,u);return u.delete(e),m;case S:if(_e)return _e.call(e)==_e.call(t)}return!1}(e,t,_,n,i,s,f);if(!(s&o)){var I=k&&ee.call(e,"__wrapped__"),T=P&&ee.call(t,"__wrapped__");if(I||T){var O=I?e.value():e,U=T?t.value():t;return f||(f=new xe),n(O,U,i,s,f)}}if(!x)return!1;return f||(f=new xe),function(e,t,n,r,i,s){var a=i&o,u=ft(e),c=u.length,l=ft(t),d=l.length;if(c!=d&&!a)return!1;var f=c;for(;f--;){var h=u[f];if(!(a?h in t:ee.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var v=!0;s.set(e,t),s.set(t,e);var g=a;for(;++f<c;){var m=e[h=u[f]],y=t[h];if(r)var w=a?r(y,m,h,t,e,s):r(m,y,h,e,t,s);if(!(void 0===w?m===y||n(m,y,r,i,s):w)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var b=e.constructor,S=t.constructor;b==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S||(v=!1)}return s.delete(e),s.delete(t),v}(e,t,n,i,s,f)}(e,t,Ne,n,i,s))}function Me(e){return!(!at(e)||(t=e,Q&&Q in t))&&(it(e)||$(e)?ne:T).test(Xe(e));var t}function Re(e){return"function"==typeof e?e:null==e?pt:"object"==typeof e?rt(e)?function(e,t){if(Ve(e)&&Ke(t))return Je(Qe(e),t);return function(n){var i=function(e,t,n){var r=null==e?void 0:Oe(e,t);return void 0===r?n:r}(n,e);return void 0===i&&i===t?function(e,t){return null!=e&&function(e,t,n){t=Ve(t,e)?[t]:Fe(t);var r,o=-1,i=t.length;for(;++o<i;){var s=Qe(t[o]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}if(r)return r;i=e?e.length:0;return!!i&&st(i)&&We(s,i)&&(rt(e)||nt(e))}(e,t,Ue)}(n,e):Ne(t,i,void 0,r|o)}}(e[0],e[1]):function(e){var t=function(e){var t=ft(e),n=t.length;for(;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ke(o)]}return t}(e);if(1==t.length&&t[0][2])return Je(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,i){var s=n.length,a=s,u=!i;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var l=(c=n[s])[0],d=e[l],f=c[1];if(u&&c[2]){if(void 0===d&&!(l in e))return!1}else{var h=new xe;if(i)var p=i(d,f,l,e,t,h);if(!(void 0===p?Ne(f,d,i,r|o,h):p))return!1}}return!0}(n,e,t)}}(e):Ve(t=e)?(n=Qe(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return Oe(t,e)}}(t);var t,n}function Le(e){if(!at(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=He(e),n=[];for(var r in e)("constructor"!=r||!t&&ee.call(e,r))&&n.push(r);return n}function Fe(e){return rt(e)?e:Ze(e)}function De(e,t,n,i,s,a){var u=s&o,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var d=a.get(e);if(d&&a.get(t))return d==t;var f=-1,h=!0,p=s&r?new Pe:void 0;for(a.set(e,t),a.set(t,e);++f<c;){var v=e[f],g=t[f];if(i)var m=u?i(g,v,f,t,e,a):i(v,g,f,e,t,a);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!B(t,(function(e,t){if(!p.has(t)&&(v===e||n(v,e,i,s,a)))return p.add(t)}))){h=!1;break}}else if(v!==g&&!n(v,g,i,s,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function je(e){return function(e,t,n){var r=t(e);return rt(e)?r:q(r,n(e))}(e,ht,$e)}function ze(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function qe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(n)?n:void 0}Ce.prototype.clear=function(){this.__data__=ve?ve(null):{}},Ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ce.prototype.get=function(e){var t=this.__data__;if(ve){var r=t[e];return r===n?void 0:r}return ee.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e)},Ce.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?n:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,n=Te(t,e);return!(n<0)&&(n==t.length-1?t.pop():ae.call(t,n,1),!0)},Ae.prototype.get=function(e){var t=this.__data__,n=Te(t,e);return n<0?void 0:t[n][1]},Ae.prototype.has=function(e){return Te(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var n=this.__data__,r=Te(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ke.prototype.clear=function(){this.__data__={hash:new Ce,map:new(de||Ae),string:new Ce}},ke.prototype.delete=function(e){return ze(this,e).delete(e)},ke.prototype.get=function(e){return ze(this,e).get(e)},ke.prototype.has=function(e){return ze(this,e).has(e)},ke.prototype.set=function(e,t){return ze(this,e).set(e,t),this},Pe.prototype.add=Pe.prototype.push=function(e){return this.__data__.set(e,n),this},Pe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new Ae},xe.prototype.delete=function(e){return this.__data__.delete(e)},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ae){var r=n.__data__;if(!de||r.length<199)return r.push([e,t]),this;n=this.__data__=new ke(r)}return n.set(e,t),this};var Be=ue?W(ue,Object):vt,$e=ue?function(e){for(var t=[];e;)q(t,Be(e)),e=ie(e);return t}:vt,Ge=function(e){return te.call(e)};function We(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e,t){if(rt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ct(e))||(k.test(e)||!A.test(e)||null!=t&&e in Object(t))}function He(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function Ke(e){return e==e&&!at(e)}function Je(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(le&&Ge(new le(new ArrayBuffer(1)))!=C||de&&Ge(new de)!=p||fe&&Ge(fe.resolve())!=m||he&&Ge(new he)!=w||pe&&Ge(new pe)!=_)&&(Ge=function(e){var t=te.call(e),n=t==g?e.constructor:void 0,r=n?Xe(n):void 0;if(r)switch(r){case ge:return C;case me:return p;case ye:return m;case we:return w;case be:return _}return t});var Ze=et((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ct(e))return Ee?Ee.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}(t);var n=[];return P.test(e)&&n.push(""),e.replace(x,(function(e,t,r,o){n.push(r?o.replace(I,"$1"):t||e)})),n}));function Qe(e){if("string"==typeof e||ct(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function Xe(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function et(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s),s};return n.cache=new(et.Cache||ke),n}function tt(e,t){return e===t||e!=e&&t!=t}function nt(e){return function(e){return ut(e)&&ot(e)}(e)&&ee.call(e,"callee")&&(!se.call(e,"callee")||te.call(e)==a)}et.Cache=ke;var rt=Array.isArray;function ot(e){return null!=e&&st(e.length)&&!it(e)}function it(e){var t=at(e)?te.call(e):"";return t==f||t==h}function st(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function at(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ut(e){return!!e&&"object"==typeof e}function ct(e){return"symbol"==typeof e||ut(e)&&te.call(e)==S}var lt,dt=z?(lt=z,function(e){return lt(e)}):function(e){return ut(e)&&st(e.length)&&!!U[te.call(e)]};function ft(e){return ot(e)?Ie(e):function(e){if(!He(e))return ce(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}function ht(e){return ot(e)?Ie(e,!0):Le(e)}function pt(e){return e}function vt(){return[]}e.exports=function(e,t){return null==e?{}:function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=e[s];n(a,s)&&(i[s]=a)}return i}(e,je(e),Re(t))}}({get exports(){return eg},set exports(e){eg=e}},eg);var tg,ng,rg,og,ig,sg,ag,ug,cg,lg,dg,fg,hg,pg,vg,gg,mg,yg=eg;const wg={minimumLength:12,upperCaseLetterRequired:!0,lowerCaseLetterRequired:!0,numberRequired:!0,specialCharacterRequired:!0},bg=["OS-ID-BIZ-40001","OS-ID-BIZ-40051","OS-ID-BIZ-50047","OS-ID-BIZ-40415","OS-ID-BIZ-40052"],Sg=["OS-ID-BIZ-40401"];class _g extends Jv{constructor({appKey:e,identityProvider:n,region:r,poolId:o,clientId:i,appUrl:s,baseUrl:a,scope:u,appSyncEndpoint:c=qv,passwordComplexityPolicy:l=wg,authData:d=new zp,httpClient:f=new t.HttpClient({baseUrl:a}),decodeJwt:h=Jp,configureAmplify:p=(e=>ae.configure(e)),logger:v,persistentStorage:g=localStorage,temporaryStorage:m=sessionStorage,endpointRegistration:y="/moduleservices/users/registration",endpointResetPass:w="/moduleservices/users/passwordrecovery",synchronizer:b,isOnline:S,userInfo:_}){var E;super({authData:d,httpClient:f,appUrl:s,appSyncEndpoint:c,scope:u,decodeJwt:h,logger:v,synchronizer:b,isOnline:S,userInfo:_}),tg.add(this),ng.set(this,void 0),rg.set(this,void 0),og.set(this,void 0),ig.set(this,void 0),sg.set(this,void 0),ag.set(this,void 0),ug.set(this,void 0),P(this,ig,g,"f"),P(this,sg,m,"f"),P(this,og,n,"f"),P(this,rg,i,"f"),P(this,ng,l,"f"),P(this,ag,y,"f"),P(this,ug,w,"f");try{p({Auth:{region:r,userPoolId:o,userPoolWebClientId:i}})}catch(e){null===(E=this.logger)||void 0===E||E.error({category:Kv,message:"Error while configuring Amplify",error:e,code:"OS-CLRT-40110"})}}login(e){return c(this,arguments,void 0,(function*({username:e,password:n,newPassword:r,redirectUri:o=`${window.location.protocol}//${window.location.host}/identity`,persistLogin:i=!0,configureAuth:s=(e=>Tp.configure(e)),authSignIn:a=((e,t)=>Tp.signIn(e,t)),completeNewPassword:u=((e,t)=>Tp.completeNewPassword(e,t)),changePassword:c=((e,t,n)=>Tp.changePassword(e,t,n))}){var l,d,f,h,p;try{if(""===n||""===e)throw $p.create({name:qp.InvalidCredentials,message:(""===e?"Username":"Password")+" cannot be empty.",code:"OS-CLRT-40104"});const v=k(this,tg,"m",hg).call(this,o);s({storage:k(this,i?ig:sg,"f")});const g=yield this.fetchEndpoints(),m=yield k(this,tg,"m",dg).call(this,g.authorization_endpoint,v),y=new URL(m).searchParams;let w=y.get("code");const b=yield a(e,n);if("NEW_PASSWORD_REQUIRED"===(null==b?void 0:b.challengeName)&&r?yield u(b,r):r&&(yield c(b,n,r)),!w){const e=null==b?void 0:b.getSignInUserSession();if(!e){const e=new Error("Couldn't find current user session.");throw null===(l=this.logger)||void 0===l||l.error({category:Kv,code:"OS-CLRT-40101",error:e,visibility:Pv.Internal}),e}const n=yield this.httpClient.post({url:k(this,tg,"m",lg).call(this),payload:{clientId:k(this,rg,"f"),idToken:e.getIdToken().getJwtToken(),accessToken:e.getAccessToken().getJwtToken(),refreshToken:e.getRefreshToken().getToken()},contentType:t.ContentType.Json});if(void 0===n){const e=new Error("Couldn't get any response from server while exchanging tokens.");throw null===(d=this.logger)||void 0===d||d.error({category:Kv,code:"OS-CLRT-40100",error:e}),e}const r=n.authCode,o=null!==(f=y.get("redirect_uri"))&&void 0!==f?f:"",i=null!==(h=y.get("state"))&&void 0!==h?h:"",s=yield k(this,tg,"m",fg).call(this,o,r,i);w=null!==(p=new URL(s).searchParams.get("code"))&&void 0!==p?p:""}const S=yield k(this,tg,"m",gg).call(this,g.token_endpoint,w,v);return yield this.storeTokenInfo(S)}catch(e){throw this.authData.clearAuthData(),this.userInfo.clear(),k(this,tg,"m",cg).call(this,e)}}))}sendResetPasswordEmail(e){return c(this,arguments,void 0,(function*({username:e,authForgotPassword:t=(e=>Tp.forgotPassword(e))}){return t(e)}))}confirmRegistration(e){return c(this,arguments,void 0,(function*({username:e,password:t,code:n}){var r;if(!this.validatePasswordComplexityPolicy(t).isValid)throw $p.create({name:qp.PasswordComplexityPolicyFailed,message:"Password complexity policy failed.",code:"OS-CLRT-40106"});const o=yield k(this,tg,"m",vg).call(this,{email:e,verificationCode:n},"REGISTRATION");try{yield this.login({username:e,password:o,newPassword:t})}catch(e){const t=e;throw null===(r=this.logger)||void 0===r||r.error({category:Kv,message:"Error confirming user registration",error:t,code:"OS-CLRT-40100",visibility:Pv.External}),t.name===qp.InvalidCredentials||t.name===qp.TooManyFailedAttempts?$p.create({name:qp.InvalidToken,message:"Invalid temporary password.",code:"OS-CLRT-40107"}):t}}))}changePassword(e){return c(this,arguments,void 0,(function*({username:e,oldPassword:t,newPassword:n,authCurrentAuthenticatedUser:r=(()=>Tp.currentAuthenticatedUser()),authChangePassword:o=((e,t,n)=>Tp.changePassword(e,t,n))}){var i,s,a;let u=null;try{u=yield r()}catch(e){null===(i=this.logger)||void 0===i||i.error({category:Kv,message:"Error in current authenticated user",error:e,code:"OS-CLRT-40101"})}if(!u||e!==(null===(s=null==u?void 0:u.attributes)||void 0===s?void 0:s.preferred_username))throw $p.create({name:qp.InvalidCredentials,message:"Invalid credentials",code:"OS-CLRT-40104"});const c=this.validatePasswordComplexityPolicy(n);if(!n||!c.isValid)throw $p.create({name:qp.PasswordComplexityPolicyFailed,message:"Password complexity policy failed.",code:"OS-CLRT-40106"});try{yield o(u,t,n)}catch(e){const t=k(this,tg,"m",cg).call(this,e);throw null===(a=this.logger)||void 0===a||a.error({category:Kv,message:"Error changing password",error:t,code:t.errorCode,visibility:Pv.External}),t}}))}finishResetPassword(e){return c(this,arguments,void 0,(function*({username:e,resetToken:t,newPassword:n,changePassword:r=((e,t,n)=>this.login({username:e,password:t,newPassword:n}))}){var o;const i=this.validatePasswordComplexityPolicy(n);if(!n||!i.isValid)throw $p.create({name:qp.PasswordComplexityPolicyFailed,message:"Password complexity policy failed.",code:"OS-CLRT-40106"});const s=yield k(this,tg,"m",vg).call(this,{email:e,verificationCode:t},"RESET_PASSWORD");try{yield r(e,s,n)}catch(e){throw null===(o=this.logger)||void 0===o||o.error({category:Kv,message:"Error resetting password",error:e,code:"OS-CLRT-40107",visibility:Pv.External}),$p.create({name:qp.InvalidToken,message:"Invalid password reset token.",code:"OS-CLRT-40107"})}}))}resetPassword(e){return c(this,arguments,void 0,(function*({username:e,resetToken:t,newPassword:n,authForgotPassword:r=((e,t,n)=>Tp.forgotPasswordSubmit(e,t,n))}){var o;const i=this.validatePasswordComplexityPolicy(n);if(!n||!i.isValid)throw $p.create({name:qp.PasswordComplexityPolicyFailed,message:"Password complexity policy failed.",code:"OS-CLRT-40106"});try{yield r(e,t,n)}catch(e){throw null===(o=this.logger)||void 0===o||o.error({category:Kv,message:"Error resetting password",error:e,code:"OS-CLRT-40107",visibility:Pv.External}),$p.create({name:qp.InvalidToken,message:"Invalid password reset token.",code:"OS-CLRT-40107"})}}))}getPasswordComplexityPolicy(){return k(this,ng,"f")}validatePasswordComplexityPolicy(e=""){const t=e.length<k(this,ng,"f").minimumLength,n=k(this,ng,"f").upperCaseLetterRequired&&!/[A-Z]/.test(e),r=k(this,ng,"f").lowerCaseLetterRequired&&!/[a-z]/.test(e),o=k(this,ng,"f").numberRequired&&!/\d/.test(e),i=k(this,ng,"f").specialCharacterRequired&&!/[\^$*.[\]{}()?"!@#%&/\\,><':;|_~`=+\- ]/.test(e);return{isValid:!(t||n||r||o||o||i),missingMinimumLength:t,missingUpperCaseLetter:n,missingLowerCaseLetter:r,missingNumber:o,missingSpecialCharacter:i}}updateUser(e){return c(this,arguments,void 0,(function*({username:e,name:t,pictureUrl:n,authCurrentAuthenticatedUser:r=(()=>Tp.currentAuthenticatedUser()),authUpdateUserAttributes:o=((e,t)=>Tp.updateUserAttributes(e,t))}){var i,s,a;let u=null;try{u=yield r()}catch(e){null===(i=this.logger)||void 0===i||i.error({category:Kv,message:"Error in current authenticated user",error:e,code:"OS-CLRT-40101"})}if(!u||e!==(null===(s=null==u?void 0:u.attributes)||void 0===s?void 0:s.preferred_username))throw $p.create({name:qp.InvalidCredentials,message:"Invalid credentials",code:"OS-CLRT-40104"});try{const e=yg({name:null!=t?t:void 0,given_name:null!=t?t:void 0,family_name:t?" ":void 0,picture:null!=n?n:void 0},(e=>void 0!==e));Xv(e)||(yield o(u,e),this.synchronizeUserInfo())}catch(e){throw null===(a=this.logger)||void 0===a||a.error({category:Kv,message:"Error updating user",error:e,code:"OS-CLRT-40100",visibility:Pv.External}),$p.create({name:qp.UnknownFailure,message:"Unknown failure!",code:"OS-CLRT-40100"})}}))}isExternalUser(){return!1}}var Eg;ng=new WeakMap,rg=new WeakMap,og=new WeakMap,ig=new WeakMap,sg=new WeakMap,ag=new WeakMap,ug=new WeakMap,tg=new WeakSet,cg=function(e){var t,n,r;const o=e;let i=null!==(t=o.name)&&void 0!==t?t:qp.UnknownFailure,s=!o.errorCode||o.errorCode.startsWith("OS-CLRT-6")?"OS-CLRT-40100":o.errorCode;return"NotAuthorizedException"===o.name?(null===(n=o.message)||void 0===n?void 0:n.includes("Incorrect username or password"))?(i=qp.InvalidCredentials,s="OS-CLRT-40104"):(null===(r=o.message)||void 0===r?void 0:r.includes("Password attempts exceeded"))&&(i=qp.TooManyFailedAttempts,s="OS-CLRT-40105"):"LimitExceededException"===o.name&&(i=qp.TooManyFailedAttempts,s="OS-CLRT-40105"),$p.create({name:i,message:o.message,code:s})},lg=function(){return"/identityapi/v1alpha1/oidc/store-token"},dg=function(e,t){return c(this,void 0,void 0,(function*(){const n={client_id:Op,scope:this.scope,redirect_uri:null!=t?t:"",response_type:"code",kc_idp_hint:k(this,og,"f")};return this.httpClient.getResponseUrl({url:e,params:n})}))},fg=function(e,t,n){return c(this,void 0,void 0,(function*(){const r={code:t,state:n};return this.httpClient.getResponseUrl({url:e,params:r})}))},hg=function(e){return e.replace("outsystems://","https://")},pg=function(e){return e&&bg.includes(e)?qp.InvalidToken:e&&Sg.includes(e)?qp.InvalidCredentials:qp.UnknownFailure},vg=function(e,n){return c(this,void 0,void 0,(function*(){var r,o,i,s,a,u,c;try{const o="REGISTRATION"===n?this.buildUrl(k(this,ag,"f")):this.buildUrl(k(this,ug,"f")),i=yield this.httpClient.post({url:o,payload:e,contentType:t.ContentType.Json});if(void 0===i){const e=new Error("Couldn't get any response from server while getting temporary password.");throw null===(r=this.logger)||void 0===r||r.error({category:Kv,code:"OS-CLRT-40100",error:e}),e}return i.registrationToken}catch(e){const t=e,r=null===(o=t.response)||void 0===o?void 0:o.detail,l="Error getting temporary password";throw null===(i=this.logger)||void 0===i||i.error({category:Kv,error:t,message:`${l}: ${null!=r?r:""}`,visibility:Pv.Client}),null===(s=this.logger)||void 0===s||s.error({category:Kv,error:new Error(`[${n}]${l}: code = ${null!==(u=null===(a=t.response)||void 0===a?void 0:a.errorCode)&&void 0!==u?u:"UNKNOWN"}`),visibility:Pv.Internal}),$p.create({name:k(this,tg,"m",pg).call(this,null===(c=t.response)||void 0===c?void 0:c.errorCode),message:l})}}))},gg=function(e,t,n){return c(this,void 0,void 0,(function*(){var r;try{const o=yield this.httpClient.post({url:e,payload:{grant_type:"authorization_code",code:t,client_id:Op,redirect_uri:n}});if(void 0===o){const e=new Error("Couldn't get any response from server while getting tokens.");throw null===(r=this.logger)||void 0===r||r.error({category:Kv,code:"OS-CLRT-40100",error:e}),e}return o}catch(e){throw k(this,tg,"m",mg).call(this,e)}}))},mg=function(e){var t;let n=e instanceof Error?`[Token endpoint] ${e.message}`:"Token endpoint call failed";const r=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.error_description;return r&&(n+=`: ${r}`),$p.create({name:qp.IdentityTokenEndpointFailed,code:"OS-ID-BIZ-40021",message:n})},function(e){e.External="external",e.Builtin="builtin"}(Eg||(Eg={}));var Cg,Ag,kg,Pg,xg,Ig,Tg,Og,Ug,Ng,Mg,Rg,Lg,Fg,Dg,jg,zg,qg,Bg,$g,Gg,Wg,Vg,Hg,Kg,Jg=Eg;class Yg{constructor({info:e,data:t=new zp}){Cg.add(this),Ag.set(this,void 0),kg.set(this,void 0),Pg.set(this,""),P(this,Ag,e,"f"),P(this,kg,t,"f")}setAuthInfo(e,t){P(this,Ag,e,"f"),P(this,kg,new zp,"f");k(this,Cg,"m",Ng).call(this,e)!==k(this,Pg,"f")&&(P(this,Pg,"","f"),k(this,kg,"f").clearAuthData()),t&&P(this,Cg,t,"a",Ig)}getBuiltinAuthInfo(){const e=k(this,Cg,"m",Tg).call(this);if(k(this,Cg,"m",Og).call(this,e))return e}getExternalAuthInfo(e){const t=k(this,Cg,"m",Tg).call(this,e,!0);if(k(this,Cg,"m",Ug).call(this,t))return t}saveConfig(e,t){const n=k(this,Cg,"m",Mg).call(this,t);n&&k(this,kg,"f").storeCurrentAuthConfig(n),P(this,Cg,e,"a",Ig),P(this,Pg,k(this,Cg,"m",Ng).call(this,t),"f")}getAuthType(){return k(this,Cg,"a",xg)}hasChanges(e,t){if(e&&e!==k(this,Cg,"a",xg))return!0;const n=k(this,Cg,"a",xg)===Jg.Builtin?k(this,Cg,"m",Tg).call(this):k(this,Cg,"m",Tg).call(this,t,!0);return k(this,Pg,"f")!==k(this,Cg,"m",Ng).call(this,n)}}Ag=new WeakMap,kg=new WeakMap,Pg=new WeakMap,Cg=new WeakSet,xg=function(){var e;return null!==(e=k(this,kg,"f").readCurrentAuthType())&&void 0!==e?e:void 0},Ig=function(e){e&&k(this,kg,"f").storeCurrentAuthType(e)},Tg=function(e,t=!1){var n;let r=e;return t&&void 0===r&&(r=null!==(n=k(this,kg,"f").readCurrentAuthConfig())&&void 0!==n?n:void 0),Object.assign(Object.assign({},k(this,Ag,"f")),null!=r?r:{})},Og=function(e){return void 0!==e.region&&void 0!==e.poolId&&void 0!==e.clientId&&void 0!==e.identityProvider},Ug=function(e){return void 0!==e.clientId&&void 0!==e.identityProvider},Ng=function(e){const{identityProvider:t,clientId:n,passwordComplexityPolicy:r,poolId:o,region:i}=e,{lowerCaseLetterRequired:s,minimumLength:a,numberRequired:u,specialCharacterRequired:c,upperCaseLetterRequired:l}=null!=r?r:{};return`${t}|${n}|${`${s}${a}|${u}|${c}|${l}`}|${o}|${i}`},Mg=function(e){const{region:t,poolId:n,clientId:r,identityProvider:o}=e;if(r&&o)return{region:t,poolId:n,clientId:r,identityProvider:o}};Lg=new WeakMap,Fg=new WeakMap,Dg=new WeakMap,jg=new WeakMap,zg=new WeakMap,qg=new WeakMap,Bg=new WeakMap,Rg=new WeakSet,$g=function(e,t){switch(e){case Jg.External:return k(this,Rg,"m",Wg).call(this,t);case Jg.Builtin:return k(this,Rg,"m",Vg).call(this);default:throw new Error(`Invalid new auth type: ${e}`)}},Gg=function(e,t,n){P(this,Dg,e,"f"),k(this,qg,"f").saveConfig(t,n)},Wg=function(e){const t=k(this,qg,"f").getExternalAuthInfo(e);k(this,Rg,"m",Hg).call(this,t);const n=new Zv({appKey:k(this,Lg,"f"),appUrl:k(this,Fg,"f"),scope:t.scope,region:t.region,poolId:t.poolId,clientId:t.clientId,identityProvider:t.identityProvider,logger:k(this,jg,"f"),httpClient:k(this,zg,"f"),isOnline:k(this,Bg,"f")});k(this,Rg,"m",Gg).call(this,n,Jg.External,t)},Vg=function(){const e=k(this,qg,"f").getBuiltinAuthInfo();k(this,Rg,"m",Hg).call(this,e);const t=new _g({appKey:k(this,Lg,"f"),appUrl:k(this,Fg,"f"),scope:e.scope,region:e.region,poolId:e.poolId,clientId:e.clientId,identityProvider:e.identityProvider,passwordComplexityPolicy:e.passwordComplexityPolicy,logger:k(this,jg,"f"),httpClient:k(this,zg,"f"),isOnline:k(this,Bg,"f")});k(this,Rg,"m",Gg).call(this,t,Jg.Builtin,e)},Hg=function(e){var t;if(!e){const e=$p.create({name:"Error loading auth configuration",message:"Identity provider configurations missing.",code:"OS-CLRT-40109"});throw null===(t=k(this,jg,"f"))||void 0===t||t.error({category:Kv,message:e.message,error:e,code:e.errorCode,visibility:Pv.External}),e}},function(e){e.Auth_Default="OS-CLRT-40100",e.Auth_No_Login="OS-CLRT-40101",e.Auth_Invalid_Mechanism="OS-CLRT-40102",e.Auth_Invalid_RefreshToken="OS-CLRT-40103",e.Auth_Invalid_Credentials="OS-CLRT-40104",e.Auth_Login_Attempts="OS-CLRT-40105",e.Auth_Password_Policy="OS-CLRT-40106",e.Auth_Invalid_Inputs="OS-CLRT-40107",e.Auth_Logout_Failed="OS-CLRT-40108",e.Auth_No_Configuration="OS-CLRT-40109",e.Auth_Configuration_Failed="OS-CLRT-40110",e.Auth_UserIdMissing="OS-CLRT-40111",e.Auth_RefreshToken_Unavailable="OS-CLRT-40112",e.AuthZ_Default="OS-CLRT-40300",e.AuthZ_Screen_No_Roles="OS-CLRT-40301",e.AuthZ_No_Permissions="OS-CLRT-40302",e.AuthZ_Not_Registered="OS-CLRT-40303",e.IdentityTokenFailure="OS-ID-BIZ-40021"}(Kg||(Kg={}));var Zg=Kg;e.AuthError=Bp,e.AuthErrorCode=Zg,e.AuthFactory=class{constructor({appKey:e,identityProvider:t,appUrl:n,region:r,poolId:o,clientId:i,scope:s="",passwordComplexityPolicy:a,authData:u=new zp,authInstance:c,logger:l,httpClient:d,configHandler:f=new Yg({info:{identityProvider:t,clientId:i,passwordComplexityPolicy:a,poolId:o,region:r,scope:s},data:u}),isOnline:h}){Rg.add(this),Lg.set(this,void 0),Fg.set(this,void 0),Dg.set(this,void 0),jg.set(this,void 0),zg.set(this,void 0),qg.set(this,void 0),Bg.set(this,void 0),P(this,Lg,e,"f"),P(this,Fg,n,"f"),P(this,Dg,c,"f"),P(this,jg,l,"f"),P(this,zg,d,"f"),P(this,qg,f,"f"),P(this,Bg,h,"f")}getInstance(e,t){var n;const r=null!=e?e:k(this,qg,"f").getAuthType(),o=k(this,qg,"f").hasChanges(e,t),i=!!(null===(n=k(this,Dg,"f"))||void 0===n?void 0:n.isAuthenticated());if(!k(this,Dg,"f")&&r)k(this,Rg,"m",$g).call(this,r,t);else if(!i&&r&&o)k(this,Rg,"m",$g).call(this,r,t);else if(i&&o)throw new Error("Error getting new instance of auth because a user is already authenticated using another mechanism");return k(this,Dg,"f")}updateConfig(e,t){k(this,qg,"f").setAuthInfo(e,t)}},e.AuthType=Jg,e.BuiltinAuth=_g,e.ExternalAuth=Zv,e.FailureReasons=qp,e.Version="1.3.2",Object.defineProperty(e,"__esModule",{value:!0})}));
